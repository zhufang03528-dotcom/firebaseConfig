var e=Object.defineProperty,t=(t,n,r)=>((t,n,r)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r)(t,"symbol"!=typeof n?n+"":n,r);function n(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i,o,a={exports:{}},s={};var l,u,c=(o||(o=1,a.exports=function(){if(i)return s;i=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==n.key&&(i=""+n.key),"key"in n)for(var o in r={},n)"key"!==o&&(r[o]=n[o]);else r=n;return n=r.ref,{$$typeof:e,type:t,key:i,ref:void 0!==n?n:null,props:r}}return s.Fragment=t,s.jsx=n,s.jsxs=n,s}()),a.exports),d={exports:{}},h={};function f(){if(l)return h;l=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var E=w.prototype=new b;E.constructor=w,g(E,v.prototype),E.isPureReactComponent=!0;var S=Array.isArray;function _(){}var x={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function O(t,n,r){var i=r.ref;return{$$typeof:e,type:t,key:n,ref:void 0!==i?i:null,props:r}}function I(t){return"object"==typeof t&&null!==t&&t.$$typeof===e}var C=/\/+/g;function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function k(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var l,u,c=!1;if(null===n)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;break;case d:return k((c=n._init)(n._payload),r,i,o,a)}}if(c)return a=a(n),c=""===o?"."+A(n,0):o,S(a)?(i="",null!=c&&(i=c.replace(C,"$&/")+"/"),k(a,r,i,"",function(e){return e})):null!=a&&(I(a)&&(l=a,u=i+(null==a.key||n&&n.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+c,a=O(l.type,u,l.props)),r.push(a)),1;c=0;var h,f=""===o?".":o+":";if(S(n))for(var m=0;m<n.length;m++)c+=k(o=n[m],r,i,s=f+A(o,m),a);else if("function"==typeof(m=null===(h=n)||"object"!=typeof h?null:"function"==typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(n=m.call(n),m=0;!(o=n.next()).done;)c+=k(o=o.value,r,i,s=f+A(o,m++),a);else if("object"===s){if("function"==typeof n.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(_,_):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(n),r,i,o,a);throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return c}function P(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",function(e){return t.call(n,e,i++)}),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},D={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};return h.Activity=f,h.Children=D,h.Component=v,h.Fragment=n,h.Profiler=i,h.PureComponent=w,h.StrictMode=r,h.Suspense=u,h.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,h.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},h.cache=function(e){return function(){return e.apply(null,arguments)}},h.cacheSignal=function(){return null},h.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.key&&(i=""+t.key),t)!T.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return O(e.type,i,r)},h.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},h.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return O(e,o,i)},h.createRef=function(){return{current:null}},h.forwardRef=function(e){return{$$typeof:s,render:e}},h.isValidElement=I,h.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},h.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},h.startTransition=function(e){var t=x.T,n={};x.T=n;try{var r=e(),i=x.S;null!==i&&i(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(_,R)}catch(o){R(o)}finally{null!==t&&null!==n.types&&(t.types=n.types),x.T=t}},h.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},h.use=function(e){return x.H.use(e)},h.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},h.useCallback=function(e,t){return x.H.useCallback(e,t)},h.useContext=function(e){return x.H.useContext(e)},h.useDebugValue=function(){},h.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},h.useEffect=function(e,t){return x.H.useEffect(e,t)},h.useEffectEvent=function(e){return x.H.useEffectEvent(e)},h.useId=function(){return x.H.useId()},h.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},h.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},h.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},h.useMemo=function(e,t){return x.H.useMemo(e,t)},h.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},h.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},h.useRef=function(e){return x.H.useRef(e)},h.useState=function(e){return x.H.useState(e)},h.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},h.useTransition=function(){return x.H.useTransition()},h.version="19.2.3",h}function p(){return u||(u=1,d.exports=f()),d.exports}var m=p();const g=r(m),y=n({__proto__:null,default:g},[m]);var v,b,w={exports:{}},E={},S={exports:{}},_={};function x(){return b||(b=1,S.exports=(v||(v=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function E(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,_||(_=!0,S());else{var t=n(u);null!==t&&P(E,t.startTime-e)}}var S,_=!1,x=-1,T=5,O=-1;function I(){return!(!g&&e.unstable_now()-O<T)}function C(){if(g=!1,_){var t=e.unstable_now();O=t;var i=!0;try{e:{p=!1,m&&(m=!1,v(x),x=-1),f=!0;var o=h;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&I());){var a=d.callback;if("function"==typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){d.callback=s,w(t),i=!0;break t}d===n(l)&&r(l),w(t)}else r(l);d=n(l)}if(null!==d)i=!0;else{var c=n(u);null!==c&&P(E,c.startTime-t),i=!1}}break e}finally{d=null,h=o,f=!1}i=void 0}}finally{i?S():_=!1}}}if("function"==typeof b)S=function(){b(C)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,k=A.port2;A.port1.onmessage=C,S=function(){k.postMessage(null)}}else S=function(){y(C,0)};function P(t,n){x=y(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(T=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},e.unstable_scheduleCallback=function(r,i,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(r.sortIndex=o,t(u,r),null===n(l)&&r===n(u)&&(m?(v(x),x=-1):m=!0,P(E,o-a))):(r.sortIndex=s,t(l,r),p||f||(p=!0,_||(_=!0,S()))),r},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}}(_)),_)),S.exports}var T,O,I,C,A={exports:{}},k={};function P(){if(T)return k;T=1;var e=p();function t(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}return k.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,k.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!n||1!==n.nodeType&&9!==n.nodeType&&11!==n.nodeType)throw Error(t(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:i,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,n,null,r)},k.flushSync=function(e){var t=o.T,n=r.p;try{if(o.T=null,r.p=2,e)return e()}finally{o.T=t,r.p=n,r.d.f()}},k.preconnect=function(e,t){"string"==typeof e&&(t?t="string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,r.d.C(e,t))},k.prefetchDNS=function(e){"string"==typeof e&&r.d.D(e)},k.preinit=function(e,t){if("string"==typeof e&&t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin),o="string"==typeof t.integrity?t.integrity:void 0,s="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?r.d.S(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:s}):"script"===n&&r.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:s,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},k.preinitModule=function(e,t){if("string"==typeof e)if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=a(t.as,t.crossOrigin);r.d.M(e,{crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&r.d.M(e)},k.preload=function(e,t){if("string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var n=t.as,i=a(n,t.crossOrigin);r.d.L(e,n,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0,media:"string"==typeof t.media?t.media:void 0})}},k.preloadModule=function(e,t){if("string"==typeof e)if(t){var n=a(t.as,t.crossOrigin);r.d.m(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else r.d.m(e)},k.requestFormReset=function(e){r.d.r(e)},k.unstable_batchedUpdates=function(e,t){return e(t)},k.useFormState=function(e,t,n){return o.H.useFormState(e,t,n)},k.useFormStatus=function(){return o.H.useHostTransitionStatus()},k.version="19.2.3",k}function N(){if(O)return A.exports;return O=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),A.exports=P(),A.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function R(){if(I)return E;I=1;var e=x(),t=p(),n=N();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function s(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(r(188))}function u(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=u(e)))return t;e=e.sibling}return null}var c=Object.assign,d=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),v=Symbol.for("react.consumer"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function P(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function D(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case m:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case _:return"SuspenseList";case C:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case f:return"Portal";case b:return e.displayName||"Context";case v:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:D(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return D(e(t))}catch(n){}}return null}var M=Array.isArray,j=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U={pending:!1,data:null,method:null,action:null},F=[],V=-1;function z(e){return{current:e}}function q(e){0>V||(e.current=F[V],F[V]=null,V--)}function B(e,t){V++,F[V]=e.current,e.current=t}var H,$,G=z(null),K=z(null),W=z(null),J=z(null);function Y(e,t){switch(B(W,t),B(K,e),B(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}q(G),B(G,e)}function X(){q(G),q(K),q(W)}function Q(e){null!==e.memoizedState&&B(J,e);var t=G.current,n=wd(t,e.type);t!==n&&(B(K,e),B(G,n))}function Z(e){K.current===e&&(q(G),q(K)),J.current===e&&(q(J),hh._currentValue=U)}function ee(e){if(void 0===H)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);H=t&&t[1]||"",$=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+H+e+$}var te=!1;function ne(e,t){if(!e||te)return"";te=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"==typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),u=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==u[i]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=i);break}}}finally{te=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ee(n):""}function re(e,t){switch(e.tag){case 26:case 27:case 5:return ee(e.type);case 16:return ee("Lazy");case 13:return e.child!==t&&null!==t?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return ne(e.type,!1);case 11:return ne(e.type.render,!1);case 1:return ne(e.type,!0);case 31:return ee("Activity");default:return""}}function ie(e){try{var t="",n=null;do{t+=re(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var oe=Object.prototype.hasOwnProperty,ae=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,le=e.unstable_shouldYield,ue=e.unstable_requestPaint,ce=e.unstable_now,de=e.unstable_getCurrentPriorityLevel,he=e.unstable_ImmediatePriority,fe=e.unstable_UserBlockingPriority,pe=e.unstable_NormalPriority,me=e.unstable_LowPriority,ge=e.unstable_IdlePriority,ye=e.log,ve=e.unstable_setDisableYieldValue,be=null,we=null;function Ee(e){if("function"==typeof ye&&ve(e),we&&"function"==typeof we.setStrictMode)try{we.setStrictMode(be,e)}catch(t){}}var Se=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/xe|0)|0},_e=Math.log,xe=Math.LN2;var Te=256,Oe=262144,Ie=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ae(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=Ce(r):0!==(a&=s)?i=Ce(a):n||0!==(n=s&~e)&&(i=Ce(n)):0!==(s=r&~o)?i=Ce(s):0!==a?i=Ce(a):n||0!==(n=r&~e)&&(i=Ce(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&4194048&n)?t:i}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=Ie;return!(62914560&(Ie<<=1))&&(Ie=4194304),e}function Re(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function De(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Me(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Se(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function je(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Se(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=42&n?1:Ue(n))&(e.suspendedLanes|t))?0:n}function Ue(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fe(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Ve(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function ze(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var qe=Math.random().toString(36).slice(2),Be="__reactFiber$"+qe,He="__reactProps$"+qe,$e="__reactContainer$"+qe,Ge="__reactEvents$"+qe,Ke="__reactListeners$"+qe,We="__reactHandles$"+qe,Je="__reactResources$"+qe,Ye="__reactMarker$"+qe;function Xe(e){delete e[Be],delete e[He],delete e[Ge],delete e[Ke],delete e[We]}function Qe(e){var t=e[Be];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$e]||n[Be]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ud(e);null!==e;){if(n=e[Be])return n;e=Ud(e)}return t}n=(e=n).parentNode}return null}function Ze(e){if(e=e[Be]||e[$e]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function et(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(r(33))}function tt(e){var t=e[Je];return t||(t=e[Je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ye]=!0}var rt=new Set,it={};function ot(e,t){at(e,t),at(e+"Capture",t)}function at(e,t){for(it[e]=t,e=0;e<t.length;e++)rt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lt={},ut={};function ct(e,t,n){if(i=t,oe.call(ut,i)||!oe.call(lt,i)&&(st.test(i)?ut[i]=!0:(lt[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function dt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ht(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function mt(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function gt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function yt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(eF){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ft(t)):e.value!==""+ft(t)&&(e.value=""+ft(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?St(e,a,ft(t)):null!=n?St(e,a,ft(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!=typeof i&&"symbol"!=typeof i),null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s?e.name=""+ft(s):e.removeAttribute("name")}function Et(e,t,n,r,i,o,a,s){if(null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o&&(e.type=o),null!=t||null!=n){if(("submit"===o||"reset"===o)&&null==t)return void mt(e);n=null!=n?""+ft(n):"",t=null!=t?""+ft(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!=typeof(r=null!=r?r:i)&&"symbol"!=typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),mt(e)}function St(e,t,n){"number"===t&&yt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ft(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ft(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ft(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Tt(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(r(92));if(M(i)){if(1<i.length)throw Error(r(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ft(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i),mt(e)}function Ot(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var It=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!=typeof n||0===n||It.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function At(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(r(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&Ct(e,o,i)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rt(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dt(){}var Mt=null;function jt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ut=null;function Ft(e){var t=Ze(e);if(t&&(e=t.stateNode)){var n=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[He]||null;if(!o)throw Error(r(90));wt(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&gt(i)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Vt=!1;function zt(e,t,n){if(Vt)return e(t,n);Vt=!0;try{return e(t)}finally{if(Vt=!1,(null!==Lt||null!==Ut)&&(tc(),Lt&&(t=Lt,e=Ut,Ut=Lt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function qt(e,t){var n=e.stateNode;if(null===n)return null;var i=n[He]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(r(231,t,typeof n));return n}var Bt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Ht=!1;if(Bt)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch(eF){Ht=!1}var Gt=null,Kt=null,Wt=null;function Jt(){if(Wt)return Wt;var e,t,n=Kt,r=n.length,i="value"in Gt?Gt.value:Gt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Yt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Qt(){return!1}function Zt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:Qt,this.isPropagationStopped=Qt,this}return c(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},on=Zt(rn),an=c({},rn,{view:0,detail:0}),sn=Zt(an),ln=c({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),un=Zt(ln),cn=Zt(c({},ln,{dataTransfer:0})),dn=Zt(c({},an,{relatedTarget:0})),hn=Zt(c({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),fn=Zt(c({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Zt(c({},rn,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=yn[e])&&!!t[e]}function bn(){return vn}var wn=Zt(c({},an,{key:function(e){if(e.key){var t=mn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Yt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Yt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Yt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=Zt(c({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=Zt(c({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),_n=Zt(c({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Zt(c({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=Zt(c({},rn,{newState:0,oldState:0})),On=[9,13,27,32],In=Bt&&"CompositionEvent"in window,Cn=null;Bt&&"documentMode"in document&&(Cn=document.documentMode);var An=Bt&&"TextEvent"in window&&!Cn,kn=Bt&&(!In||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),Nn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Mn=!1;var jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jn[e.type]:"textarea"===t}function Un(e,t,n,r){Lt?Ut?Ut.push(r):Ut=[r]:Lt=r,0<(t=od(t,"onChange")).length&&(n=new on("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,Vn=null;function zn(e){Xc(e,0)}function qn(e){if(gt(et(e)))return e}function Bn(e,t){if("change"===e)return t}var Hn=!1;if(Bt){var $n;if(Bt){var Gn="oninput"in document;if(!Gn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Gn="function"==typeof Kn.oninput}$n=Gn}else $n=!1;Hn=$n&&(!document.documentMode||9<document.documentMode)}function Wn(){Fn&&(Fn.detachEvent("onpropertychange",Jn),Vn=Fn=null)}function Jn(e){if("value"===e.propertyName&&qn(Vn)){var t=[];Un(t,Vn,e,jt(e)),zt(zn,t)}}function Yn(e,t,n){"focusin"===e?(Wn(),Vn=n,(Fn=t).attachEvent("onpropertychange",Jn)):"focusout"===e&&Wn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Vn)}function Qn(e,t){if("click"===e)return qn(t)}function Zn(e,t){if("input"===e||"change"===e)return qn(t)}var er="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function tr(e,t){if(er(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!oe.call(t,i)||!er(e[i],t[i]))return!1}return!0}function nr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rr(e,t){var n,r=nr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nr(r)}}function ir(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ir(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function or(e){for(var t=yt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=yt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Bt&&"documentMode"in document&&11>=document.documentMode,lr=null,ur=null,cr=null,dr=!1;function hr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;dr||null==lr||lr!==yt(r)||("selectionStart"in(r=lr)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&tr(cr,r)||(cr=r,0<(r=od(ur,"onSelect")).length&&(t=new on("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function fr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:fr("Animation","AnimationEnd"),animationiteration:fr("Animation","AnimationIteration"),animationstart:fr("Animation","AnimationStart"),transitionrun:fr("Transition","TransitionRun"),transitionstart:fr("Transition","TransitionStart"),transitioncancel:fr("Transition","TransitionCancel"),transitionend:fr("Transition","TransitionEnd")},mr={},gr={};function yr(e){if(mr[e])return mr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return mr[e]=n[t];return e}Bt&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=yr("animationend"),br=yr("animationiteration"),wr=yr("animationstart"),Er=yr("transitionrun"),Sr=yr("transitionstart"),_r=yr("transitioncancel"),xr=yr("transitionend"),Tr=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Tr.set(e,t),ot(t,[e])}Or.push("scrollEnd");var Cr="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ar=[],kr=0,Pr=0;function Nr(){for(var e=kr,t=Pr=kr=0;t<e;){var n=Ar[t];Ar[t++]=null;var r=Ar[t];Ar[t++]=null;var i=Ar[t];Ar[t++]=null;var o=Ar[t];if(Ar[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&jr(n,i,o)}}function Rr(e,t,n,r){Ar[kr++]=e,Ar[kr++]=t,Ar[kr++]=n,Ar[kr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,t,n,r){return Rr(e,t,n,r),Lr(e)}function Mr(e,t){return Rr(e,null,null,t),Lr(e)}function jr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-Se(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Lr(e){if(50<Gu)throw Gu=0,Ku=null,Error(r(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ur={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function qr(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,n,i,o,a){var s=0;if(i=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,G.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=Vr(31,n,t,o)).elementType=C,e.lanes=a,e;case m:return $r(n.children,o,a,t);case g:s=8,o|=24;break;case y:return(e=Vr(12,n,t,2|o)).elementType=y,e.lanes=a,e;case S:return(e=Vr(13,n,t,o)).elementType=S,e.lanes=a,e;case _:return(e=Vr(19,n,t,o)).elementType=_,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case b:s=10;break e;case v:s=9;break e;case w:s=11;break e;case T:s=14;break e;case O:s=16,i=null;break e}s=29,n=Error(r(130,null===e?"null":typeof e,"")),i=null}return(t=Vr(s,n,t,o)).elementType=e,t.type=i,t.lanes=a,t}function $r(e,t,n,r){return(e=Vr(7,e,r,t)).lanes=n,e}function Gr(e,t,n){return(e=Vr(6,e,null,t)).lanes=n,e}function Kr(e){var t=Vr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Jr=new WeakMap;function Yr(e,t){if("object"==typeof e&&null!==e){var n=Jr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ie(t)},Jr.set(e,t),t)}return{value:e,source:t,stack:ie(t)}}var Xr=[],Qr=0,Zr=null,ei=0,ti=[],ni=0,ri=null,ii=1,oi="";function ai(e,t){Xr[Qr++]=ei,Xr[Qr++]=Zr,Zr=e,ei=t}function si(e,t,n){ti[ni++]=ii,ti[ni++]=oi,ti[ni++]=ri,ri=e;var r=ii;e=oi;var i=32-Se(r)-1;r&=~(1<<i),n+=1;var o=32-Se(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ii=1<<32-Se(t)+i|n<<i|r,oi=o+e}else ii=1<<o|n<<i|r,oi=e}function li(e){null!==e.return&&(ai(e,1),si(e,1,0))}function ui(e){for(;e===Zr;)Zr=Xr[--Qr],Xr[Qr]=null,ei=Xr[--Qr],Xr[Qr]=null;for(;e===ri;)ri=ti[--ni],ti[ni]=null,oi=ti[--ni],ti[ni]=null,ii=ti[--ni],ti[ni]=null}function ci(e,t){ti[ni++]=ii,ti[ni++]=oi,ti[ni++]=ri,ii=t.id,oi=t.overflow,ri=e}var di=null,hi=null,fi=!1,pi=null,mi=!1,gi=Error(r(519));function yi(e){throw _i(Yr(Error(r(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Be]=e,t[He]=r,n){case"dialog":Qc("cancel",t),Qc("close",t);break;case"iframe":case"object":case"embed":Qc("load",t);break;case"video":case"audio":for(n=0;n<Jc.length;n++)Qc(Jc[n],t);break;case"source":Qc("error",t);break;case"img":case"image":case"link":Qc("error",t),Qc("load",t);break;case"details":Qc("toggle",t);break;case"input":Qc("invalid",t),Et(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qc("invalid",t);break;case"textarea":Qc("invalid",t),Tt(t,r.value,r.defaultValue,r.children)}"string"!=typeof(n=r.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||dd(t.textContent,n)?(null!=r.popover&&(Qc("beforetoggle",t),Qc("toggle",t)),null!=r.onScroll&&Qc("scroll",t),null!=r.onScrollEnd&&Qc("scrollend",t),null!=r.onClick&&(t.onclick=Dt),t=!0):t=!1,t||yi(e,!0)}function bi(e){for(di=e.return;di;)switch(di.tag){case 5:case 31:case 13:return void(mi=!1);case 27:case 3:return void(mi=!0);default:di=di.return}}function wi(e){if(e!==di)return!1;if(!fi)return bi(e),fi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||Ed(e.type,e.memoizedProps)),t=!t),t&&hi&&yi(e),bi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));hi=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));hi=Ld(e)}else 27===n?(n=hi,Cd(e.type)?(e=jd,jd=null,hi=e):hi=n):hi=di?Md(e.stateNode.nextSibling):null;return!0}function Ei(){hi=di=null,fi=!1}function Si(){var e=pi;return null!==e&&(null===Nu?Nu=e:Nu.push.apply(Nu,e),pi=null),e}function _i(e){null===pi?pi=[e]:pi.push(e)}var xi=z(null),Ti=null,Oi=null;function Ii(e,t,n){B(xi,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=xi.current,q(xi)}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ki(e,t,n,i){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ai(a.return,n,e),i||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(r(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),Ai(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Pi(e,t,n,i){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(524288&o.flags)a=!0;else if(262144&o.flags)break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(r(387));if(null!==(s=s.memoizedProps)){var l=o.type;er(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===J.current){if(null===(s=o.alternate))throw Error(r(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(hh):e=[hh])}o=o.return}null!==e&&ki(t,e,n,i),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!er(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Ti=e,Oi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return ji(Ti,e)}function Mi(e,t){return null===Ti&&Ri(e),ji(e,t)}function ji(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Oi){if(null===e)throw Error(r(308));Oi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Oi=Oi.next=t;return n}var Li="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ui=e.unstable_scheduleCallback,Fi=e.unstable_NormalPriority,Vi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Li,data:new Map,refCount:0}}function qi(e){e.refCount--,0===e.refCount&&Ui(Fi,function(){e.controller.abort()})}var Bi=null,Hi=0,$i=0,Gi=null;function Ki(){if(0===--Hi&&null!==Bi){null!==Gi&&(Gi.status="fulfilled");var e=Bi;Bi=null,$i=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wi=j.S;j.S=function(e,t){Mu=ce(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];Hi=0,$i=Hc(),Gi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Hi++,t.then(Ki,Ki)}(0,t),null!==Wi&&Wi(e,t)};var Ji=z(null);function Yi(){var e=Ji.current;return null!==e?e:gu.pooledCache}function Xi(e,t){B(Ji,null===t?Ji.current:t.pool)}function Qi(){var e=Yi();return null===e?null:{parent:Vi._currentValue,pool:e}}var Zi=Error(r(460)),eo=Error(r(474)),to=Error(r(542)),no={then:function(){}};function ro(e){return"fulfilled"===(e=e.status)||"rejected"===e}function io(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Dt,Dt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw lo(e=t.reason),e;default:if("string"==typeof t.status)t.then(Dt,Dt);else{if(null!==(e=gu)&&100<e.shellSuspendCounter)throw Error(r(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw lo(e=t.reason),e}throw ao=t,Zi}}function oo(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw ao=t,Zi;throw t}}var ao=null;function so(){if(null===ao)throw Error(r(459));var e=ao;return ao=null,e}function lo(e){if(e===Zi||e===to)throw Error(r(483))}var uo=null,co=0;function ho(e){var t=co;return co+=1,null===uo&&(uo=[]),io(uo,e,t)}function fo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function po(e,t){if(t.$$typeof===d)throw Error(r(525));throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=qr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===m?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===O&&oo(i)===t.type)?(fo(t=o(t,n.props),n),t.return=e,t):(fo(t=Hr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=$r(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Gr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return fo(n=Hr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case f:return(t=Wr(t,e.mode,n)).return=e,t;case O:return p(e,t=oo(t),n)}if(M(t)||P(t))return(t=$r(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return p(e,ho(t),n);if(t.$$typeof===b)return p(e,Mi(e,t),n);po(e,t)}return null}function g(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===i?u(e,t,n,r):null;case f:return n.key===i?c(e,t,n,r):null;case O:return g(e,t,n=oo(n),r)}if(M(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"==typeof n.then)return g(e,t,ho(n),r);if(n.$$typeof===b)return g(e,t,Mi(e,n),r);po(e,n)}return null}function y(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r||"bigint"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return y(e,t,n,r=oo(r),i)}if(M(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"==typeof r.then)return y(e,t,n,ho(r),i);if(r.$$typeof===b)return y(e,t,n,Mi(t,r),i);po(t,r)}return null}function v(l,u,c,d){if("object"==typeof c&&null!==c&&c.type===m&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var w=c.key;null!==u;){if(u.key===w){if((w=c.type)===m){if(7===u.tag){n(l,u.sibling),(d=o(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===w||"object"==typeof w&&null!==w&&w.$$typeof===O&&oo(w)===u.type){n(l,u.sibling),fo(d=o(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===m?((d=$r(c.props.children,l.mode,d,c.key)).return=l,l=d):(fo(d=Hr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case f:e:{for(w=c.key;null!==u;){if(u.key===w){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=o(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Wr(c,l.mode,d)).return=l,l=d}return s(l);case O:return v(l,u,c=oo(c),d)}if(M(c))return function(r,o,s,l){for(var u=null,c=null,d=o,h=o=0,f=null;null!==d&&h<s.length;h++){d.index>h?(f=d,d=null):f=d.sibling;var m=g(r,d,s[h],l);if(null===m){null===d&&(d=f);break}e&&d&&null===m.alternate&&t(r,d),o=a(m,o,h),null===c?u=m:c.sibling=m,c=m,d=f}if(h===s.length)return n(r,d),fi&&ai(r,h),u;if(null===d){for(;h<s.length;h++)null!==(d=p(r,s[h],l))&&(o=a(d,o,h),null===c?u=d:c.sibling=d,c=d);return fi&&ai(r,h),u}for(d=i(d);h<s.length;h++)null!==(f=y(d,r,h,s[h],l))&&(e&&null!==f.alternate&&d.delete(null===f.key?h:f.key),o=a(f,o,h),null===c?u=f:c.sibling=f,c=f);return e&&d.forEach(function(e){return t(r,e)}),fi&&ai(r,h),u}(l,u,c,d);if(P(c)){if("function"!=typeof(w=P(c)))throw Error(r(150));return function(o,s,l,u){if(null==l)throw Error(r(151));for(var c=null,d=null,h=s,f=s=0,m=null,v=l.next();null!==h&&!v.done;f++,v=l.next()){h.index>f?(m=h,h=null):m=h.sibling;var b=g(o,h,v.value,u);if(null===b){null===h&&(h=m);break}e&&h&&null===b.alternate&&t(o,h),s=a(b,s,f),null===d?c=b:d.sibling=b,d=b,h=m}if(v.done)return n(o,h),fi&&ai(o,f),c;if(null===h){for(;!v.done;f++,v=l.next())null!==(v=p(o,v.value,u))&&(s=a(v,s,f),null===d?c=v:d.sibling=v,d=v);return fi&&ai(o,f),c}for(h=i(h);!v.done;f++,v=l.next())null!==(v=y(h,o,f,v.value,u))&&(e&&null!==v.alternate&&h.delete(null===v.key?f:v.key),s=a(v,s,f),null===d?c=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(o,e)}),fi&&ai(o,f),c}(l,u,c=w.call(c),d)}if("function"==typeof c.then)return v(l,u,ho(c),d);if(c.$$typeof===b)return v(l,u,Mi(l,c),d);po(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c||"bigint"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=o(u,c)).return=l,l=d):(n(l,u),(d=Gr(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{co=0;var i=v(e,t,n,r);return uo=null,i}catch(a){if(a===Zi||a===to)throw a;var o=Vr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var go=mo(!0),yo=mo(!1),vo=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Eo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function So(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&mu){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Lr(e),jr(e,null,n),t}return Rr(e,r,t,n),Lr(e)}function _o(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}function xo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var To=!1;function Oo(){if(To){if(null!==Gi)throw Gi}}function Io(e,t,n,r){To=!1;var i=e.updateQueue;vo=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===s?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,d=u=l=null,s=o;;){var f=-536870913&s.lane,p=f!==s.lane;if(p?(vu&f)===f:(r&f)===f){0!==f&&f===$i&&(To=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;f=t;var y=n;switch(g.tag){case 1:if("function"==typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(f="function"==typeof(m=g.payload)?m.call(y,h,f):m))break e;h=c({},h,f);break e;case 2:vo=!0}}null!==(f=s.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(u=d=p,l=h):d=d.next=p,a|=f;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===d&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,null===o&&(i.shared.lanes=0),Ou|=a,e.lanes=a,e.memoizedState=h}}function Co(e,t){if("function"!=typeof e)throw Error(r(191,e));e.call(t)}function Ao(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Co(n[e],t)}var ko=z(null),Po=z(0);function No(e,t){B(Po,e=xu),B(ko,t),xu=e|t.baseLanes}function Ro(){B(Po,xu),B(ko,ko.current)}function Do(){xu=Po.current,q(ko),q(Po)}var Mo=z(null),jo=null;function Lo(e){var t=e.alternate;B(qo,1&qo.current),B(Mo,e),null===jo&&(null===t||null!==ko.current||null!==t.memoizedState)&&(jo=e)}function Uo(e){B(qo,qo.current),B(Mo,e),null===jo&&(jo=e)}function Fo(e){22===e.tag?(B(qo,qo.current),B(Mo,e),null===jo&&(jo=e)):Vo()}function Vo(){B(qo,qo.current),B(Mo,Mo.current)}function zo(e){q(Mo),jo===e&&(jo=null),q(qo)}var qo=z(0);function Bo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rd(n)||Dd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ho=0,$o=null,Go=null,Ko=null,Wo=!1,Jo=!1,Yo=!1,Xo=0,Qo=0,Zo=null,ea=0;function ta(){throw Error(r(321))}function na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!er(e[n],t[n]))return!1;return!0}function ra(e,t,n,r,i,o){return Ho=o,$o=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=null===e||null===e.memoizedState?vs:bs,Yo=!1,o=n(r,i),Yo=!1,Jo&&(o=oa(t,n,r,i)),ia(e),o}function ia(e){j.H=ys;var t=null!==Go&&null!==Go.next;if(Ho=0,Ko=Go=$o=null,Wo=!1,Qo=0,Zo=null,t)throw Error(r(300));null===e||Ms||null!==(e=e.dependencies)&&Ni(e)&&(Ms=!0)}function oa(e,t,n,i){$o=e;var o=0;do{if(Jo&&(Zo=null),Qo=0,Jo=!1,25<=o)throw Error(r(301));if(o+=1,Ko=Go=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}j.H=ws,a=t(n,i)}while(Jo);return a}function aa(){var e=j.H,t=e.useState()[0];return t="function"==typeof t.then?ha(t):t,e=e.useState()[0],(null!==Go?Go.memoizedState:null)!==e&&($o.flags|=1024),t}function sa(){var e=0!==Xo;return Xo=0,e}function la(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ua(e){if(Wo){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wo=!1}Ho=0,Ko=Go=$o=null,Jo=!1,Qo=Xo=0,Zo=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?$o.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function da(){if(null===Go){var e=$o.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===Ko?$o.memoizedState:Ko.next;if(null!==t)Ko=t,Go=e;else{if(null===e){if(null===$o.alternate)throw Error(r(467));throw Error(r(310))}e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Ko?$o.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function ha(e){var t=Qo;return Qo+=1,null===Zo&&(Zo=[]),e=io(Zo,e,t),t=$o,null===(null===Ko?t.memoizedState:Ko.next)&&(t=t.alternate,j.H=null===t||null===t.memoizedState?vs:bs),e}function fa(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return ha(e);if(e.$$typeof===b)return Di(e)}throw Error(r(438,String(e)))}function pa(e){var t=null,n=$o.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=$o.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$o.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function ma(e,t){return"function"==typeof t?t(e):t}function ga(e){return ya(da(),Go,e)}function ya(e,t,n){var i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=n;var o=e.baseQueue,a=i.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,i.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,d=!1;do{var h=-536870913&c.lane;if(h!==c.lane?(vu&h)===h:(Ho&h)===h){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),h===$i&&(d=!0);else{if((Ho&f)===f){c=c.next,f===$i&&(d=!0);continue}h={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=h,s=a):u=u.next=h,$o.lanes|=f,Ou|=f}h=c.action,Yo&&n(a,h),a=c.hasEagerState?c.eagerState:n(a,h)}else f={lane:h,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,$o.lanes|=h,Ou|=h;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!er(a,e.memoizedState)&&(Ms=!0,d&&null!==(n=Gi)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,i.lastRenderedState=a}return null===o&&(i.lanes=0),[e.memoizedState,i.dispatch]}function va(e){var t=da(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);er(a,t.memoizedState)||(Ms=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ba(e,t,n){var i=$o,o=da(),a=fi;if(a){if(void 0===n)throw Error(r(407));n=n()}else n=t();var s=!er((Go||o).memoizedState,n);if(s&&(o.memoizedState=n,Ms=!0),o=o.queue,Ha(Sa.bind(null,i,o,e),[e]),o.getSnapshot!==t||s||null!==Ko&&1&Ko.memoizedState.tag){if(i.flags|=2048,Fa(9,{destroy:void 0},Ea.bind(null,i,o,n,t),null),null===gu)throw Error(r(349));a||127&Ho||wa(i,t,n)}return n}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$o.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$o.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ea(e,t,n,r){t.value=n,t.getSnapshot=r,_a(t)&&xa(e)}function Sa(e,t,n){return n(function(){_a(t)&&xa(e)})}function _a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!er(e,n)}catch(r){return!0}}function xa(e){var t=Mr(e,2);null!==t&&Yu(t,e,2)}function Ta(e){var t=ca();if("function"==typeof e){var n=e;if(e=n(),Yo){Ee(!0);try{n()}finally{Ee(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function Oa(e,t,n,r){return e.baseState=n,ya(e,Go,"function"==typeof r?r:ma)}function Ia(e,t,n,i,o){if(ps(e))throw Error(r(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==j.T?n(!0):a.isTransition=!1,i(a),null===(n=t.pending)?(a.next=t.pending=a,Ca(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ca(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=j.T,a={};j.T=a;try{var s=n(i,r),l=j.S;null!==l&&l(a,s),Aa(e,t,s)}catch(u){Pa(e,t,u)}finally{null!==o&&null!==a.types&&(o.types=a.types),j.T=o}}else try{Aa(e,t,o=n(i,r))}catch(c){Pa(e,t,c)}}function Aa(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){ka(e,t,n)},function(n){return Pa(e,t,n)}):ka(e,t,n)}function ka(e,t,n){t.status="fulfilled",t.value=n,Na(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ca(e,n)))}function Pa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Na(t),t=t.next}while(t!==r)}e.action=null}function Na(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ra(e,t){return t}function Da(e,t){if(fi){var n=gu.formState;if(null!==n){e:{var r=$o;if(fi){if(hi){t:{for(var i=hi,o=mi;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=Md(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){hi=Md(i.nextSibling),r="F!"===i.data;break e}}yi(r)}r=!1}r&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ra,lastRenderedState:t},n.queue=r,n=ds.bind(null,$o,r),r.dispatch=n,r=Ta(!1),o=fs.bind(null,$o,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ca()).queue=i,n=Ia.bind(null,$o,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ma(e){return ja(da(),Go,e)}function ja(e,t,n){if(t=ya(e,t,Ra)[0],e=ga(ma)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var r=ha(t)}catch(a){if(a===Zi)throw to;throw a}else r=t;var i=(t=da()).queue,o=i.dispatch;return n!==t.memoizedState&&($o.flags|=2048,Fa(9,{destroy:void 0},La.bind(null,i,n),null)),[r,o,e]}function La(e,t){e.action=t}function Ua(e){var t=da(),n=Go;if(null!==n)return ja(t,n,e);da(),t=t.memoizedState;var r=(n=da()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=$o.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$o.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return da().memoizedState}function za(e,t,n,r){var i=ca();$o.flags|=e,i.memoizedState=Fa(1|t,{destroy:void 0},n,void 0===r?null:r)}function qa(e,t,n,r){var i=da();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==Go&&null!==r&&na(r,Go.memoizedState.deps)?i.memoizedState=Fa(t,o,n,r):($o.flags|=e,i.memoizedState=Fa(1|t,o,n,r))}function Ba(e,t){za(8390656,8,e,t)}function Ha(e,t){qa(2048,8,e,t)}function $a(e){var t=da().memoizedState;return function(e){$o.flags|=4;var t=$o.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},$o.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&mu)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Ga(e,t){return qa(4,2,e,t)}function Ka(e,t){return qa(4,4,e,t)}function Wa(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ja(e,t,n){n=null!=n?n.concat([e]):null,qa(4,4,Wa.bind(null,t,e),n)}function Ya(){}function Xa(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=da();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&na(t,r[1]))return r[0];if(r=e(),Yo){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r}function Za(e,t,n){return void 0===n||1073741824&Ho&&!(261930&vu)?e.memoizedState=t:(e.memoizedState=n,e=Ju(),$o.lanes|=e,Ou|=e,n)}function es(e,t,n,r){return er(n,t)?n:null!==ko.current?(e=Za(e,n,r),er(e,t)||(Ms=!0),e):42&Ho&&(!(1073741824&Ho)||261930&vu)?(e=Ju(),$o.lanes|=e,Ou|=e,t):(Ms=!0,e.memoizedState=n)}function ts(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var a,s,l,u=j.T,c={};j.T=c,fs(e,!1,t,n);try{var d=i(),h=j.S;if(null!==h&&h(c,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)hs(e,t,(a=r,s=[],l={status:"pending",value:null,reason:null,then:function(e){s.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<s.length;e++)(0,s[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<s.length;e++)(0,s[e])(void 0)}),l),Wu());else hs(e,t,r,Wu())}catch(f){hs(e,t,{then:function(){},status:"rejected",reason:f},Wu())}finally{L.p=o,null!==u&&null!==c.types&&(u.types=c.types),j.T=u}}function ns(){}function rs(e,t,n,i){if(5!==e.tag)throw Error(r(476));var o=is(e).queue;ts(e,o,t,U,null===n?ns:function(){return os(e),n(i)})}function is(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:U,baseState:U,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:U},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function os(e){var t=is(e);null===t.next&&(t=e.alternate.memoizedState),hs(e,t.next.queue,{},Wu())}function as(){return Di(hh)}function ss(){return da().memoizedState}function ls(){return da().memoizedState}function us(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Wu(),r=So(t,e=Eo(n),n);return null!==r&&(Yu(r,t,n),_o(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function cs(e,t,n){var r=Wu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ps(e)?ms(t,n):null!==(n=Dr(e,t,n,r))&&(Yu(n,e,r),gs(n,t,r))}function ds(e,t,n){hs(e,t,n,Wu())}function hs(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ps(e))ms(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,er(s,a))return Rr(e,t,i,0),null===gu&&Nr(),!1}catch(l){}if(null!==(n=Dr(e,t,i,r)))return Yu(n,e,r),gs(n,t,r),!0}return!1}function fs(e,t,n,i){if(i={lane:2,revertLane:Hc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},ps(e)){if(t)throw Error(r(479))}else null!==(t=Dr(e,n,i,2))&&Yu(t,e,2)}function ps(e){var t=e.alternate;return e===$o||null!==t&&t===$o}function ms(e,t){Jo=Wo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gs(e,t,n){if(4194048&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,je(e,n)}}var ys={readContext:Di,use:fa,useCallback:ta,useContext:ta,useEffect:ta,useImperativeHandle:ta,useLayoutEffect:ta,useInsertionEffect:ta,useMemo:ta,useReducer:ta,useRef:ta,useState:ta,useDebugValue:ta,useDeferredValue:ta,useTransition:ta,useSyncExternalStore:ta,useId:ta,useHostTransitionStatus:ta,useFormState:ta,useActionState:ta,useOptimistic:ta,useMemoCache:ta,useCacheRefresh:ta};ys.useEffectEvent=ta;var vs={readContext:Di,use:fa,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Ba,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,za(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){za(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var r=e();if(Yo){Ee(!0);try{e()}finally{Ee(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ca();if(void 0!==n){var i=n(t);if(Yo){Ee(!0);try{n(t)}finally{Ee(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=cs.bind(null,$o,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=Ta(e)).queue,n=ds.bind(null,$o,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ya,useDeferredValue:function(e,t){return Za(ca(),e,t)},useTransition:function(){var e=Ta(!1);return e=ts.bind(null,$o,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=$o,o=ca();if(fi){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===gu)throw Error(r(349));127&vu||wa(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Ba(Sa.bind(null,i,a,e),[e]),i.flags|=2048,Fa(9,{destroy:void 0},Ea.bind(null,i,a,n,t),null),n},useId:function(){var e=ca(),t=gu.identifierPrefix;if(fi){var n=oi;t="_"+t+"R_"+(n=(ii&~(1<<32-Se(ii)-1)).toString(32)+n),0<(n=Xo++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=ea++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:as,useFormState:Da,useActionState:Da,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=fs.bind(null,$o,!0,n),n.dispatch=t,[e,t]},useMemoCache:pa,useCacheRefresh:function(){return ca().memoizedState=us.bind(null,$o)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(2&mu)throw Error(r(440));return n.impl.apply(void 0,arguments)}}},bs={readContext:Di,use:fa,useCallback:Xa,useContext:Di,useEffect:Ha,useImperativeHandle:Ja,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Qa,useReducer:ga,useRef:Va,useState:function(){return ga(ma)},useDebugValue:Ya,useDeferredValue:function(e,t){return es(da(),Go.memoizedState,e,t)},useTransition:function(){var e=ga(ma)[0],t=da().memoizedState;return["boolean"==typeof e?e:ha(e),t]},useSyncExternalStore:ba,useId:ss,useHostTransitionStatus:as,useFormState:Ma,useActionState:Ma,useOptimistic:function(e,t){return Oa(da(),0,e,t)},useMemoCache:pa,useCacheRefresh:ls};bs.useEffectEvent=$a;var ws={readContext:Di,use:fa,useCallback:Xa,useContext:Di,useEffect:Ha,useImperativeHandle:Ja,useInsertionEffect:Ga,useLayoutEffect:Ka,useMemo:Qa,useReducer:va,useRef:Va,useState:function(){return va(ma)},useDebugValue:Ya,useDeferredValue:function(e,t){var n=da();return null===Go?Za(n,e,t):es(n,Go.memoizedState,e,t)},useTransition:function(){var e=va(ma)[0],t=da().memoizedState;return["boolean"==typeof e?e:ha(e),t]},useSyncExternalStore:ba,useId:ss,useHostTransitionStatus:as,useFormState:Ua,useActionState:Ua,useOptimistic:function(e,t){var n=da();return null!==Go?Oa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pa,useCacheRefresh:ls};function Es(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:c({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}ws.useEffectEvent=$a;var Ss={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=Eo(r);i.payload=t,null!=n&&(i.callback=n),null!==(t=So(e,i,r))&&(Yu(t,e,r),_o(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wu(),i=Eo(r);i.tag=1,i.payload=t,null!=n&&(i.callback=n),null!==(t=So(e,i,r))&&(Yu(t,e,r),_o(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wu(),r=Eo(n);r.tag=2,null!=t&&(r.callback=t),null!==(t=So(e,r,n))&&(Yu(t,e,n),_o(t,e,n))}};function _s(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!tr(n,r)||!tr(i,o))}function xs(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ss.enqueueReplaceState(t,t.state,null)}function Ts(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=c({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function Os(e){Cr(e)}function Is(e){}function Cs(e){Cr(e)}function As(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ps(e,t,n){return(n=Eo(n)).tag=3,n.payload={element:null},n.callback=function(){As(e,t)},n}function Ns(e){return(e=Eo(e)).tag=3,e}function Rs(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"==typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ks(t,n,r)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!=typeof i&&(null===Uu?Uu=new Set([this]):Uu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ds=Error(r(461)),Ms=!1;function js(e,t,n,r){t.child=null===e?yo(t,null,n,r):go(t,e.child,n,r)}function Ls(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ri(t),r=ra(e,t,n,a,o,i),s=sa(),null===e||Ms?(fi&&s&&li(t),t.flags|=1,js(e,t,r,i),t.child):(la(e,t,i),al(e,t,i))}function Us(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Hr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fs(e,t,o,r,i))}if(o=e.child,!sl(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:tr)(a,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=qr(o,r)).ref=t.ref,e.return=t,t.child=e}function Fs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(tr(o,r)&&e.ref===t.ref){if(Ms=!1,t.pendingProps=r=o,!sl(e,i))return t.lanes=e.lanes,al(e,t,i);131072&e.flags&&(Ms=!0)}}return Gs(e,t,n,r,i)}function Vs(e,t,n,r){var i=r.children,o=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(128&t.flags){if(o=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~o}else r=0,t.child=null;return qs(e,t,o,n,r)}if(!(536870912&n))return r=t.lanes=536870912,qs(e,t,null!==o?o.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==o?o.cachePool:null),null!==o?No(t,o):Ro(),Fo(t)}else null!==o?(Xi(0,o.cachePool),No(t,o),Vo(),t.memoizedState=null):(null!==e&&Xi(0,null),Ro(),Vo());return js(e,t,i,n),t.child}function zs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function qs(e,t,n,r,i){var o=Yi();return o=null===o?null:{parent:Vi._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Xi(0,null),Ro(),Fo(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Bs(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Hs(e,t,n){return go(t,e.child,null,n),(e=Bs(t,t.pendingProps)).flags|=2,zo(t),t.memoizedState=null,e}function $s(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(r(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Gs(e,t,n,r,i){return Ri(t),n=ra(e,t,n,r,void 0,i),r=sa(),null===e||Ms?(fi&&r&&li(t),t.flags|=1,js(e,t,n,i),t.child):(la(e,t,i),al(e,t,i))}function Ks(e,t,n,r,i,o){return Ri(t),t.updateQueue=null,n=oa(t,r,n,i),ia(e),r=sa(),null===e||Ms?(fi&&r&&li(t),t.flags|=1,js(e,t,n,o),t.child):(la(e,t,o),al(e,t,o))}function Ws(e,t,n,r,i){if(Ri(t),null===t.stateNode){var o=Ur,a=n.contextType;"object"==typeof a&&null!==a&&(o=Di(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=Ss,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},bo(t),a=n.contextType,o.context="object"==typeof a&&null!==a?Di(a):Ur,o.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(Es(t,n,a,r),o.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(a=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&Ss.enqueueReplaceState(o,o.state,null),Io(t,r,o,i),Oo(),o.state=t.memoizedState),"function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=Ts(n,s);o.props=l;var u=o.context,c=n.contextType;a=Ur,"object"==typeof c&&null!==c&&(a=Di(c));var d=n.getDerivedStateFromProps;c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s||u!==a)&&xs(t,o,r,a),vo=!1;var h=t.memoizedState;o.state=h,Io(t,r,o,i),Oo(),u=t.memoizedState,s||h!==u||vo?("function"==typeof d&&(Es(t,n,d,r),u=t.memoizedState),(l=vo||_s(t,n,l,r,h,u,a))?(c||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=a,r=l):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,wo(e,t),c=Ts(n,a=t.memoizedProps),o.props=c,d=t.pendingProps,h=o.context,u=n.contextType,l=Ur,"object"==typeof u&&null!==u&&(l=Di(u)),(u="function"==typeof(s=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==d||h!==l)&&xs(t,o,r,l),vo=!1,h=t.memoizedState,o.state=h,Io(t,r,o,i),Oo();var f=t.memoizedState;a!==d||h!==f||vo||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"==typeof s&&(Es(t,n,s,r),f=t.memoizedState),(c=vo||_s(t,n,c,r,h,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(u||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=c):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,$s(e,t),r=!!(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!=typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=go(t,e.child,null,i),t.child=go(t,null,n,i)):js(e,t,n,i),t.memoizedState=o.state,e=t.child):e=al(e,t,i),e}function Js(e,t,n,r){return Ei(),t.flags|=256,js(e,t,n,r),t.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xs(e){return{baseLanes:e,cachePool:Qi()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Au),e}function Zs(e,t,n){var i,o=t.pendingProps,a=!1,s=!!(128&t.flags);if((i=s)||(i=(null===e||null!==e.memoizedState)&&!!(2&qo.current)),i&&(a=!0,t.flags&=-129),i=!!(32&t.flags),t.flags&=-33,null===e){if(fi){if(a?Lo(t):Vo(),(e=hi)?null!==(e=null!==(e=Nd(e,mi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,di=t,hi=null):e=null,null===e)throw yi(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,a?(Vo(),l=tl({mode:"hidden",children:l},a=t.mode),o=$r(o,a,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=Xs(n),o.childLanes=Qs(e,i,n),t.memoizedState=Ys,zs(null,o)):(Lo(t),el(t,l))}var u=e.memoizedState;if(null!==u&&null!==(l=u.dehydrated)){if(s)256&t.flags?(Lo(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(Vo(),t.child=e.child,t.flags|=128,t=null):(Vo(),l=o.fallback,a=t.mode,o=tl({mode:"visible",children:o.children},a),(l=$r(l,a,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,go(t,e.child,null,n),(o=t.child).memoizedState=Xs(n),o.childLanes=Qs(e,i,n),t.memoizedState=Ys,t=zs(null,o));else if(Lo(t),Dd(l)){if(i=l.nextSibling&&l.nextSibling.dataset)var c=i.dgst;i=c,(o=Error(r(419))).stack="",o.digest=i,_i({value:o,source:null,stack:null}),t=nl(e,t,n)}else if(Ms||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Ms||i){if(null!==(i=gu)&&(0!==(o=Le(i,n))&&o!==u.retryLane))throw u.retryLane=o,Mr(e,o),Yu(i,e,o),Ds;Rd(l)||lc(),t=nl(e,t,n)}else Rd(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,hi=Md(l.nextSibling),di=t,fi=!0,pi=null,mi=!1,null!==e&&ci(t,e),(t=el(t,o.children)).flags|=4096);return t}return a?(Vo(),l=o.fallback,a=t.mode,c=(u=e.child).sibling,(o=qr(u,{mode:"hidden",children:o.children})).subtreeFlags=65011712&u.subtreeFlags,null!==c?l=qr(c,l):(l=$r(l,a,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,zs(null,o),o=t.child,null===(l=e.child.memoizedState)?l=Xs(n):(null!==(a=l.cachePool)?(u=Vi._currentValue,a=a.parent!==u?{parent:u,pool:u}:a):a=Qi(),l={baseLanes:l.baseLanes|n,cachePool:a}),o.memoizedState=l,o.childLanes=Qs(e,i,n),t.memoizedState=Ys,zs(e.child,o)):(Lo(t),e=(n=e.child).sibling,(n=qr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Vr(22,e,null,t)).lanes=0,e}function nl(e,t,n){return go(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function rl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function il(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=o)}function ol(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;r=r.children;var a=qo.current,s=!!(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,B(qo,a),js(e,t,r,n),r=fi?ei:0,!s&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&rl(e,n,t);else if(19===e.tag)rl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Bo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),il(t,!1,i,n,o,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Bo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}il(t,!0,n,null,o,r);break;case"together":il(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ou|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=qr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=qr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ms=!0;else{if(!(sl(e,n)||128&t.flags))return Ms=!1,function(e,t,n){switch(t.tag){case 3:Y(t,t.stateNode.containerInfo),Ii(0,Vi,e.memoizedState.cache),Ei();break;case 27:case 5:Q(t);break;case 4:Y(t,t.stateNode.containerInfo);break;case 10:Ii(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Uo(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Lo(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zs(e,t,n):(Lo(t),null!==(e=al(e,t,n))?e.sibling:null);Lo(t);break;case 19:var i=!!(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return ol(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),B(qo,qo.current),r)break;return null;case 22:return t.lanes=0,Vs(e,t,n,t.pendingProps);case 24:Ii(0,Vi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Ms=!!(131072&e.flags)}else Ms=!1,fi&&1048576&t.flags&&si(t,ei,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=oo(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var o=e.$$typeof;if(o===w){t.tag=11,t=Ls(null,t,e,i,n);break e}if(o===T){t.tag=14,t=Us(null,t,e,i,n);break e}}throw t=D(e)||e,Error(r(306,t,""))}zr(e)?(i=Ts(e,i),t.tag=1,t=Ws(null,t,e,i,n)):(t.tag=0,t=Gs(null,t,e,i,n))}return t;case 0:return Gs(e,t,t.type,t.pendingProps,n);case 1:return Ws(e,t,i=t.type,o=Ts(i,t.pendingProps),n);case 3:e:{if(Y(t,t.stateNode.containerInfo),null===e)throw Error(r(387));i=t.pendingProps;var a=t.memoizedState;o=a.element,wo(e,t),Io(t,i,null,n);var s=t.memoizedState;if(i=s.cache,Ii(0,Vi,i),i!==a.cache&&ki(t,[Vi],n,!0),Oo(),i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Js(e,t,i,n);break e}if(i!==o){_i(o=Yr(Error(r(424)),t)),t=Js(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(hi=Md(e.firstChild),di=t,fi=!0,pi=null,mi=!0,n=yo(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ei(),i===o){t=al(e,t,n);break e}js(e,t,i,n)}t=t.child}return t;case 26:return $s(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:fi||(n=t.type,e=t.pendingProps,(i=vd(W.current).createElement(n))[Be]=t,i[He]=e,pd(i,n,e),nt(i),t.stateNode=i):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Q(t),null===e&&fi&&(i=t.stateNode=Fd(t.type,t.pendingProps,W.current),di=t,mi=!0,o=hi,Cd(t.type)?(jd=o,hi=Md(i.firstChild)):hi=o),js(e,t,t.pendingProps.children,n),$s(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&fi&&((o=i=hi)&&(null!==(i=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ye])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=Md(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,mi))?(t.stateNode=i,di=t,hi=Md(i.firstChild),mi=!1,o=!0):o=!1),o||yi(t)),Q(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,i=a.children,Ed(o,a)?i=null:null!==s&&Ed(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ra(e,t,aa,null,null,n),hh._currentValue=o),$s(e,t),js(e,t,i,n),t.child;case 6:return null===e&&fi&&((e=n=hi)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Md(e.nextSibling)))return null}return e}(n,t.pendingProps,mi))?(t.stateNode=n,di=t,hi=null,e=!0):e=!1),e||yi(t)),null;case 13:return Zs(e,t,n);case 4:return Y(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=go(t,null,i,n):js(e,t,i,n),t.child;case 11:return Ls(e,t,t.type,t.pendingProps,n);case 7:return js(e,t,t.pendingProps,n),t.child;case 8:case 12:return js(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Ii(0,t.type,i.value),js(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ri(t),i=i(o=Di(o)),t.flags|=1,js(e,t,i,n),t.child;case 14:return Us(e,t,t.type,t.pendingProps,n);case 15:return Fs(e,t,t.type,t.pendingProps,n);case 19:return ol(e,t,n);case 31:return function(e,t,n){var i=t.pendingProps,o=!!(128&t.flags);if(t.flags&=-129,null===e){if(fi){if("hidden"===i.mode)return e=Bs(t,i),t.lanes=536870912,zs(null,e);if(Uo(t),(e=hi)?null!==(e=null!==(e=Nd(e,mi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ri?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,di=t,hi=null):e=null,null===e)throw yi(t);return t.lanes=536870912,null}return Bs(t,i)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Uo(t),o)if(256&t.flags)t.flags&=-257,t=Hs(e,t,n);else{if(null===t.memoizedState)throw Error(r(558));t.child=e.child,t.flags|=128,t=null}else if(Ms||Pi(e,t,n,!1),o=0!==(n&e.childLanes),Ms||o){if(null!==(i=gu)&&0!==(s=Le(i,n))&&s!==a.retryLane)throw a.retryLane=s,Mr(e,s),Yu(i,e,s),Ds;lc(),t=Hs(e,t,n)}else e=a.treeContext,hi=Md(s.nextSibling),di=t,fi=!0,pi=null,mi=!1,null!==e&&ci(t,e),(t=Bs(t,i)).flags|=4096;return t}return(e=qr(e.child,{mode:i.mode,children:i.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Vs(e,t,n,t.pendingProps);case 24:return Ri(t),i=Di(Vi),null===e?(null===(o=Yi())&&(o=gu,a=zi(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:i,cache:o},bo(t),Ii(0,Vi,o)):(0!==(e.lanes&n)&&(wo(e,t),Io(t,null,null,n),Oo()),o=e.memoizedState,a=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Ii(0,Vi,i)):(i=a.cache,Ii(0,Vi,i),i!==o.cache&&ki(t,[Vi],n,!0))),js(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function ul(e){e.flags|=4}function cl(e,t,n,r,i){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!oc())throw ao=no,eo;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!oc())throw ao=no,eo;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,ku|=t)}function fl(e,t){if(!fi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ml(e,t,n){var i=t.pendingProps;switch(ui(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ci(Vi),X(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wi(t)?ul(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,Si())),pl(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(ul(t),null!==a?(pl(t),dl(t,a)):(pl(t),cl(t,o,0,0,n))):a?a!==e.memoizedState?(ul(t),pl(t),dl(t,a)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==i&&ul(t),pl(t),cl(t,o,0,0,n)),null;case 27:if(Z(t),n=W.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return pl(t),null}e=G.current,wi(t)?vi(t):(e=Fd(o,i,n),t.stateNode=e,ul(t))}return pl(t),null;case 5:if(Z(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if(!i){if(null===t.stateNode)throw Error(r(166));return pl(t),null}if(a=G.current,wi(t))vi(t);else{var s=vd(W.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof i.is?s.createElement("select",{is:i.is}):s.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a="string"==typeof i.is?s.createElement(o,{is:i.is}):s.createElement(o)}}a[Be]=t,a[He]=i;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(pd(a,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ul(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&ul(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=W.current,wi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(o=di))switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Be]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||dd(e.nodeValue,n)))||yi(t,!0)}else(e=vd(e).createTextNode(i))[Be]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(i=wi(t),null!==n){if(null===e){if(!i)throw Error(r(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(r(557));e[Be]=t}else Ei(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(zo(t),t):(zo(t),null);if(128&t.flags)throw Error(r(558))}return pl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=wi(t),null!==i&&null!==i.dehydrated){if(null===e){if(!o)throw Error(r(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(r(317));o[Be]=t}else Ei(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),o=!1}else o=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(zo(t),t):(zo(t),null)}return zo(t),128&t.flags?(t.lanes=n,t):(n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(o=i.alternate.memoizedState.cachePool.pool),a=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(a=i.memoizedState.cachePool.pool),a!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),pl(t),null);case 4:return X(),null===e&&td(t.stateNode.containerInfo),pl(t),null;case 10:return Ci(t.type),pl(t),null;case 19:if(q(qo),null===(i=t.memoizedState))return pl(t),null;if(o=!!(128&t.flags),null===(a=i.rendering))if(o)fl(i,!1);else{if(0!==Tu||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Bo(e))){for(t.flags|=128,fl(i,!1),e=a.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return B(qo,1&qo.current|2),fi&&ai(t,i.treeForkCount),t.child}e=e.sibling}null!==i.tail&&ce()>ju&&(t.flags|=128,o=!0,fl(i,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Bo(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),fl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!fi)return pl(t),null}else 2*ce()-i.renderingStartTime>ju&&536870912!==n&&(t.flags|=128,o=!0,fl(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=qo.current,B(qo,o?1&n|2:1&n),fi&&ai(t,i.treeForkCount),e):(pl(t),null);case 22:case 23:return zo(t),Do(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?!!(536870912&n)&&!(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&q(Ji),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Vi),pl(t),null;case 25:case 30:return null}throw Error(r(156,t.tag))}function gl(e,t){switch(ui(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Vi),X(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 31:if(null!==t.memoizedState){if(zo(t),null===t.alternate)throw Error(r(340));Ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(zo(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));Ei()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return q(qo),null;case 4:return X(),null;case 10:return Ci(t.type),null;case 22:case 23:return zo(t),Do(),null!==e&&q(Ji),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Vi),null;default:return null}}function yl(e,t){switch(ui(t),t.tag){case 3:Ci(Vi),X();break;case 26:case 27:case 5:Z(t);break;case 4:X();break;case 31:null!==t.memoizedState&&zo(t);break;case 13:zo(t);break;case 19:q(qo);break;case 10:Ci(t.type);break;case 22:case 23:zo(t),Do(),null!==e&&q(Ji);break;case 24:Ci(Vi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){Tc(t,t.return,s)}}function bl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,u=s;try{u()}catch(c){Tc(i,l,c)}}}r=r.next}while(r!==o)}}catch(c){Tc(t,t.return,c)}}function wl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ao(t,n)}catch(r){Tc(e,e.return,r)}}}function El(e,t,n){n.props=Ts(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Tc(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Tc(e,t,i)}}function _l(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"==typeof r)try{r()}catch(i){Tc(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(o){Tc(e,t,o)}else n.current=null}function xl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Tc(e,e.return,i)}}function Tl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":u=h;default:i.hasOwnProperty(p)||hd(e,t,p,null,i,h)}}for(var f in i){var p=i[f];if(h=n[f],i.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":o=p;break;case"checked":c=p;break;case"defaultChecked":d=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(r(137,t));break;default:p!==h&&hd(e,t,f,p,i,h)}}return void wt(e,s,l,u,c,d,a,o);case"select":for(a in p=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":p=u;default:i.hasOwnProperty(a)||hd(e,t,a,null,i,u)}for(o in i)if(a=i[o],u=n[o],i.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&hd(e,t,o,a,i,u)}return t=l,n=s,i=p,void(null!=f?_t(e,!!n,f,!1):!!i!=!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hd(e,t,l,null,i,o)}for(s in i)if(o=i[s],a=n[s],i.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":p=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(r(91));break;default:o!==a&&hd(e,t,s,o,i,a)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hd(e,t,m,null,i,f);for(u in i)if(f=i[u],p=n[u],i.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))if("selected"===u)e.selected=f&&"function"!=typeof f&&"symbol"!=typeof f;else hd(e,t,u,f,i,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!i.hasOwnProperty(g)&&hd(e,t,g,null,i,f);for(c in i)if(f=i[c],p=n[c],i.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(r(137,t));break;default:hd(e,t,c,f,i,p)}return;default:if(kt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!i.hasOwnProperty(y)&&fd(e,t,y,void 0,i,f);for(d in i)f=i[d],p=n[d],!i.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||fd(e,t,d,f,i,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!i.hasOwnProperty(v)&&hd(e,t,v,null,i,f);for(h in i)f=i[h],p=n[h],!i.hasOwnProperty(h)||f===p||null==f&&null==p||hd(e,t,h,f,i,p)}(i,e.type,n,t),i[He]=t}catch(o){Tc(e,e.return,o)}}function Ol(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Il(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Dt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Al(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Al(e,t,n),e=e.sibling;null!==e;)Al(e,t,n),e=e.sibling}function kl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pd(t,r,n),t[Be]=e,t[He]=n}catch(o){Tc(e,e.return,o)}}var Pl=!1,Nl=!1,Rl=!1,Dl="function"==typeof WeakSet?WeakSet:Set,Ml=null;function jl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Tc(n,n.return,a)}else{var i=Ts(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){Tc(n,n.return,s)}}64&r&&wl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ao(e,t)}catch(a){Tc(n,n.return,a)}}break;case 27:null===t&&4&r&&kl(n);case 26:case 5:Yl(e,n),null===t&&4&r&&xl(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&ql(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Ac.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Nl,i=Pl;var o=Nl;Pl=r,(Nl=t)&&!o?Ql(e,n,!!(8772&n.subtreeFlags)):Yl(e,n),Pl=i,Nl=o}break;case 30:break;default:Yl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ul=null,Fl=!1;function Vl(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(we&&"function"==typeof we.onCommitFiberUnmount)try{we.onCommitFiberUnmount(be,n)}catch(o){}switch(n.tag){case 26:Nl||_l(n,t),Vl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Nl||_l(n,t);var r=Ul,i=Fl;Cd(n.type)&&(Ul=n.stateNode,Fl=!1),Vl(e,t,n),Vd(n.stateNode),Ul=r,Fl=i;break;case 5:Nl||_l(n,t);case 6:if(r=Ul,i=Fl,Ul=null,Vl(e,t,n),Fl=i,null!==(Ul=r))if(Fl)try{(9===Ul.nodeType?Ul.body:"HTML"===Ul.nodeName?Ul.ownerDocument.body:Ul).removeChild(n.stateNode)}catch(a){Tc(n,t,a)}else try{Ul.removeChild(n.stateNode)}catch(a){Tc(n,t,a)}break;case 18:null!==Ul&&(Fl?(Ad(9===(e=Ul).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gh(e)):Ad(Ul,n.stateNode));break;case 4:r=Ul,i=Fl,Ul=n.stateNode.containerInfo,Fl=!0,Vl(e,t,n),Ul=r,Fl=i;break;case 0:case 11:case 14:case 15:bl(2,n,t),Nl||bl(4,n,t),Vl(e,t,n);break;case 1:Nl||(_l(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount&&El(n,t,r)),Vl(e,t,n);break;case 21:Vl(e,t,n);break;case 22:Nl=(r=Nl)||null!==n.memoizedState,Vl(e,t,n),Nl=r;break;default:Vl(e,t,n)}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gh(e)}catch(n){Tc(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gh(e)}catch(n){Tc(t,t.return,n)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(r(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=kc.bind(null,e,t);t.then(r,r)}})}function $l(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ul=l.stateNode,Fl=!1;break e}break;case 5:Ul=l.stateNode,Fl=!1;break e;case 3:case 4:Ul=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ul)throw Error(r(160));zl(a,s,o),Ul=null,Fl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Gl=null;function Kl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$l(t,e),Wl(e),4&i&&(bl(3,e,e.return),vl(3,e),bl(5,e,e.return));break;case 1:$l(t,e),Wl(e),512&i&&(Nl||null===n||_l(n,n.return)),64&i&&Pl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var o=Gl;if($l(t,e),Wl(e),512&i&&(Nl||null===n||_l(n,n.return)),4&i){var a=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Ye]||a[Be]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(i),o.head.insertBefore(a,o.querySelector("head > title"))),pd(a,i,n),a[Be]=e,nt(a),i=a;break e;case"link":var s=ih("link","href",o).get(i+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}pd(a=o.createElement(i),i,n),o.head.appendChild(a);break;case"meta":if(s=ih("meta","content",o).get(i+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}pd(a=o.createElement(i),i,n),o.head.appendChild(a);break;default:throw Error(r(468,i))}a[Be]=e,nt(a),i=a}e.stateNode=i}else oh(o,e.type,e.stateNode);else e.stateNode=Zd(o,i,e.memoizedProps);else a!==i?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===i?oh(o,e.type,e.stateNode):Zd(o,i,e.memoizedProps)):null===i&&null!==e.stateNode&&Tl(e,e.memoizedProps,n.memoizedProps)}break;case 27:$l(t,e),Wl(e),512&i&&(Nl||null===n||_l(n,n.return)),null!==n&&4&i&&Tl(e,e.memoizedProps,n.memoizedProps);break;case 5:if($l(t,e),Wl(e),512&i&&(Nl||null===n||_l(n,n.return)),32&e.flags){o=e.stateNode;try{Ot(o,"")}catch(m){Tc(e,e.return,m)}}4&i&&null!=e.stateNode&&Tl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&i&&(Rl=!0);break;case 6:if($l(t,e),Wl(e),4&i){if(null===e.stateNode)throw Error(r(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(m){Tc(e,e.return,m)}}break;case 3:if(rh=null,o=Gl,Gl=Bd(t.containerInfo),$l(t,e),Gl=o,Wl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Gh(t.containerInfo)}catch(m){Tc(e,e.return,m)}Rl&&(Rl=!1,Jl(e));break;case 4:i=Gl,Gl=Bd(e.stateNode.containerInfo),$l(t,e),Wl(e),Gl=i;break;case 12:default:$l(t,e),Wl(e);break;case 31:case 19:$l(t,e),Wl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Hl(e,i)));break;case 13:$l(t,e),Wl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Du=ce()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Hl(e,i)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=Pl,d=Nl;if(Pl=c||o,Nl=d||u,$l(t,e),Nl=d,Pl=c,Wl(e),8192&i)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||Pl||Nl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"==typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var h=u.memoizedProps.style,f=null!=h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"==typeof f?"":(""+f).trim()}}catch(m){Tc(u,u.return,m)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(m){Tc(u,u.return,m)}}}else if(18===t.tag){if(null===n){u=t;try{var p=u.stateNode;o?kd(p,!0):kd(u.stateNode,!1)}catch(m){Tc(u,u.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Wl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(Ol(i)){n=i;break}i=i.return}if(null==n)throw Error(r(160));switch(n.tag){case 27:var o=n.stateNode;Al(e,Il(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(Ot(a,""),n.flags&=-33),Al(e,Il(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Cl(e,Il(e),s);break;default:throw Error(r(161))}}catch(l){Tc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Xl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&El(t,t.return,n),Xl(t);break;case 27:Vd(t.stateNode);case 26:case 5:_l(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:Ql(i,o,n),vl(4,o);break;case 1:if(Ql(i,o,n),"function"==typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(u){Tc(r,r.return,u)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Co(l[i],s)}catch(u){Tc(r,r.return,u)}}n&&64&a&&wl(o),Sl(o,o.return);break;case 27:kl(o);case 26:case 5:Ql(i,o,n),n&&null===r&&4&a&&xl(o),Sl(o,o.return);break;case 12:Ql(i,o,n);break;case 31:Ql(i,o,n),n&&4&a&&ql(i,o);break;case 13:Ql(i,o,n),n&&4&a&&Bl(i,o);break;case 22:null===o.memoizedState&&Ql(i,o,n),Sl(o,o.return);break;case 30:break;default:Ql(i,o,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&qi(n))}function eu(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e))}function tu(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nu(e,t,n,r),t=t.sibling}function nu(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:tu(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:tu(e,t,n,r);break;case 3:tu(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&qi(e)));break;case 12:if(2048&i){tu(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"==typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Tc(t,t.return,l)}}else tu(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?tu(e,t,n,r):iu(e,t):2&o._visibility?tu(e,t,n,r):(o._visibility|=2,ru(e,t,n,r,!!(10256&t.subtreeFlags)||!1)),2048&i&&Zl(a,t);break;case 24:tu(e,t,n,r),2048&i&&eu(t.alternate,t)}}function ru(e,t,n,r,i){for(i=i&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:ru(o,a,s,l,i),vl(8,a);break;case 23:break;case 22:var c=a.stateNode;null!==a.memoizedState?2&c._visibility?ru(o,a,s,l,i):iu(o,a):(c._visibility|=2,ru(o,a,s,l,i)),i&&2048&u&&Zl(a.alternate,a);break;case 24:ru(o,a,s,l,i),i&&2048&u&&eu(a.alternate,a);break;default:ru(o,a,s,l,i)}t=t.sibling}}function iu(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:iu(n,r),2048&i&&Zl(r.alternate,r);break;case 24:iu(n,r),2048&i&&eu(r.alternate,r);break;default:iu(n,r)}t=t.sibling}}var ou=8192;function au(e,t,n){if(e.subtreeFlags&ou)for(e=e.child;null!==e;)su(e,t,n),e=e.sibling}function su(e,t,n){switch(e.tag){case 26:au(e,t,n),e.flags&ou&&null!==e.memoizedState&&function(e,t,n,r){if(!("stylesheet"!==n.type||"string"==typeof r.media&&!1===matchMedia(r.media).matches||4&n.state.loading)){if(null===n.instance){var i=Wd(r.href),o=t.querySelector(Jd(i));if(o)return null!==(t=o._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=lh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=o,void nt(o);o=t.ownerDocument||t,r=Yd(r),(i=zd.get(i))&&th(r,i),nt(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),pd(o,"link",r),n.instance=o}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=lh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:au(e,t,n);break;case 3:case 4:var r=Gl;Gl=Bd(e.stateNode.containerInfo),au(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ou,ou=16777216,au(e,t,n),ou=r):au(e,t,n))}}function lu(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function uu(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,hu(r,e)}lu(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cu(e),e=e.sibling}function cu(e){switch(e.tag){case 0:case 11:case 15:uu(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:uu(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,du(e)):uu(e)}}function du(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ml=r,hu(r,e)}lu(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),du(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,du(t));break;default:du(t)}e=e.sibling}}function hu(e,t){for(;null!==Ml;){var n=Ml;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:qi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ml=r;else e:for(n=e;null!==Ml;){var i=(r=Ml).sibling,o=r.return;if(Ll(r),r===n){Ml=null;break e}if(null!==i){i.return=o,Ml=i;break e}Ml=o}}}var fu={getCacheForType:function(e){var t=Di(Vi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Di(Vi).controller.signal}},pu="function"==typeof WeakMap?WeakMap:Map,mu=0,gu=null,yu=null,vu=0,bu=0,wu=null,Eu=!1,Su=!1,_u=!1,xu=0,Tu=0,Ou=0,Iu=0,Cu=0,Au=0,ku=0,Pu=null,Nu=null,Ru=!1,Du=0,Mu=0,ju=1/0,Lu=null,Uu=null,Fu=0,Vu=null,zu=null,qu=0,Bu=0,Hu=null,$u=null,Gu=0,Ku=null;function Wu(){return 2&mu&&0!==vu?vu&-vu:null!==j.T?Hc():Ve()}function Ju(){if(0===Au)if(536870912&vu&&!fi)Au=536870912;else{var e=Oe;!(3932160&(Oe<<=1))&&(Oe=262144),Au=e}return null!==(e=Mo.current)&&(e.flags|=32),Au}function Yu(e,t,n){(e!==gu||2!==bu&&9!==bu)&&null===e.cancelPendingCommit||(rc(e,0),ec(e,vu,Au,!1)),De(e,n),2&mu&&e===gu||(e===gu&&(!(2&mu)&&(Iu|=n),4===Tu&&ec(e,vu,Au,!1)),Lc(e))}function Xu(e,t,n){if(6&mu)throw Error(r(327));for(var i=!n&&!(127&t)&&0===(t&e.expiredLanes)||ke(e,t),o=i?function(e,t){var n=mu;mu|=2;var i=ac(),o=sc();gu!==e||vu!==t?(Lu=null,ju=ce()+500,rc(e,t)):Su=ke(e,t);e:for(;;)try{if(0!==bu&&null!==yu){t=yu;var a=wu;t:switch(bu){case 1:bu=0,wu=null,pc(e,t,a,1);break;case 2:case 9:if(ro(a)){bu=0,wu=null,fc(t);break}t=function(){2!==bu&&9!==bu||gu!==e||(bu=7),Lc(e)},a.then(t,t);break e;case 3:bu=7;break e;case 4:bu=5;break e;case 7:ro(a)?(bu=0,wu=null,fc(t)):(bu=0,wu=null,pc(e,t,a,7));break;case 5:var s=null;switch(yu.tag){case 26:s=yu.memoizedState;case 5:case 27:var l=yu;if(s?ah(s):l.stateNode.complete){bu=0,wu=null;var u=l.sibling;if(null!==u)yu=u;else{var c=l.return;null!==c?(yu=c,mc(c)):yu=null}break t}}bu=0,wu=null,pc(e,t,a,5);break;case 6:bu=0,wu=null,pc(e,t,a,6);break;case 8:nc(),Tu=6;break e;default:throw Error(r(462))}}dc();break}catch(d){ic(e,d)}return Oi=Ti=null,j.H=i,j.A=o,mu=n,null!==yu?0:(gu=null,vu=0,Nr(),Tu)}(e,t):uc(e,t,!0),a=i;;){if(0===o){Su&&!i&&ec(e,t,0,!1);break}if(n=e.current.alternate,!a||Zu(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=Pu;var u=l.current.memoizedState.isDehydrated;if(u&&(rc(l,s).flags|=256),2!==(s=uc(l,s,!1))){if(_u&&!u){l.errorRecoveryDisabledLanes|=a,Iu|=a,o=4;break e}a=Nu,Nu=o,null!==a&&(null===Nu?Nu=a:Nu.push.apply(Nu,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){rc(e,0),ec(e,t,0,!0);break}e:{switch(i=e,a=o){case 0:case 1:throw Error(r(345));case 4:if((4194048&t)!==t)break;case 6:ec(i,t,Au,!Eu);break e;case 2:Nu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((62914560&t)===t&&10<(o=Du+300-ce())){if(ec(i,t,Au,!Eu),0!==Ae(i,0,!0))break e;qu=t,i.timeoutHandle=_d(Qu.bind(null,i,n,Nu,Lu,Ru,t,Au,Iu,ku,Eu,a,"Throttled",-0,0),o)}else Qu(i,n,Nu,Lu,Ru,t,Au,Iu,ku,Eu,a,null,-0,0)}break}o=uc(e,t,!1),a=!1}Lc(e)}function Qu(e,t,n,r,i,o,a,s,l,u,c,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){su(t,o,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dt});var p=(62914560&o)===o?Du-ce():(4194048&o)===o?Mu-ce():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],o=i.transferSize,a=i.initiatorType,s=i.duration;if(o&&s&&md(a)){for(a=0,s=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>s)break;var c=l.transferSize,d=l.initiatorType;c&&md(d)&&(a+=c*((l=l.responseEnd)<s?1:(s-u)/(l-u)))}if(--r,t+=8*(o+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p)))return qu=o,e.cancelPendingCommit=p(yc.bind(null,e,t,o,n,r,i,a,s,l,c,d,null,h,f)),void ec(e,o,a,!u)}yc(e,t,o,n,r,i,a,s,l)}function Zu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!er(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ec(e,t,n,r){t&=~Cu,t&=~Iu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-Se(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Me(e,n,t)}function tc(){return!!(6&mu)||(Uc(0),!1)}function nc(){if(null!==yu){if(0===bu)var e=yu.return;else Oi=Ti=null,ua(e=yu),uo=null,co=0,e=yu;for(;null!==e;)yl(e.alternate,e),e=e.return;yu=null}}function rc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,xd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),qu=0,nc(),gu=e,yu=n=qr(e.current,null),vu=t,bu=0,wu=null,Eu=!1,Su=ke(e,t),_u=!1,ku=Au=Cu=Iu=Ou=Tu=0,Nu=Pu=null,Ru=!1,8&t&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-Se(r),o=1<<i;t|=e[i],r&=~o}return xu=t,Nr(),n}function ic(e,t){$o=null,j.H=ys,t===Zi||t===to?(t=so(),bu=3):t===eo?(t=so(),bu=4):bu=t===Ds?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wu=t,null===yu&&(Tu=1,As(e,Yr(t,e.current)))}function oc(){var e=Mo.current;return null===e||((4194048&vu)===vu?null===jo:!!((62914560&vu)===vu||536870912&vu)&&e===jo)}function ac(){var e=j.H;return j.H=ys,null===e?ys:e}function sc(){var e=j.A;return j.A=fu,e}function lc(){Tu=4,Eu||(4194048&vu)!==vu&&null!==Mo.current||(Su=!0),!(134217727&Ou)&&!(134217727&Iu)||null===gu||ec(gu,vu,Au,!1)}function uc(e,t,n){var r=mu;mu|=2;var i=ac(),o=sc();gu===e&&vu===t||(Lu=null,rc(e,t)),t=!1;var a=Tu;e:for(;;)try{if(0!==bu&&null!==yu){var s=yu,l=wu;switch(bu){case 8:nc(),a=6;break e;case 3:case 2:case 9:case 6:null===Mo.current&&(t=!0);var u=bu;if(bu=0,wu=null,pc(e,s,l,u),n&&Su){a=0;break e}break;default:u=bu,bu=0,wu=null,pc(e,s,l,u)}}cc(),a=Tu;break}catch(c){ic(e,c)}return t&&e.shellSuspendCounter++,Oi=Ti=null,mu=r,j.H=i,j.A=o,null===yu&&(gu=null,vu=0,Nr()),a}function cc(){for(;null!==yu;)hc(yu)}function dc(){for(;null!==yu&&!le();)hc(yu)}function hc(e){var t=ll(e.alternate,e,xu);e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function fc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ks(n,t,t.pendingProps,t.type,void 0,vu);break;case 11:t=Ks(n,t,t.pendingProps,t.type.render,t.ref,vu);break;case 5:ua(t);default:yl(n,t),t=ll(n,t=yu=Br(t,xu),xu)}e.memoizedProps=e.pendingProps,null===t?mc(e):yu=t}function pc(e,t,n,i){Oi=Ti=null,ua(t),uo=null,co=0;var o=t.return;try{if(function(e,t,n,i,o){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){if(null!==(t=n.alternate)&&Pi(t,n,o,!0),null!==(n=Mo.current)){switch(n.tag){case 31:case 13:return null===jo?lc():null===n.alternate&&0===Tu&&(Tu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===no?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),Oc(e,i,o)),!1;case 22:return n.flags|=65536,i===no?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),Oc(e,i,o)),!1}throw Error(r(435,n.tag))}return Oc(e,i,o),lc(),!1}if(fi)return null!==(t=Mo.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==gi&&_i(Yr(e=Error(r(422),{cause:i}),n))):(i!==gi&&_i(Yr(t=Error(r(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,i=Yr(i,n),xo(e,o=Ps(e.stateNode,i,o)),4!==Tu&&(Tu=2)),!1;var a=Error(r(520),{cause:i});if(a=Yr(a,n),null===Pu?Pu=[a]:Pu.push(a),4!==Tu&&(Tu=2),null===t)return!0;i=Yr(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,xo(n,e=Ps(n.stateNode,i,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Uu&&Uu.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Rs(o=Ns(o),e,n,i),xo(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,vu))return Tu=1,As(e,Yr(n,e.current)),void(yu=null)}catch(a){if(null!==o)throw yu=o,a;return Tu=1,As(e,Yr(n,e.current)),void(yu=null)}32768&t.flags?(fi||1===i?e=!0:Su||536870912&vu?e=!1:(Eu=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=Mo.current)&&13===i.tag&&(i.flags|=16384))),gc(t,e)):mc(t)}function mc(e){var t=e;do{if(32768&t.flags)return void gc(t,Eu);e=t.return;var n=ml(t.alternate,t,xu);if(null!==n)return void(yu=n);if(null!==(t=t.sibling))return void(yu=t);yu=t=e}while(null!==t);0===Tu&&(Tu=5)}function gc(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(yu=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(yu=e);yu=e=n}while(null!==e);Tu=6,yu=null}function yc(e,t,n,i,o,a,s,l,u){e.cancelPendingCommit=null;do{Sc()}while(0!==Fu);if(6&mu)throw Error(r(327));if(null!==t){if(t===e.current)throw Error(r(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=a&~n;0<n;){var c=31-Se(n),d=1<<c;s[c]=0,l[c]=-1;var h=u[c];if(null!==h)for(u[c]=null,c=0;c<h.length;c++){var f=h[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Me(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,a|=Pr,s,l,u),e===gu&&(yu=gu=null,vu=0),zu=t,Vu=e,qu=n,Bu=a,Hu=o,$u=i,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ae(pe,function(){return _c(),null})):(e.callbackNode=null,e.callbackPriority=0),i=!!(13878&t.flags),13878&t.subtreeFlags||i){i=j.T,j.T=null,o=L.p,L.p=2,s=mu,mu|=4;try{!function(e,t){if(e=e.containerInfo,gd=Eh,ar(e=or(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(l=s+o),h!==a||0!==i&&3!==h.nodeType||(u=s+i),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++d===i&&(u=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(yd={focusedElem:e,selectionRange:n},Eh=!1,Ml=t;null!==Ml;)if(e=(t=Ml).child,1028&t.subtreeFlags&&null!==e)e.return=t,Ml=e;else for(;null!==Ml;){switch(a=(t=Ml).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var m=Ts(n.type,o);e=i.getSnapshotBeforeUpdate(m,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(y){Tc(n,n.return,y)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(r(163))}if(null!==(e=t.sibling)){e.return=t.return,Ml=e;break}Ml=t.return}}(e,t)}finally{mu=s,L.p=o,j.T=i}}Fu=1,vc(),bc(),wc()}}function vc(){if(1===Fu){Fu=0;var e=Vu,t=zu,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=j.T,j.T=null;var r=L.p;L.p=2;var i=mu;mu|=4;try{Kl(t,e);var o=yd,a=or(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&ir(s.ownerDocument.documentElement,s)){if(null!==l&&ar(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=s.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=rr(s,m),v=rr(s,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=d.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"==typeof s.focus&&s.focus(),s=0;s<d.length;s++){var w=d[s];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}Eh=!!gd,yd=gd=null}finally{mu=i,L.p=r,j.T=n}}e.current=t,Fu=2}}function bc(){if(2===Fu){Fu=0;var e=Vu,t=zu,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=j.T,j.T=null;var r=L.p;L.p=2;var i=mu;mu|=4;try{jl(e,t.alternate,t)}finally{mu=i,L.p=r,j.T=n}}Fu=3}}function wc(){if(4===Fu||3===Fu){Fu=0,ue();var e=Vu,t=zu,n=qu,r=$u;10256&t.subtreeFlags||10256&t.flags?Fu=5:(Fu=0,zu=Vu=null,Ec(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Uu=null),Fe(n),t=t.stateNode,we&&"function"==typeof we.onCommitFiberRoot)try{we.onCommitFiberRoot(be,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==r){t=j.T,i=L.p,L.p=2,j.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{j.T=t,L.p=i}}3&qu&&Sc(),Lc(e),i=e.pendingLanes,261930&n&&42&i?e===Ku?Gu++:(Gu=0,Ku=e):Gu=0,Uc(0)}}function Ec(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,qi(t)))}function Sc(){return vc(),bc(),wc(),_c()}function _c(){if(5!==Fu)return!1;var e=Vu,t=Bu;Bu=0;var n=Fe(qu),i=j.T,o=L.p;try{L.p=32>n?32:n,j.T=null,n=Hu,Hu=null;var a=Vu,s=qu;if(Fu=0,zu=Vu=null,qu=0,6&mu)throw Error(r(331));var l=mu;if(mu|=4,cu(a.current),nu(a,a.current,s,n),mu=l,Uc(0,!1),we&&"function"==typeof we.onPostCommitFiberRoot)try{we.onPostCommitFiberRoot(be,a)}catch(u){}return!0}finally{L.p=o,j.T=i,Ec(e,t)}}function xc(e,t,n){t=Yr(n,t),null!==(e=So(e,t=Ps(e.stateNode,t,2),2))&&(De(e,2),Lc(e))}function Tc(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Uu||!Uu.has(r))){e=Yr(n,e),null!==(r=So(t,n=Ns(2),2))&&(Rs(n,r,t,e),De(r,2),Lc(r));break}}t=t.return}}function Oc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(_u=!0,i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gu===e&&(vu&n)===n&&(4===Tu||3===Tu&&(62914560&vu)===vu&&300>ce()-Du?!(2&mu)&&rc(e,0):Cu|=n,ku===vu&&(ku=0)),Lc(e)}function Cc(e,t){0===t&&(t=Ne()),null!==(e=Mr(e,t))&&(De(e,t),Lc(e))}function Ac(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(r(314))}null!==i&&i.delete(t),Cc(e,n)}var Pc=null,Nc=null,Rc=!1,Dc=!1,Mc=!1,jc=0;function Lc(e){e!==Nc&&null===e.next&&(null===Nc?Pc=Nc=e:Nc=Nc.next=e),Dc=!0,Rc||(Rc=!0,Od(function(){6&mu?ae(he,Fc):Vc()}))}function Uc(e,t){if(!Mc&&Dc){Mc=!0;do{for(var n=!1,r=Pc;null!==r;){if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-Se(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Bc(r,o))}else o=vu,!(3&(o=Ae(r,r===gu?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,o)||(n=!0,Bc(r,o));r=r.next}}while(n);Mc=!1}}function Fc(){Vc()}function Vc(){Dc=Rc=!1;var e=0;0!==jc&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=jc);for(var t=ce(),n=null,r=Pc;null!==r;){var i=r.next,o=zc(r,t);0===o?(r.next=null,null===n?Pc=i:n.next=i,null===i&&(Nc=n)):(n=r,(0!==e||3&o)&&(Dc=!0)),r=i}0!==Fu&&5!==Fu||Uc(e),0!==jc&&(jc=0)}function zc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-Se(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=Pe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=vu,n=Ae(e,e===(t=gu)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bu||9===bu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Fe(n)){case 2:case 8:n=fe;break;case 32:default:n=pe;break;case 268435456:n=ge}return r=qc.bind(null,e),n=ae(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function qc(e,t){if(0!==Fu&&5!==Fu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var r=vu;return 0===(r=Ae(e,e===gu?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xu(e,r,t),zc(e,ce()),null!=e.callbackNode&&e.callbackNode===n?qc.bind(null,e):null)}function Bc(e,t){if(Sc())return null;Xu(e,t,!0)}function Hc(){if(0===jc){var e=$i;0===e&&(e=Te,!(261888&(Te<<=1))&&(Te=256)),jc=e}return jc}function $c(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Rt(""+e)}function Gc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Kc=0;Kc<Or.length;Kc++){var Wc=Or[Kc];Ir(Wc.toLowerCase(),"on"+(Wc[0].toUpperCase()+Wc.slice(1)))}Ir(vr,"onAnimationEnd"),Ir(br,"onAnimationIteration"),Ir(wr,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(Er,"onTransitionRun"),Ir(Sr,"onTransitionStart"),Ir(_r,"onTransitionCancel"),Ir(xr,"onTransitionEnd"),at("onMouseEnter",["mouseout","mouseover"]),at("onMouseLeave",["mouseout","mouseover"]),at("onPointerEnter",["pointerout","pointerover"]),at("onPointerLeave",["pointerout","pointerover"]),ot("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ot("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ot("onBeforeInput",["compositionend","keypress","textInput","paste"]),ot("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ot("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jc));function Xc(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Cr(c)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=u;try{o(i)}catch(c){Cr(c)}i.currentTarget=null,o=l}}}}function Qc(e,t){var n=t[Ge];void 0===n&&(n=t[Ge]=new Set);var r=e+"__bubble";n.has(r)||(nd(t,e,2,!1),n.add(r))}function Zc(e,t,n){var r=0;t&&(r|=4),nd(n,e,r,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,rt.forEach(function(t){"selectionchange"!==t&&(Yc.has(t)||Zc(t,!1,e),Zc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zc("selectionchange",!1,t))}}function nd(e,t,n,r){switch(Ch(t)){case 2:var i=Sh;break;case 8:i=_h;break;default:i=xh}n=i.bind(null,t,n,e),i=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rd(e,t,n,r,i){var a=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var l=r.stateNode.containerInfo;if(l===i)break;if(4===s)for(s=r.return;null!==s;){var u=s.tag;if((3===u||4===u)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==l;){if(null===(s=Qe(l)))return;if(5===(u=s.tag)||6===u||26===u||27===u){r=a=s;continue e}l=l.parentNode}}r=r.return}zt(function(){var r=a,i=jt(n),s=[];e:{var l=Tr.get(e);if(void 0!==l){var u=on,c=e;switch(e){case"keypress":if(0===Yt(n))break e;case"keydown":case"keyup":u=wn;break;case"focusin":c="focus",u=dn;break;case"focusout":c="blur",u=dn;break;case"beforeblur":case"afterblur":u=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=un;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=cn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Sn;break;case vr:case br:case wr:u=hn;break;case xr:u=_n;break;case"scroll":case"scrollend":u=sn;break;case"wheel":u=xn;break;case"copy":case"cut":case"paste":u=fn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=En;break;case"toggle":case"beforetoggle":u=Tn}var d=!!(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==l?l+"Capture":null:l;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=qt(m,f))&&d.push(id(m,g,p)),h)break;m=m.return}0<d.length&&(l=new u(l,c,null,n,i),s.push({event:l,listeners:d}))}}if(!(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Mt||!(c=n.relatedTarget||n.fromElement)||!Qe(c)&&!c[$e])&&(u||l)&&(l=i.window===i?i:(l=i.ownerDocument)?l.defaultView||l.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?Qe(c):null)&&(h=o(c),d=c.tag,c!==h||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=un,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==u?l:et(u),p=null==c?l:et(c),(l=new d(g,m+"leave",u,n,i)).target=h,l.relatedTarget=p,g=null,Qe(i)===r&&((d=new d(f,m+"enter",c,n,i)).target=p,d.relatedTarget=h,g=d),h=g,u&&c)e:{for(d=ad,m=c,p=0,g=f=u;g;g=d(g))p++;g=0;for(var y=m;y;y=d(y))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==u&&sd(s,l,u,d,!1),null!==c&&null!==h&&sd(s,h,c,d,!0)}if("select"===(u=(l=r?et(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===u&&"file"===l.type)var v=Bn;else if(Ln(l))if(Hn)v=Zn;else{v=Xn;var b=Yn}else!(u=l.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?r&&kt(r.elementType)&&(v=Bn):v=Qn;switch(v&&(v=v(e,r))?Un(s,v,n,i):(b&&b(e,l,r),"focusout"===e&&r&&"number"===l.type&&null!=r.memoizedProps.value&&St(l,"number",l.value)),b=r?et(r):window,e){case"focusin":(Ln(b)||"true"===b.contentEditable)&&(lr=b,ur=r,cr=null);break;case"focusout":cr=ur=lr=null;break;case"mousedown":dr=!0;break;case"contextmenu":case"mouseup":case"dragend":dr=!1,hr(s,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":hr(s,n,i)}var w;if(In)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mn?Rn(e,n)&&(E="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(E="onCompositionStart");E&&(kn&&"ko"!==n.locale&&(Mn||"onCompositionStart"!==E?"onCompositionEnd"===E&&Mn&&(w=Jt()):(Kt="value"in(Gt=i)?Gt.value:Gt.textContent,Mn=!0)),0<(b=od(r,E)).length&&(E=new pn(E,e,null,n,i),s.push({event:E,listeners:b}),w?E.data=w:null!==(w=Dn(n))&&(E.data=w))),(w=An?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Nn=!0,Pn);case"textInput":return(e=t.data)===Pn&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Mn)return"compositionend"===e||!In&&Rn(e,t)?(e=Jt(),Wt=Kt=Gt=null,Mn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(E=od(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:E}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=$c((i[He]||null).action),a=r.submitter;a&&null!==(t=(t=a[He]||null)?$c(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new on("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==jc){var e=a?Gc(i,a):new FormData(i);rs(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"==typeof o&&(s.preventDefault(),e=a?Gc(i,a):new FormData(i),rs(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(s,e,r,n,i)}Xc(s,t)})}function id(e,t,n){return{instance:e,listener:t,currentTarget:n}}function od(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=qt(e,n))&&r.unshift(id(e,i,o)),null!=(i=qt(e,t))&&r.push(id(e,i,o))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,i?null!=(u=qt(n,o))&&a.unshift(id(n,u,l)):i||null!=(u=qt(n,o))&&a.push(id(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ld=/\r\n?/g,ud=/\u0000|\uFFFD/g;function cd(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(ud,"")}function dd(e,t){return t=cd(t),cd(e)===t}function hd(e,t,n,i,o,a){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||Ot(e,i):("number"==typeof i||"bigint"==typeof i)&&"body"!==t&&Ot(e,""+i);break;case"className":dt(e,"class",i);break;case"tabIndex":dt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":dt(e,n,i);break;case"style":At(e,i,a);break;case"data":if("object"!==t){dt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&hd(e,t,"name",o.name,o,null),hd(e,t,"formEncType",o.formEncType,o,null),hd(e,t,"formMethod",o.formMethod,o,null),hd(e,t,"formTarget",o.formTarget,o,null)):(hd(e,t,"encType",o.encType,o,null),hd(e,t,"method",o.method,o,null),hd(e,t,"target",o.target,o,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}i=Rt(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Dt);break;case"onScroll":null!=i&&Qc("scroll",e);break;case"onScrollEnd":null!=i&&Qc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}n=Rt(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Qc("beforetoggle",e),Qc("toggle",e),ct(e,"popover",i);break;case"xlinkActuate":ht(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ht(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ht(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ht(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ht(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ht(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ht(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ht(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ht(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ct(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ct(e,n=Pt.get(n)||n,i)}}function fd(e,t,n,i,o,a){switch(n){case"style":At(e,i,a);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(r(61));if(null!=(n=i.__html)){if(null!=o.children)throw Error(r(60));e.innerHTML=n}}break;case"children":"string"==typeof i?Ot(e,i):("number"==typeof i||"bigint"==typeof i)&&Ot(e,""+i);break;case"onScroll":null!=i&&Qc("scroll",e);break;case"onScrollEnd":null!=i&&Qc("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Dt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:it.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"==typeof(a=null!=(a=e[He]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!=typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):ct(e,n,i):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qc("error",e),Qc("load",e);var i,o=!1,a=!1;for(i in n)if(n.hasOwnProperty(i)){var s=n[i];if(null!=s)switch(i){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,i,s,n,null)}}return a&&hd(e,t,"srcSet",n.srcSet,n,null),void(o&&hd(e,t,"src",n.src,n,null));case"input":Qc("invalid",e);var l=i=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(r(137,t));break;default:hd(e,t,o,d,n,null)}}return void Et(e,i,l,u,c,s,a,!1);case"select":for(a in Qc("invalid",e),o=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:hd(e,t,a,l,n,null)}return t=i,n=s,e.multiple=!!o,void(null!=t?_t(e,!!o,t,!1):null!=n&&_t(e,!!o,n,!0));case"textarea":for(s in Qc("invalid",e),i=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(r(91));break;default:hd(e,t,s,l,n,null)}return void Tt(e,o,a,i);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!=typeof o&&"symbol"!=typeof o;else hd(e,t,u,o,n,null);return;case"dialog":Qc("beforetoggle",e),Qc("toggle",e),Qc("cancel",e),Qc("close",e);break;case"iframe":case"object":Qc("load",e);break;case"video":case"audio":for(o=0;o<Jc.length;o++)Qc(Jc[o],e);break;case"image":Qc("error",e),Qc("load",e);break;case"details":Qc("toggle",e);break;case"embed":case"source":case"link":Qc("error",e),Qc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:hd(e,t,c,o,n,null)}return;default:if(kt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&fd(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&hd(e,t,l,o,n,null))}function md(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,yd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function Ed(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var _d="function"==typeof setTimeout?setTimeout:void 0,xd="function"==typeof clearTimeout?clearTimeout:void 0,Td="function"==typeof Promise?Promise:void 0,Od="function"==typeof queueMicrotask?queueMicrotask:void 0!==Td?function(e){return Td.resolve(null).then(e).catch(Id)}:_d;function Id(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Ad(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Gh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Vd(e.ownerDocument.documentElement);else if("head"===n){Vd(n=e.ownerDocument.head);for(var o=n.firstChild;o;){var a=o.nextSibling,s=o.nodeName;o[Ye]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}else"body"===n&&Vd(e.ownerDocument.body);n=i}while(n);Gh(t)}function kd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Xe(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Nd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Md(e.nextSibling)))return null}return e}function Rd(e){return"$?"===e.data||"$~"===e.data}function Dd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Md(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ud(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(r(452));return e;case"head":if(!(e=t.head))throw Error(r(453));return e;case"body":if(!(e=t.body))throw Error(r(454));return e;default:throw Error(r(451))}}function Vd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var zd=new Map,qd=new Set;function Bd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hd=L.d;L.d={f:function(){var e=Hd.f(),t=tc();return e||t},r:function(e){var t=Ze(e);null!==t&&5===t.tag&&"form"===t.type?os(t):Hd.r(e)},D:function(e){Hd.D(e),Gd("dns-prefetch",e,null)},C:function(e,t){Hd.C(e,t),Gd("preconnect",e,t)},L:function(e,t,n){Hd.L(e,t,n);var r=$d;if(r&&e&&t){var i='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(i+='[imagesizes="'+bt(n.imageSizes)+'"]')):i+='[href="'+bt(e)+'"]';var o=i;switch(t){case"style":o=Wd(e);break;case"script":o=Xd(e)}zd.has(o)||(e=c({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Jd(o))||"script"===t&&r.querySelector(Qd(o))||(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}},m:function(e,t){Hd.m(e,t);var n=$d;if(n&&e){var r=t&&"string"==typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+bt(r)+'"][href="'+bt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Xd(e)}if(!zd.has(o)&&(e=c({rel:"modulepreload",href:e},t),zd.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qd(o)))return}pd(r=n.createElement("link"),"link",e),nt(r),n.head.appendChild(r)}}},X:function(e,t){Hd.X(e,t);var n=$d;if(n&&e){var r=tt(n).hoistableScripts,i=Xd(e),o=r.get(i);o||((o=n.querySelector(Qd(i)))||(e=c({src:e,async:!0},t),(t=zd.get(i))&&nh(e,t),nt(o=n.createElement("script")),pd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Hd.S(e,t,n);var r=$d;if(r&&e){var i=tt(r).hoistableStyles,o=Wd(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Jd(o)))s.loading=5;else{e=c({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(o))&&th(e,n);var l=a=r.createElement("link");nt(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,eh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Hd.M(e,t);var n=$d;if(n&&e){var r=tt(n).hoistableScripts,i=Xd(e),o=r.get(i);o||((o=n.querySelector(Qd(i)))||(e=c({src:e,async:!0,type:"module"},t),(t=zd.get(i))&&nh(e,t),nt(o=n.createElement("script")),pd(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var $d="undefined"==typeof document?null:document;function Gd(e,t,n){var r=$d;if(r&&"string"==typeof t&&t){var i=bt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"==typeof n&&(i+='[crossorigin="'+n+'"]'),qd.has(i)||(qd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(pd(t=r.createElement("link"),"link",e),nt(t),r.head.appendChild(t)))}}function Kd(e,t,n,i){var o,a,s,l,u=(u=W.current)?Bd(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Wd(n.href),(i=(n=tt(u).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Wd(n.href);var c=tt(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Jd(e)))&&!c._p&&(d.instance=c,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),c||(o=u,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),pd(a,"link",s),nt(a),o.head.appendChild(a))))),t&&null===i)throw Error(r(528,""));return d}if(t&&null!==i)throw Error(r(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(i=(n=tt(u).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wd(e){return'href="'+bt(e)+'"'}function Jd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return c({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+bt(e)+'"]'}function Qd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(i)return t.instance=i,nt(i),i;var o=c({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return nt(i=(e.ownerDocument||e).createElement("style")),pd(i,"style",o),eh(i,n.precedence,e),t.instance=i;case"stylesheet":o=Wd(n.href);var a=e.querySelector(Jd(o));if(a)return t.state.loading|=4,t.instance=a,nt(a),a;i=Yd(n),(o=zd.get(o))&&th(i,o),nt(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(a,"link",i),t.state.loading|=4,eh(a,n.precedence,e),t.instance=a;case"script":return a=Xd(n.src),(o=e.querySelector(Qd(a)))?(t.instance=o,nt(o),o):(i=n,(o=zd.get(a))&&nh(i=c({},n),o),nt(o=(e=e.ownerDocument||e).createElement("script")),pd(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,eh(i,n.precedence,e));return t.instance}function eh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rh=null;function ih(e,t,n){if(null===rh){var r=new Map,i=rh=new Map;i.set(n,r)}else(r=(i=rh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[Ye]||o[Be]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function oh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var sh=0;function lh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var uh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uh=new Map,t.forEach(dh,e),uh=null,lh.call(e))}function dh(e,t){if(!(4&t.state.loading)){var n=uh.get(e);if(n)var r=n.get(null);else{n=new Map,uh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=lh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hh={$$typeof:b,Provider:null,Consumer:null,_currentValue:U,_currentValue2:U,_threadCount:0};function fh(e,t,n,r,i,o,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Re(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Re(0),this.hiddenUpdates=Re(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,i,o,a,s,l,u,c,d){return e=new fh(e,t,n,a,l,u,c,d,s),t=1,!0===o&&(t|=24),o=Vr(3,null,null,t),e.current=o,o.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},bo(o),e}function mh(e){return e?e=Ur:Ur}function gh(e,t,n,r,i,o){i=mh(i),null===r.context?r.context=i:r.pendingContext=i,(r=Eo(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=So(e,r,t))&&(Yu(n,0,t),_o(n,e,t))}function yh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){yh(e,t),(e=e.alternate)&&yh(e,t)}function bh(e){if(13===e.tag||31===e.tag){var t=Mr(e,67108864);null!==t&&Yu(t,0,67108864),vh(e,67108864)}}function wh(e){if(13===e.tag||31===e.tag){var t=Wu(),n=Mr(e,t=Ue(t));null!==n&&Yu(n,0,t),vh(e,t)}}var Eh=!0;function Sh(e,t,n,r){var i=j.T;j.T=null;var o=L.p;try{L.p=2,xh(e,t,n,r)}finally{L.p=o,j.T=i}}function _h(e,t,n,r){var i=j.T;j.T=null;var o=L.p;try{L.p=8,xh(e,t,n,r)}finally{L.p=o,j.T=i}}function xh(e,t,n,r){if(Eh){var i=Th(r);if(null===i)rd(e,t,r,Oh,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return kh=Uh(kh,e,t,n,r,i),!0;case"dragenter":return Ph=Uh(Ph,e,t,n,r,i),!0;case"mouseover":return Nh=Uh(Nh,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rh.set(o,Uh(Rh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Dh.set(o,Uh(Dh.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<jh.indexOf(e)){for(;null!==i;){var o=Ze(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=Ce(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-Se(a);s.entanglements[1]|=l,a&=~l}Lc(o),!(6&mu)&&(ju=ce()+500,Uc(0))}}break;case 31:case 13:null!==(s=Mr(o,2))&&Yu(s,0,2),tc(),vh(o,2)}if(null===(o=Th(r))&&rd(e,t,r,Oh,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else rd(e,t,r,null,n)}}function Th(e){return Ih(e=jt(e))}var Oh=null;function Ih(e){if(Oh=null,null!==(e=Qe(e))){var t=o(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(31===n){if(null!==(e=s(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Oh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case he:return 2;case fe:return 8;case pe:case me:return 32;case ge:return 268435456;default:return 32}default:return 32}}var Ah=!1,kh=null,Ph=null,Nh=null,Rh=new Map,Dh=new Map,Mh=[],jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":kh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Rh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Uh(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ze(t))&&bh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Qe(e.target);if(null!==t){var n=o(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void ze(e.priority,function(){wh(n)})}else if(31===t){if(null!==(t=s(n)))return e.blockedOn=t,void ze(e.priority,function(){wh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Th(e.nativeEvent);if(null!==n)return null!==(t=Ze(n))&&bh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Mt=r,n.target.dispatchEvent(r),Mt=null,t.shift()}return!0}function zh(e,t,n){Vh(e)&&n.delete(t)}function qh(){Ah=!1,null!==kh&&Vh(kh)&&(kh=null),null!==Ph&&Vh(Ph)&&(Ph=null),null!==Nh&&Vh(Nh)&&(Nh=null),Rh.forEach(zh),Dh.forEach(zh)}function Bh(t,n){t.blockedOn===n&&(t.blockedOn=null,Ah||(Ah=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qh)))}var Hh=null;function $h(t){Hh!==t&&(Hh=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Hh===t&&(Hh=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if("function"!=typeof r){if(null===Ih(r||n))continue;break}var o=Ze(n);null!==o&&(t.splice(e,3),e-=3,rs(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Gh(e){function t(t){return Bh(t,e)}null!==kh&&Bh(kh,e),null!==Ph&&Bh(Ph,e),null!==Nh&&Bh(Nh,e),Rh.forEach(t),Dh.forEach(t);for(var n=0;n<Mh.length;n++){var r=Mh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Mh.length&&null===(n=Mh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Mh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[He]||null;if("function"==typeof o)a||$h(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[He]||null)s=a.formAction;else if(null!==Ih(i))continue}else s=a.action;"function"==typeof s?n[r+1]=s:(n.splice(r,3),r-=3),$h(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Wh(e){this._internalRoot=e}function Jh(e){this._internalRoot=e}Jh.prototype.render=Wh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));gh(t.current,Wu(),e,t,null,null)},Jh.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gh(e.current,2,null,e,null,null),tc(),t[$e]=null}},Jh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ve();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mh.length&&0!==t&&t<Mh[n].priority;n++);Mh.splice(n,0,e),0===n&&Fh(e)}};var Yh=t.version;if("19.2.3"!==Yh)throw Error(r(527,Yh,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=o(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var a=n.return;if(null===a)break;var s=a.alternate;if(null===s){if(null!==(i=a.return)){n=i;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===i)return l(a),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=a,i=s;else{for(var u=!1,c=a.child;c;){if(c===n){u=!0,n=a,i=s;break}if(c===i){u=!0,i=a,n=s;break}c=c.sibling}if(!u){for(c=s.child;c;){if(c===n){u=!0,n=s,i=a;break}if(c===i){u=!0,i=s,n=a;break}c=c.sibling}if(!u)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?u(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qh.isDisabled&&Qh.supportsFiber)try{be=Qh.inject(Xh),we=Qh}catch(Zh){}}return E.createRoot=function(e,t){if(!i(e))throw Error(r(299));var n=!1,o="",a=Os,s=Is,l=Cs;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(o=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,o,null,a,s,l,Kh),e[$e]=t.current,td(e),new Wh(t)},E.hydrateRoot=function(e,t,n){if(!i(e))throw Error(r(299));var o=!1,a="",s=Os,l=Is,u=Cs,c=null;return null!=n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.formState&&(c=n.formState)),(t=ph(e,1,!0,t,0,o,a,c,s,l,u,Kh)).context=mh(null),n=t.current,(a=Eo(o=Ue(o=Wu()))).callback=null,So(n,a,o),n=o,t.current.lanes=n,De(t,n),Lc(t),e[$e]=t.current,td(e),new Jh(t)},E.version="19.2.3",E}const D=r((C||(C=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),w.exports=R()),w.exports));
/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M="popstate";function j(e={}){return function(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s="POP",l=null,u=c();null==u&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function d(){s="POP";let e=c(),t=null==e?null:e-u;u=e,l&&l({action:s,location:m.location,delta:t})}function h(e,t){s="PUSH";let r=V(m.location,e,t);n&&n(r,e),u=c()+1;let d=F(r,u),h=m.createHref(r);try{a.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}o&&l&&l({action:s,location:m.location,delta:1})}function f(e,t){s="REPLACE";let r=V(m.location,e,t);n&&n(r,e),u=c();let i=F(r,u),d=m.createHref(r);a.replaceState(i,"",d),o&&l&&l({action:s,location:m.location,delta:0})}function p(e){return function(e,t=!1){let n="http://localhost";"undefined"!=typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href);L(n,"No window.location.(origin|href) available to create URL");let r="string"==typeof e?e:z(e);r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r);return new URL(r,n)}(e)}let m={get action(){return s},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(M,d),l=e,()=>{i.removeEventListener(M,d),l=null}},createHref:e=>t(i,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:h,replace:f,go:e=>a.go(e)};return m}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=q(e.location.hash.substring(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),V("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:z(t))},function(e,t){U("/"===e.pathname.charAt(0),`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)},e)}function L(e,t){if(!1===e||null==e)throw new Error(t)}function U(e,t){if(!e)try{throw new Error(t)}catch(eF){}}function F(e,t){return{usr:e.state,key:e.key,idx:t}}function V(e,t,n=null,r){return{pathname:"string"==typeof e?e:e.pathname,search:"",hash:"",..."string"==typeof t?q(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function z({pathname:e="/",search:t="",hash:n=""}){return t&&"?"!==t&&(e+="?"===t.charAt(0)?t:"?"+t),n&&"#"!==n&&(e+="#"===n.charAt(0)?n:"#"+n),e}function q(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function B(e,t,n="/"){return function(e,t,n,r){let i="string"==typeof t?q(t):t,o=re(i.pathname||"/",n);if(null==o)return null;let a=H(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let l=0;null==s&&l<a.length;++l){let e=ne(o);s=ee(a[l],e,r)}return s}(e,t,n,!1)}function H(e,t=[],n=[],r="",i=!1){let o=(e,o,a=i,s)=>{let l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&a)return;L(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length)}let u=ce([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(L(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),H(e.children,t,c,u,a)),(null!=e.path||e.index)&&t.push({path:u,score:Z(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&(null==(n=e.path)?void 0:n.includes("?")))for(let r of $(e.path))o(e,t,!0,r);else o(e,t)}),t}function $(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===r.length)return i?[o,""]:[o];let a=$(r.join("/")),s=[];return s.push(...a.map(e=>""===e?o:[o,e].join("/"))),i&&s.push(...a),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var G=/^:[\w-]+$/,K=3,W=2,J=1,Y=10,X=-2,Q=e=>"*"===e;function Z(e,t){let n=e.split("/"),r=n.length;return n.some(Q)&&(r+=X),t&&(r+=W),n.filter(e=>!Q(e)).reduce((e,t)=>e+(G.test(t)?K:""===t?J:Y),r)}function ee(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",a=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===o?t:t.slice(o.length)||"/",c=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=te({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(i,c.params),a.push({params:i,pathname:ce([o,c.pathname]),pathnameBase:de(ce([o,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(o=ce([o,c.pathnameBase]))}return a}function te(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t=!1,n=!0){U("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if("*"===t){let e=s[r]||"";a=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const i=s[r];return e[t]=n&&!i?void 0:(i||"").replace(/%2F/g,"/"),e},{}),pathname:o,pathnameBase:a,pattern:e}}function ne(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return U(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function re(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var ie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function oe(e,t="/"){let n,{pathname:r,search:i="",hash:o=""}="string"==typeof e?q(e):e;if(r)if(a=r,ie.test(a))n=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),U(!1,`Pathnames cannot have embedded double slashes - normalizing ${e} -> ${r}`)}n=r.startsWith("/")?ae(r.substring(1),"/"):ae(r,t)}else n=t;var a;return{pathname:n,search:he(i),hash:fe(o)}}function ae(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function se(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function le(e){let t=function(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function ue(e,t,n,r=!1){let i;"string"==typeof e?i=q(e):(i={...e},L(!i.pathname||!i.pathname.includes("?"),se("?","pathname","search",i)),L(!i.pathname||!i.pathname.includes("#"),se("#","pathname","hash",i)),L(!i.search||!i.search.includes("#"),se("#","search","hash",i)));let o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(null==s)o=n;else{let e=t.length-1;if(!r&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=oe(i,o),u=s&&"/"!==s&&s.endsWith("/"),c=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!u&&!c||(l.pathname+="/"),l}var ce=e=>e.join("/").replace(/\/\/+/g,"/"),de=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),he=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",fe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",pe=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function me(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ge="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function ye(e,t){let n=e;if("string"!=typeof n||!ie.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(ge)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),o=re(r.pathname,t);r.origin===e.origin&&null!=o?n=o+r.search+r.hash:i=!0}catch(eF){U(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ve=["POST","PUT","PATCH","DELETE"];new Set(ve);var be=["GET",...ve];new Set(be);var we=m.createContext(null);we.displayName="DataRouter";var Ee=m.createContext(null);Ee.displayName="DataRouterState";var Se=m.createContext(!1),_e=m.createContext({isTransitioning:!1});_e.displayName="ViewTransition",m.createContext(new Map).displayName="Fetchers",m.createContext(null).displayName="Await";var xe=m.createContext(null);xe.displayName="Navigation";var Te=m.createContext(null);Te.displayName="Location";var Oe=m.createContext({outlet:null,matches:[],isDataRoute:!1});Oe.displayName="Route";var Ie=m.createContext(null);Ie.displayName="RouteError";var Ce="REACT_ROUTER_ERROR";function Ae(){return null!=m.useContext(Te)}function ke(){return L(Ae(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(Te).location}var Pe="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ne(e){m.useContext(xe).static||m.useLayoutEffect(e)}function Re(){let{isDataRoute:e}=m.useContext(Oe);return e?function(){let{router:e}=function(e){let t=m.useContext(we);return L(t,qe(e)),t}("useNavigate"),t=Be("useNavigate"),n=m.useRef(!1);return Ne(()=>{n.current=!0}),m.useCallback(async(r,i={})=>{U(n.current,Pe),n.current&&("number"==typeof r?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}():function(){L(Ae(),"useNavigate() may be used only in the context of a <Router> component.");let e=m.useContext(we),{basename:t,navigator:n}=m.useContext(xe),{matches:r}=m.useContext(Oe),{pathname:i}=ke(),o=JSON.stringify(le(r)),a=m.useRef(!1);return Ne(()=>{a.current=!0}),m.useCallback((r,s={})=>{if(U(a.current,Pe),!a.current)return;if("number"==typeof r)return void n.go(r);let l=ue(r,JSON.parse(o),i,"path"===s.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:ce([t,l.pathname])),(s.replace?n.replace:n.push)(l,s.state,s)},[t,n,o,i,e])}()}function De(e,{relative:t}={}){let{matches:n}=m.useContext(Oe),{pathname:r}=ke(),i=JSON.stringify(le(n));return m.useMemo(()=>ue(e,JSON.parse(i),r,"path"===t),[e,i,r,t])}function Me(e,t,n,r,i){var o;L(Ae(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=m.useContext(xe),{matches:s}=m.useContext(Oe),l=s[s.length-1],u=l?l.params:{},c=l?l.pathname:"/",d=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";$e(c,!h||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=ke();if(t){let e="string"==typeof t?q(t):t;L("/"===d||(null==(o=e.pathname)?void 0:o.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let g=f.pathname||"/",y=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=B(e,{pathname:y});U(h||null!=v,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),U(null==v||void 0!==v[v.length-1].route.element||void 0!==v[v.length-1].route.Component||void 0!==v[v.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=function(e,t=[],n=null,r=null){if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=null==n?void 0:n.errors;if(null!=o){let e=i.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));L(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,s=-1;if(n)for(let u=0;u<i.length;u++){let e=i[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=u),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){a=!0,i=s>=0?i.slice(0,s+1):[i[0]];break}}}let l=n&&r?(e,t)=>{var i,o;r(e,{location:n.location,params:(null==(o=null==(i=n.matches)?void 0:i[0])?void 0:o.params)??{},unstable_pattern:me(n.matches),errorInfo:t})}:void 0;return i.reduceRight((e,r,u)=>{let c,d=!1,h=null,f=null;n&&(c=o&&r.route.id?o[r.route.id]:void 0,h=r.route.errorElement||Le,a&&(s<0&&0===u?($e("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,f=null):s===u&&(d=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(i.slice(0,u+1)),g=()=>{let t;return t=c?h:d?f:r.route.Component?m.createElement(r.route.Component,null):r.route.element?r.route.element:e,m.createElement(ze,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===u)?m.createElement(Ue,{location:n.location,revalidation:n.revalidation,component:h,error:c,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0},onError:l}):g()},null)}(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ce([d,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:ce([d,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,r,i);return t&&b?m.createElement(Te.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},b):b}function je(){let e=function(){var e;let t=m.useContext(Ie),n=function(e){let t=m.useContext(Ee);return L(t,qe(e)),t}("useRouteError"),r=Be("useRouteError");if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=function(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},a=null;return a=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:o},"ErrorBoundary")," or"," ",m.createElement("code",{style:o},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:i},n):null,a)}m.createContext(null);var Le=m.createElement(je,null),Ue=class extends m.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t)}render(){let e=this.state.error;if(this.context&&"object"==typeof e&&e&&"digest"in e&&"string"==typeof e.digest){const t=function(e){if(e.startsWith(`${Ce}:ROUTE_ERROR_RESPONSE:{`))try{let t=JSON.parse(e.slice(40));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText)return new pe(t.status,t.statusText,t.data)}catch{}}(e.digest);t&&(e=t)}let t=void 0!==e?m.createElement(Oe.Provider,{value:this.props.routeContext},m.createElement(Ie.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?m.createElement(Ve,{error:e},t):t}};Ue.contextType=Se;var Fe=new WeakMap;function Ve({children:e,error:t}){let{basename:n}=m.useContext(xe);if("object"==typeof t&&t&&"digest"in t&&"string"==typeof t.digest){let e=function(e){if(e.startsWith(`${Ce}:REDIRECT:{`))try{let t=JSON.parse(e.slice(28));if("object"==typeof t&&t&&"number"==typeof t.status&&"string"==typeof t.statusText&&"string"==typeof t.location&&"boolean"==typeof t.reloadDocument&&"boolean"==typeof t.replace)return t}catch{}}(t.digest);if(e){let r=Fe.get(t);if(r)throw r;let i=ye(e.location,n);if(ge&&!Fe.get(t)){if(!i.isExternal&&!e.reloadDocument){const n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw Fe.set(t,n),n}window.location.href=i.absoluteURL||i.to}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return e}function ze({routeContext:e,match:t,children:n}){let r=m.useContext(we);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),m.createElement(Oe.Provider,{value:e},n)}function qe(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Be(e){let t=function(e){let t=m.useContext(Oe);return L(t,qe(e)),t}(e),n=t.matches[t.matches.length-1];return L(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}var He={};function $e(e,t,n){t||He[e]||(He[e]=!0,U(!1,n))}function Ge({to:e,replace:t,state:n,relative:r}){L(Ae(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=m.useContext(xe);U(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=m.useContext(Oe),{pathname:a}=ke(),s=Re(),l=ue(e,le(o),a,"path"===r),u=JSON.stringify(l);return m.useEffect(()=>{s(JSON.parse(u),{replace:t,state:n,relative:r})},[s,u,r,t,n]),null}function Ke(e){L(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function We({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:a}){L(!Ae(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),l=m.useMemo(()=>({basename:s,navigator:i,static:o,unstable_useTransitions:a,future:{}}),[s,i,o,a]);"string"==typeof n&&(n=q(n));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:f="default"}=n,p=m.useMemo(()=>{let e=re(u,s);return null==e?null:{location:{pathname:e,search:c,hash:d,state:h,key:f},navigationType:r}},[s,u,c,d,h,f,r]);return U(null!=p,`<Router basename="${s}"> is not able to match the URL "${u}${c}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==p?null:m.createElement(xe.Provider,{value:l},m.createElement(Te.Provider,{children:t,value:p}))}function Je({children:e,location:t}){return Me(Ye(e),t)}function Ye(e,t=[]){let n=[];return m.Children.forEach(e,(e,r)=>{if(!m.isValidElement(e))return;let i=[...t,r];if(e.type===m.Fragment)return void n.push.apply(n,Ye(e.props.children,i));L(e.type===Ke,`[${"string"==typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),L(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Ye(e.props.children,i)),n.push(o)}),n}m.memo(function({routes:e,future:t,state:n,onError:r}){return Me(e,void 0,n,r,t)});var Xe="get",Qe="application/x-www-form-urlencoded";function Ze(e){return"undefined"!=typeof HTMLElement&&e instanceof HTMLElement}var et=null;var tt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nt(e){return null==e||tt.has(e)?e:(U(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qe}"`),null)}function rt(e,t){let n,r,i,o,a;if(Ze(s=e)&&"form"===s.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?re(a,t):null,n=e.getAttribute("method")||Xe,i=nt(e.getAttribute("enctype"))||Qe,o=new FormData(e)}else if(function(e){return Ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||a.getAttribute("action");if(r=s?re(s,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Xe,i=nt(e.getAttribute("formenctype"))||nt(a.getAttribute("enctype"))||Qe,o=new FormData(a,e),!function(){if(null===et)try{new FormData(document.createElement("form"),0),et=!1}catch(eF){et=!0}return et}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,r)}}else{if(Ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Xe,r=null,i=Qe,a=e}var s;return o&&"text/plain"===i&&(a=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:a}}function it(e,t){if(!1===e||null==e)throw new Error(t)}function ot(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"==typeof e.imageSrcSet&&"string"==typeof e.imageSizes:"string"==typeof e.rel&&"string"==typeof e.href)}async function at(e,t,n){return function(e,t){let n=new Set;return new Set(t),e.reduce((e,t)=>{let r=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(t));return n.has(r)||(n.add(r),e.push({key:r,link:t})),e},[])}((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await async function(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(ot).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"}))}function st(e,t,n,r,i,o){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null==(r=n[t].route.path)?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===o?t.filter((e,t)=>a(e,t)||s(e,t)):"data"===o?t.filter((t,o)=>{var l;let u=r.routes[t.route.id];if(!u||!u.hasLoader)return!1;if(a(t,o)||s(t,o))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null==(l=n[0])?void 0:l.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"==typeof r)return r}return!0}):[]}function lt(e,t,{includeHydrateFallback:n}={}){return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1),[...new Set(r)];var r}function ut(){let e=m.useContext(we);return it(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ct=m.createContext(void 0);function dt(){let e=m.useContext(ct);return it(e,"You must render this element inside a <HydratedRouter> element"),e}function ht(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ft({page:e,...t}){let{router:n}=ut(),r=m.useMemo(()=>B(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?m.createElement(pt,{page:e,matches:r,...t}):null}function pt({page:e,matches:t,...n}){let r=ke(),{manifest:i,routeModules:o}=dt(),{basename:a}=ut(),{loaderData:s,matches:l}=function(){let e=m.useContext(Ee);return it(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}(),u=m.useMemo(()=>st(e,t,l,i,r,"data"),[e,t,l,i,r]),c=m.useMemo(()=>st(e,t,l,i,r,"assets"),[e,t,l,i,r]),d=m.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{var t;let r=i.routes[e.route.id];r&&r.hasLoader&&(!u.some(t=>t.route.id===e.route.id)&&e.route.id in s&&(null==(t=o[e.route.id])?void 0:t.shouldRevalidate)||r.hasClientLoader?l=!0:n.add(e.route.id))}),0===n.size)return[];let c=function(e,t,n){let r="string"==typeof e?new URL(e,"undefined"==typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname=`_root.${n}`:t&&"/"===re(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}(e,a,"data");return l&&n.size>0&&c.searchParams.set("_routes",t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(",")),[c.pathname+c.search]},[a,s,r,i,u,t,e,o]),h=m.useMemo(()=>lt(c,i),[c,i]),f=function(e){let{manifest:t,routeModules:n}=dt(),[r,i]=m.useState([]);return m.useEffect(()=>{let r=!1;return at(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}(c);return m.createElement(m.Fragment,null,d.map(e=>m.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...n})),h.map(e=>m.createElement("link",{key:e,rel:"modulepreload",href:e,...n})),f.map(({key:e,link:t})=>m.createElement("link",{key:e,nonce:n.nonce,...t})))}function mt(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}ct.displayName="FrameworkContext";var gt="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;try{gt&&(window.__reactRouterVersion="7.11.0")}catch(eF){}function yt({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=m.useRef();null==i.current&&(i.current=j({window:r,v5Compat:!0}));let o=i.current,[a,s]=m.useState({action:o.action,location:o.location}),l=m.useCallback(e=>{!1===n?s(e):m.startTransition(()=>s(e))},[n]);return m.useLayoutEffect(()=>o.listen(l),[o,l]),m.createElement(We,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,unstable_useTransitions:n})}var vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bt=m.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:r,reloadDocument:i,replace:o,state:a,target:s,to:l,preventScrollReset:u,viewTransition:c,unstable_defaultShouldRevalidate:d,...h},f){let{basename:p,unstable_useTransitions:g}=m.useContext(xe),y="string"==typeof l&&vt.test(l),v=ye(l,p),b=function(e,{relative:t}={}){L(Ae(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=m.useContext(xe),{hash:i,pathname:o,search:a}=De(e,{relative:t}),s=o;return"/"!==n&&(s="/"===o?n:ce([n,o])),r.createHref({pathname:s,search:a,hash:i})}(l=v.to,{relative:r}),[w,E,S]=function(e,t){let n=m.useContext(ct),[r,i]=m.useState(!1),[o,a]=m.useState(!1),{onFocus:s,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,h=m.useRef(null);m.useEffect(()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{a(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),m.useEffect(()=>{if(r){let e=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(e)}}},[r]);let f=()=>{i(!0)},p=()=>{i(!1),a(!1)};return n?"intent"!==e?[o,h,{}]:[o,h,{onFocus:ht(s,f),onBlur:ht(l,p),onMouseEnter:ht(u,f),onMouseLeave:ht(c,p),onTouchStart:ht(d,f)}]:[!1,h,{}]}(n,h),_=function(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s,unstable_useTransitions:l}={}){let u=Re(),c=ke(),d=De(e,{relative:o});return m.useCallback(h=>{if(function(e,t){return!(0!==e.button||t&&"_self"!==t||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e))}(h,t)){h.preventDefault();let t=void 0!==n?n:z(c)===z(d),f=()=>u(e,{replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:a,unstable_defaultShouldRevalidate:s});l?m.startTransition(()=>f()):f()}},[c,u,d,n,r,t,e,i,o,a,s,l])}(l,{replace:o,state:a,target:s,preventScrollReset:u,relative:r,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:g});let x=m.createElement("a",{...h,...S,href:v.absoluteURL||b,onClick:v.isExternal||i?e:function(t){e&&e(t),t.defaultPrevented||_(t)},ref:mt(f,E),target:s,"data-discover":y||"render"!==t?void 0:"true"});return w&&!y?m.createElement(m.Fragment,null,x,m.createElement(ft,{page:b})):x});function wt(e){let t=m.useContext(we);return L(t,function(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}(e)),t}bt.displayName="Link",m.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:r=!1,style:i,to:o,viewTransition:a,children:s,...l},u){let c=De(o,{relative:l.relative}),d=ke(),h=m.useContext(Ee),{navigator:f,basename:p}=m.useContext(xe),g=null!=h&&function(e,{relative:t}={}){let n=m.useContext(_e);L(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=wt("useViewTransitionState"),i=De(e,{relative:t});if(!n.isTransitioning)return!1;let o=re(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=re(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=te(i.pathname,a)||null!=te(i.pathname,o)}(c)&&!0===a,y=f.encodeLocation?f.encodeLocation(c).pathname:c.pathname,v=d.pathname,b=h&&h.navigation&&h.navigation.location?h.navigation.location.pathname:null;t||(v=v.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&p&&(b=re(b,p)||b);const w="/"!==y&&y.endsWith("/")?y.length-1:y.length;let E,S=v===y||!r&&v.startsWith(y)&&"/"===v.charAt(w),_=null!=b&&(b===y||!r&&b.startsWith(y)&&"/"===b.charAt(y.length)),x={isActive:S,isPending:_,isTransitioning:g},T=S?e:void 0;E="function"==typeof n?n(x):[n,S?"active":null,_?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let O="function"==typeof i?i(x):i;return m.createElement(bt,{...l,"aria-current":T,className:E,ref:u,style:O,to:o,viewTransition:a},"function"==typeof s?s(x):s)}).displayName="NavLink",m.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:a=Xe,action:s,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h,...f},p)=>{let{unstable_useTransitions:g}=m.useContext(xe),y=function(){let{router:e}=wt("useSubmit"),{basename:t}=m.useContext(xe),n=Be("useRouteId"),r=e.fetch,i=e.navigate;return m.useCallback(async(e,o={})=>{let{action:a,method:s,encType:l,formData:u,body:c}=rt(e,t);if(!1===o.navigate){let e=o.fetcherKey||St();await r(e,n,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||s,formEncType:o.encType||l,flushSync:o.flushSync})}else await i(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:u,body:c,formMethod:o.method||s,formEncType:o.encType||l,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,i,t,n])}(),v=function(e,{relative:t}={}){let{basename:n}=m.useContext(xe),r=m.useContext(Oe);L(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...De(e||".",{relative:t})},a=ke();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!i.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(o.pathname="/"===o.pathname?n:ce([n,o.pathname]));return z(o)}(s,{relative:u}),b="get"===a.toLowerCase()?"get":"post",w="string"==typeof s&&vt.test(s);return m.createElement("form",{ref:p,method:b,action:v,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=(null==r?void 0:r.getAttribute("formmethod"))||a,f=()=>y(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d,unstable_defaultShouldRevalidate:h});g&&!1!==n?m.startTransition(()=>f()):f()},...f,"data-discover":w||"render"!==e?void 0:"true"})}).displayName="Form";var Et=0,St=()=>`__${String(++Et)}__`;var _t=N();var xt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Ot={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,a=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,u=t>>2,c=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;s||(h=64,o||(d=64)),r.push(n[u],n[c],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Tt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==a||null==s)throw new It;const l=t<<2|o>>4;if(r.push(l),64!==a){const e=o<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class It extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ct=function(e){return function(e){const t=Tt(e);return Ot.encodeByteArray(t,!0)}(e).replace(/\./g,"")},At=function(e){try{return Ot.decodeString(e,!0)}catch(eF){}return null};
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const kt=()=>
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Pt=()=>{try{return kt()||(()=>{if("undefined"==typeof process)return;const e=xt.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(eF){return}const t=e&&At(e[1]);return t&&JSON.parse(t)})()}catch(eF){return}},Nt=e=>{var t,n;return null===(n=null===(t=Pt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Rt=()=>{var e;return null===(e=Pt())||void 0===e?void 0:e.config},Dt=e=>{var t;return null===(t=Pt())||void 0===t?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Mt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function Lt(e){return(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut={};let Ft=!1;function Vt(e,t){if("undefined"==typeof window||"undefined"==typeof document||!jt(window.location.host)||Ut[e]===t||Ut[e]||Ft)return;function n(e){return`__firebase__banner__${e}`}Ut[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ut))Ut[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function o(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ft=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),u=n("preprendIcon"),c=document.getElementById(u)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=o();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(c,u),t.append(c,a,l,n),document.body.appendChild(t)}i?(a.innerText="Preview backend disconnected.",c.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(c.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qt(){return!function(){var e;const t=null===(e=Pt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(eF){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}class Bt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ht.prototype.create)}}class Ht{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace($t,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Bt(r,a,n)}}const $t=/\{\$([^}]+)}/g;function Gt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Kt(n)&&Kt(o)){if(!Gt(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Kt(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Jt(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function Yt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Xt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qt),void 0===r.error&&(r.error=Qt),void 0===r.complete&&(r.complete=Qt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(eF){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(eF){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qt(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(e){return e&&e._delegate?e._delegate:e}class en{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Mt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(eF){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(eF){if(r)return null;throw eF}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:tn})}catch(eF){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(eF){}}}}clearInstance(e=tn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=tn){return this.instances.has(e)}getOptions(e=tn){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===tn?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e=tn){return this.component?this.component.multipleInstances?e:tn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};class rn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,an;(an=on||(on={}))[an.DEBUG=0]="DEBUG",an[an.VERBOSE=1]="VERBOSE",an[an.INFO=2]="INFO",an[an.WARN=3]="WARN",an[an.ERROR=4]="ERROR",an[an.SILENT=5]="SILENT";const sn={debug:on.DEBUG,verbose:on.VERBOSE,info:on.INFO,warn:on.WARN,error:on.ERROR,silent:on.SILENT},ln=on.INFO,un={[on.DEBUG]:"log",[on.VERBOSE]:"log",[on.INFO]:"info",[on.WARN]:"warn",[on.ERROR]:"error"},cn=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!un[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class dn{constructor(e){this.name=e,this._logLevel=ln,this._logHandler=cn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in on))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?sn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,on.DEBUG,...e),this._logHandler(this,on.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,on.VERBOSE,...e),this._logHandler(this,on.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,on.INFO,...e),this._logHandler(this,on.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,on.WARN,...e),this._logHandler(this,on.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,on.ERROR,...e),this._logHandler(this,on.ERROR,...e)}}let hn,fn;const pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,yn=new WeakMap,vn=new WeakMap;let bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return mn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||gn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Sn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function wn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(fn||(fn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(_n(this),t),Sn(pn.get(this))}:function(...t){return Sn(e.apply(_n(this),t))}:function(t,...n){const r=e.call(_n(this),t,...n);return gn.set(r,t.sort?t.sort():[t]),Sn(r)}}function En(e){return"function"==typeof e?wn(e):(e instanceof IDBTransaction&&function(e){if(mn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});mn.set(e,t)}(e),t=e,(hn||(hn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,bn):e);var t}function Sn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(Sn(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&pn.set(t,e)}).catch(()=>{}),vn.set(t,e),t}(e);if(yn.has(e))return yn.get(e);const t=En(e);return t!==e&&(yn.set(e,t),vn.set(t,e)),t}const _n=e=>vn.get(e);const xn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],On=new Map;function In(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(On.get(t))return On.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Tn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!xn.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&o.done]))[0]};return On.set(t,o),o}bn=(e=>({...e,get:(t,n,r)=>In(t,n)||e.get(t,n,r),has:(t,n)=>!!In(t,n)||e.has(t,n)}))(bn);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Cn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const An="@firebase/app",kn="0.13.2",Pn=new dn("@firebase/app"),Nn="@firebase/app-compat",Rn="@firebase/analytics-compat",Dn="@firebase/analytics",Mn="@firebase/app-check-compat",jn="@firebase/app-check",Ln="@firebase/auth",Un="@firebase/auth-compat",Fn="@firebase/database",Vn="@firebase/data-connect",zn="@firebase/database-compat",qn="@firebase/functions",Bn="@firebase/functions-compat",Hn="@firebase/installations",$n="@firebase/installations-compat",Gn="@firebase/messaging",Kn="@firebase/messaging-compat",Wn="@firebase/performance",Jn="@firebase/performance-compat",Yn="@firebase/remote-config",Xn="@firebase/remote-config-compat",Qn="@firebase/storage",Zn="@firebase/storage-compat",er="@firebase/firestore",tr="@firebase/ai",nr="@firebase/firestore-compat",rr="firebase",ir="[DEFAULT]",or={[An]:"fire-core",[Nn]:"fire-core-compat",[Dn]:"fire-analytics",[Rn]:"fire-analytics-compat",[jn]:"fire-app-check",[Mn]:"fire-app-check-compat",[Ln]:"fire-auth",[Un]:"fire-auth-compat",[Fn]:"fire-rtdb",[Vn]:"fire-data-connect",[zn]:"fire-rtdb-compat",[qn]:"fire-fn",[Bn]:"fire-fn-compat",[Hn]:"fire-iid",[$n]:"fire-iid-compat",[Gn]:"fire-fcm",[Kn]:"fire-fcm-compat",[Wn]:"fire-perf",[Jn]:"fire-perf-compat",[Yn]:"fire-rc",[Xn]:"fire-rc-compat",[Qn]:"fire-gcs",[Zn]:"fire-gcs-compat",[er]:"fire-fst",[nr]:"fire-fst-compat",[tr]:"fire-vertex","fire-js":"fire-js",[rr]:"fire-js-all"},ar=new Map,sr=new Map,lr=new Map;function ur(e,t){try{e.container.addComponent(t)}catch(eF){Pn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,eF)}}function cr(e){const t=e.name;if(lr.has(t))return Pn.debug(`There were multiple attempts to register component ${t}.`),!1;lr.set(t,e);for(const n of ar.values())ur(n,e);for(const n of sr.values())ur(n,e);return!0}function dr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hr(e){return null!=e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Ht("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class pr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="11.10.0";function gr(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const r=Object.assign({name:ir,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!=typeof i||!i)throw fr.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw fr.create("no-options");const o=ar.get(i);if(o){if(Gt(n,o.options)&&Gt(r,o.config))return o;throw fr.create("duplicate-app",{appName:i})}const a=new rn(i);for(const l of lr.values())a.addComponent(l);const s=new pr(n,r,a);return ar.set(i,s),s}function yr(e=ir){const t=ar.get(e);if(!t&&e===ir&&Rt())return gr();if(!t)throw fr.create("no-app",{appName:e});return t}function vr(e,t,n){var r;let i=null!==(r=or[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){const e=[`Unable to register library "${i}" with version "${t}":`];return o&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Pn.warn(e.join(" "))}cr(new en(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="firebase-heartbeat-store";let wr=null;function Er(){return wr||(wr=function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(e,t),s=Sn(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Sn(a.result),e.oldVersion,e.newVersion,Sn(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(br)}catch(eF){}}}).catch(e=>{throw fr.create("idb-open",{originalErrorMessage:e.message})})),wr}async function Sr(e,t){try{const n=(await Er()).transaction(br,"readwrite"),r=n.objectStore(br);await r.put(t,_r(e)),await n.done}catch(eF){if(eF instanceof Bt)Pn.warn(eF.message);else{const t=fr.create("idb-set",{originalErrorMessage:null==eF?void 0:eF.message});Pn.warn(t.message)}}}function _r(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Or(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Tr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(eF){Pn.warn(eF)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Tr(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ir(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ir(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ct(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(eF){return Pn.warn(eF),""}}}function Tr(){return(new Date).toISOString().substring(0,10)}class Or{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(eF){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Er()).transaction(br),n=await t.objectStore(br).get(_r(e));return await t.done,n}catch(eF){if(eF instanceof Bt)Pn.warn(eF.message);else{const t=fr.create("idb-get",{originalErrorMessage:null==eF?void 0:eF.message});Pn.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Sr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ir(e){return Ct(JSON.stringify({version:2,heartbeats:e})).length}var Cr;function Ar(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function kr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Cr="",cr(new en("platform-logger",e=>new Cn(e),"PRIVATE")),cr(new en("heartbeat",e=>new xr(e),"PRIVATE")),vr(An,kn,Cr),vr(An,kn,"esm2017"),vr("fire-js",""),"function"==typeof SuppressedError&&SuppressedError;const Pr=kr,Nr=new Ht("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Rr=new dn("@firebase/auth");function Dr(e,...t){Rr.logLevel<=on.ERROR&&Rr.error(`Auth (${mr}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e,...t){throw Fr(e,...t)}function jr(e,...t){return Fr(e,...t)}function Lr(e,t,n){const r=Object.assign(Object.assign({},Pr()),{[t]:n});return new Ht("auth","Firebase",r).create(t,{appName:e.name})}function Ur(e){return Lr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fr(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Nr.create(e,...t)}function Vr(e,t,...n){if(!e)throw Fr(t,...n)}function zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Dr(t),new Error(t)}function qr(e,t){e||zr(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hr(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Hr()&&"https:"!==Hr()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Gr{constructor(e,t){this.shortDelay=e,this.longDelay=t,qr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return $r()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e,t){qr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Yr=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xr=new Gr(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zr(e,t,n,r,i={}){return ei(e,i,async()=>{let i={},o={};r&&("GET"===t?o=r:i={body:JSON.stringify(r)});const a=Wt(Object.assign({key:e.config.apiKey},o)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&jt(e.emulatorConfig.host)&&(l.credentials="include"),Wr.fetch()(await ni(e,e.config.apiHost,n,a),l)})}async function ei(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jr),t);try{const t=new ii(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw oi(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw oi(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw oi(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw oi(e,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Lr(e,s,a);Mr(e,s)}}catch(eF){if(eF instanceof Bt)throw eF;Mr(e,"network-request-failed",{message:String(eF)})}}async function ti(e,t,n,r,i={}){const o=await Zr(e,t,n,r,i);return"mfaPendingCredential"in o&&Mr(e,"multi-factor-auth-required",{_serverResponse:o}),o}async function ni(e,t,n,r){const i=`${t}${n}?${r}`,o=e,a=o.config.emulator?Kr(e.config,i):`${e.config.apiScheme}://${i}`;if(Yr.includes(n)&&(await o._persistenceManagerAvailable,"COOKIE"===o._getPersistenceType())){return o._getPersistence()._getFinalTarget(a).toString()}return a}function ri(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ii{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(jr(this.auth,"network-request-failed")),Xr.get())})}}function oi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(e,t,r);return i.customData._tokenResponse=n,i}function ai(e){return void 0!==e&&void 0!==e.enterprise}class si{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ri(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function li(e,t){return Zr(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(eF){}}function ci(e){return 1e3*Number(e)}function di(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Dr("JWT malformed, contained fewer than 3 sections"),null;try{const e=At(n);return e?JSON.parse(e):(Dr("Failed to decode base64 JWT payload"),null)}catch(eF){return Dr("Caught error parsing JWT payload as JSON",null==eF?void 0:eF.toString()),null}}function hi(e){const t=di(e);return Vr(t,"internal-error"),Vr(void 0!==t.exp,"internal-error"),Vr(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fi(e,t,n=!1){if(n)return t;try{return await t}catch(eF){throw eF instanceof Bt&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(eF)&&e.auth.currentUser===e&&await e.auth.signOut(),eF}}class pi{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(eF){return void("auth/network-request-failed"===(null==eF?void 0:eF.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ui(this.lastLoginAt),this.creationTime=ui(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fi(e,li(n,{idToken:r}));Vr(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const a=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?yi(o.providerUserInfo):[],s=(l=e.providerData,u=a,[...l.filter(e=>!u.some(t=>t.providerId===e.providerId)),...u]);var l,u;const c=e.isAnonymous,d=!(e.email&&o.passwordHash||(null==s?void 0:s.length)),h=!!c&&d,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new mi(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function yi(e){return e.map(e=>{var{providerId:t}=e,n=Ar(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vr(e.idToken,"internal-error"),Vr(void 0!==e.idToken,"internal-error"),Vr(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):hi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Vr(0!==e.length,"internal-error");const t=hi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Vr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ei(e,{},async()=>{const n=Wt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,o=await ni(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const s={method:"POST",headers:a,body:n};return e.emulatorConfig&&jt(e.emulatorConfig.host)&&(s.credentials="include"),Wr.fetch()(o,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new vi;return n&&(Vr("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(Vr("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(Vr("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vi,this.toJSON())}_performRefresh(){return zr("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(e,t){Vr("string"==typeof e||void 0===e,"internal-error",{appName:t})}class wi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Ar(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mi(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fi(this,this.stsTokenManager.getToken(this.auth,e));return Vr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=Zt(e),r=await n.getIdToken(t),i=di(r);Vr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ui(ci(i.auth_time)),issuedAtTime:ui(ci(i.iat)),expirationTime:ui(ci(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Zt(e);await gi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Vr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Vr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await gi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(Ur(this.auth));const e=await this.getIdToken();return await fi(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return Zr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,a,s,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:S}=t;Vr(v&&S,e,"internal-error");const _=vi.fromJSON(this.name,S);Vr("string"==typeof v,e,"internal-error"),bi(c,e.name),bi(d,e.name),Vr("boolean"==typeof b,e,"internal-error"),Vr("boolean"==typeof w,e,"internal-error"),bi(h,e.name),bi(f,e.name),bi(p,e.name),bi(m,e.name),bi(g,e.name),bi(y,e.name);const x=new wi({uid:v,auth:e,email:d,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:_,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(x.providerData=E.map(e=>Object.assign({},e))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t,n=!1){const r=new vi;r.updateFromServerResponse(t);const i=new wi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await gi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Vr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?yi(r.providerUserInfo):[],o=!(r.email&&r.passwordHash||(null==i?void 0:i.length)),a=new vi;a.updateFromIdToken(n);const s=new wi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new mi(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||(null==i?void 0:i.length))};return Object.assign(s,l),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new Map;function Si(e){qr(e instanceof Function,"Expected a class definition");let t=Ei.get(e);return t?(qr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ei.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}_i.type="NONE";const xi=_i;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e,t,n){return`firebase:${e}:${t}:${n}`}class Oi{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ti(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ti("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await li(this.auth,{idToken:e}).catch(()=>{});return t?wi._fromGetAccountInfoResponse(this.auth,t,e):null}return wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Oi(Si(xi),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Si(xi);const o=Ti(n,e.config.apiKey,e.name);let a=null;for(const u of t)try{const t=await u._get(o);if(t){let n;if("string"==typeof t){const r=await li(e,{idToken:t}).catch(()=>{});if(!r)break;n=await wi._fromGetAccountInfoResponse(e,r,t)}else n=wi._fromJSON(e,t);u!==i&&(a=n),i=u;break}}catch(l){}const s=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(o)}catch(l){}})),new Oi(i,e,n)):new Oi(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Pi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ci(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ri(t))return"Blackberry";if(Di(t))return"Webos";if(Ai(t))return"Safari";if((t.includes("chrome/")||ki(t))&&!t.includes("edge/"))return"Chrome";if(Ni(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ci(e=zt()){return/firefox\//i.test(e)}function Ai(e=zt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ki(e=zt()){return/crios\//i.test(e)}function Pi(e=zt()){return/iemobile/i.test(e)}function Ni(e=zt()){return/android/i.test(e)}function Ri(e=zt()){return/blackberry/i.test(e)}function Di(e=zt()){return/webos/i.test(e)}function Mi(e=zt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ji(){return function(){const e=zt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Li(e=zt()){return Mi(e)||Ni(e)||Di(e)||Ri(e)||/windows phone/i.test(e)||Pi(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t=[]){let n;switch(e){case"Browser":n=Ii(zt());break;case"Worker":n=`${Ii(zt())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${mr}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(eF){r(eF)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(eF){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==eF?void 0:eF.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){var t,n,r,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,o,a;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(o=s.containsNumericCharacter)||void 0===o||o),s.isValid&&(s.isValid=null===(a=s.containsNonAlphanumericCharacter)||void 0===a||a),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bi(this),this.idTokenSubscription=new Bi(this),this.beforeStateQueue=new Fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Oi.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(eF){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await li(this,{idToken:e}),n=await wi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(eF){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(eF))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Vr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(eF){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gi(e)}catch(eF){if("auth/network-request-failed"!==(null==eF?void 0:eF.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(Ur(this));const t=e?Zt(e):null;return t&&Vr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Vr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(Ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(Ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Si(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Zr(e,"GET","/v2/passwordPolicy",Qr(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new Vi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ht("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zr(e,"POST","/v2/accounts:revokeToken",Qr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Si(e)||this._popupRedirectResolver;Vr(t,this,"argument-error"),this.redirectPersistenceManager=await Oi.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vr(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),"function"==typeof t){const i=e.addObserver(t,n,r);return()=>{o=!0,i()}}{const n=e.addObserver(t);return()=>{o=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ui(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Rr.logLevel<=on.WARN&&Rr.warn(`Auth (${mr}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function qi(e){return Zt(e)}class Bi{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Xt(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return Vr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $i(e){return Hi.loadJS(e)}class Gi{constructor(){this.enterprise=new Ki}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Ki{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Wi="NO_RECAPTCHA";class Ji{constructor(e){this.type="recaptcha-enterprise",this.auth=qi(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return Zr(e,"GET","/v2/recaptchaConfig",Qr(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new si(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function r(t,n,r){const i=window.grecaptcha;ai(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(Wi)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Gi).execute("siteKey",{action:"verify"})}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&ai(window.grecaptcha))r(n,e,i);else{if("undefined"==typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));let t=Hi.recaptchaEnterpriseScript;0!==t.length&&(t+=n),$i(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function Yi(e,t,n,r=!1,i=!1){const o=new Ji(e);let a;if(i)a=Wi;else try{a=await o.verify(n)}catch(l){a=await o.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:a}):Object.assign(s,{captchaResponse:a}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function Xi(e,t,n,r,i){var o;if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Yi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"===i.code){const i=await Yi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(e,t,n){const r=qi(e);Vr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=Zi(t),{host:o,port:a}=function(e){const t=Zi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:eo(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:eo(t)}}}(t),s=null===a?"":`:${a}`,l={url:`${i}//${o}${s}/`},u=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!r._canInitEmulator)return Vr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Vr(Gt(l,r.config.emulator)&&Gt(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,jt(o)?(Lt(`${i}//${o}${s}`),Vt("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function Zi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function eo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class to{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,t){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function no(e,t){return Zr(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(e,t){return ti(e,"POST","/v1/accounts:signInWithPassword",Qr(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class io extends to{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new io(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new io(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Xi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ro);case"emailLink":return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithEmailLink",Qr(e,t))}(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Xi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",no);case"emailLink":return async function(e,t){return ti(e,"POST","/v1/accounts:signInWithEmailLink",Qr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(e,t){return ti(e,"POST","/v1/accounts:signInWithIdp",Qr(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends to{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ao(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Mr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Ar(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new ao(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return oo(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,oo(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Wt(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){var t,n,r,i,o,a;const s=Jt(Yt(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,c=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Vr(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.lang)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Jt(Yt(e)).link,n=t?Jt(Yt(t)).deep_link_id:null,r=Jt(Yt(e)).deep_link_id;return(r?Jt(Yt(r)).link:null)||r||n||t||e}(e);try{return new so(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,t){return io._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=so.parseLink(t);return Vr(n,"argument-error"),io._fromEmailAndCode(e,n.code,n.tenantId)}}lo.PROVIDER_ID="password",lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password",lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends uo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends co{constructor(){super("facebook.com")}static credential(e){return ao._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch(t){return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com",ho.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fo extends co{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ao._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return fo.credential(t,n)}catch(r){return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com",fo.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class po extends co{constructor(){super("github.com")}static credential(e){return ao._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch(t){return null}}}po.GITHUB_SIGN_IN_METHOD="github.com",po.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class mo extends co{constructor(){super("twitter.com")}static credential(e,t){return ao._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return mo.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function go(e,t){return ti(e,"POST","/v1/accounts:signUp",Qr(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mo.TWITTER_SIGN_IN_METHOD="twitter.com",mo.PROVIDER_ID="twitter.com";class yo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await wi._fromIdTokenResponse(e,n,r),o=vo(n);return new yo({user:i,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=vo(n);return new yo({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function vo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Bt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,bo.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new bo(e,t,n,r)}}function wo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw bo._fromErrorAndOperation(e,n,t,r);throw n})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Eo(e,t,n=!1){if(hr(e.app))return Promise.reject(Ur(e));const r="signIn",i=await wo(e,r,t),o=await yo._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function So(e){const t=qi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function _o(e,t,n){return hr(e.app)?Promise.reject(Ur(e)):async function(e,t){return Eo(qi(e),t)}(Zt(e),lo.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&So(e),t})}const xo="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xo,"1"),this.storage.removeItem(xo),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends To{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Li(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ji()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oo.type="LOCAL";const Io=Oo;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co extends To{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Co.type="SESSION";const Ao=Co;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ko{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new ko(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map(async e=>e(t.origin,i)),s=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Po(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko.receivers=[];class No{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise((a,s)=>{const l=Po("",20);r.port1.start();const u=setTimeout(()=>{s(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{s(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Do(){return void 0!==Ro().WorkerGlobalScope&&"function"==typeof Ro().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mo="firebaseLocalStorageDb",jo="firebaseLocalStorage",Lo="fbase_key";class Uo{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fo(e,t){return e.transaction([jo],t?"readwrite":"readonly").objectStore(jo)}function Vo(){const e=indexedDB.open(Mo,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(jo,{keyPath:Lo})}catch(eF){n(eF)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(jo)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Mo);return new Uo(e).toPromise()}(),t(await Vo()))})})}async function zo(e,t,n){const r=Fo(e,!0).put({[Lo]:t,value:n});return new Uo(r).toPromise()}function qo(e,t){const n=Fo(e,!0).delete(t);return new Uo(n).toPromise()}class Bo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Vo()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(eF){if(t++>3)throw eF;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Do()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ko._getInstance(Do()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new No(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vo();return await zo(e,xo,"1"),await qo(e,xo),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>zo(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Fo(e,!1).get(t),r=await new Uo(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>qo(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Fo(e,!1).getAll();return new Uo(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Bo.type="LOCAL";const Ho=Bo;new Gr(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class $o extends to{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Go(e){return Eo(e.auth,new $o(e),e.bypassAuthState)}function Ko(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t,n=!1){const{auth:r}=e;if(hr(r.app))return Promise.reject(Ur(r));const i="reauthenticate";try{const o=await fi(e,wo(r,i,t,e),n);Vr(o.idToken,r,"internal-error");const a=di(o.idToken);Vr(a,r,"internal-error");const{sub:s}=a;return Vr(e.uid===s,r,"user-mismatch"),yo._forOperation(e,i,o)}catch(eF){throw"auth/user-not-found"===(null==eF?void 0:eF.code)&&Mr(r,"user-mismatch"),eF}}(n,new $o(e),e.bypassAuthState)}async function Wo(e){const{auth:t,user:n}=e;return Vr(n,t,"internal-error"),async function(e,t,n=!1){const r=await fi(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return yo._forOperation(e,"link",r)}(n,new $o(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(eF){this.reject(eF)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=e;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(eF){this.reject(eF)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Go;case"linkViaPopup":case"linkViaRedirect":return Wo;case"reauthViaPopup":case"reauthViaRedirect":return Ko;default:Mr(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=new Gr(2e3,1e4);class Xo extends Jo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vr(e,this.auth,"internal-error"),e}async onExecution(){qr(1===this.filter.length,"Popup operations only handle one event");const e=Po();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Yo.get())};e()}}Xo.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qo="pendingRedirect",Zo=new Map;class ea extends Jo{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Zo.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Ti(Qo,e.config.apiKey,e.name)}(t),r=function(e){return Si(e._redirectPersistence)}(e);if(!(await r._isAvailable()))return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(eF){e=()=>Promise.reject(eF)}Zo.set(this.auth._key(),e)}return this.bypassAuthState||Zo.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ta(e,t){Zo.set(e._key(),t)}async function na(e,t,n=!1){if(hr(e.app))return Promise.reject(Ur(e));const r=qi(e),i=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?Si(t):(Vr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(r,t),o=new ea(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oa(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!oa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ia(e))}saveEventToCache(e){this.cachedEventUids.add(ia(e)),this.lastProcessedEventTime=Date.now()}}function ia(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function oa({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const aa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sa=/^https?/;async function la(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Zr(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(ua(r))return}catch(n){}Mr(e,"unauthorized-domain")}function ua(e){const t=Br(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!sa.test(n))return!1;if(aa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new Gr(3e4,6e4);function da(){const e=Ro().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ha(e){return new Promise((t,n)=>{var r,i,o;function a(){da(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{da(),n(jr(e,"network-request-failed"))},timeout:ca.get()})}if(null===(i=null===(r=Ro().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Ro().gapi)||void 0===o?void 0:o.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return Ro()[t]=()=>{gapi.load?a():n(jr(e,"network-request-failed"))},$i(`${Hi.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw fa=null,e})}let fa=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pa=new Gr(5e3,15e3),ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ga=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ya(e){const t=e.config;Vr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Kr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:mr},i=ga.get(e.config.apiHost);i&&(r.eid=i);const o=e._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Wt(r).slice(1)}`}async function va(e){const t=await function(e){return fa=fa||ha(e),fa}(e),n=Ro().gapi;return Vr(n,e,"internal-error"),t.open({where:document.body,url:ya(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ma,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=jr(e,"network-request-failed"),o=Ro().setTimeout(()=>{r(i)},pa.get());function a(){Ro().clearTimeout(o),n(t)}t.ping(a).then(a,()=>{r(i)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wa{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(eF){}}}function Ea(e,t,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},ba),{width:r.toString(),height:i.toString(),top:o,left:a}),u=zt().toLowerCase();n&&(s=ki(u)?"_blank":n),Ci(u)&&(t=t||"http://localhost",l.scrollbars="yes");const c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=zt()){var t;return Mi(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",s),new wa(null);const d=window.open(t||"",s,c);Vr(d,e,"popup-blocked");try{d.focus()}catch(eF){}return new wa(d)}const Sa="__/auth/handler",_a="emulator/auth/handler",xa=encodeURIComponent("fac");async function Ta(e,t,n,r,i,o){Vr(e.config.authDomain,e,"auth-domain-config-required"),Vr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:mr,eventId:i};if(t instanceof uo){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof co){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const s=a;for(const c of Object.keys(s))void 0===s[c]&&delete s[c];const l=await e._getAppCheckToken(),u=l?`#${xa}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${Sa}`;return Kr(e,_a)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${Wt(s).slice(1)}${u}`}const Oa="webStorageSupport";const Ia=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ao,this._completeRedirectFn=na,this._overrideRedirectResult=ta}async _openPopup(e,t,n,r){var i;qr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ea(e,await Ta(e,t,n,Br(),r),Po())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ro().location.href=e}(await Ta(e,t,n,Br(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await va(e),n=new ra(e);return t.register("authEvent",t=>{Vr(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Oa,{type:Oa},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[Oa];void 0!==i&&t(!!i),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=la(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Li()||Ai()||Mi()}};var Ca="@firebase/auth",Aa="1.10.8";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ka{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Vr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Pa=Dt("authIdTokenMaxAge")||300;let Na=null;var Ra,Da;Ra={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=jr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Hi=Ra,Da="Browser",cr(new en("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Vr(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const s={apiKey:o,authDomain:a,clientPlatform:Da,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ui(Da)},l=new zi(n,r,i,s);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),cr(new en("auth-internal",e=>{const t=qi(e.getProvider("auth").getImmediate());return new ka(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),vr(Ca,Aa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Da)),vr(Ca,Aa,"esm2017");var Ma,ja,La="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var o=e.g[3],a=t+(o^n&(i^o))+r[0]+3614090360&4294967295;a=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=(n=(i=(o=(t=n+(a<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(o^n&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=o+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^o&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(o^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^o&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^o&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=o+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(o^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(o^t&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=o+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(o^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^o^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~o))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~o))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(o|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(o^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((o=(t=n+((a=t+(i^(n|~o))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=o+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=o+((a=i+(t^(o|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+o&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var o=0|e[i];r&&o==t||(n[i]=o,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,o=this.h,a=0;a<t;){if(0==o)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(i[o++]=e.charCodeAt(a++),o==this.blockSize){n(this,i),o=0;break}}else for(;a<t;)if(i[o++]=e[a++],o==this.blockSize){n(this,i),o=0;break}}this.h=o,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function o(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=o(0),l=o(1),u=o(16777216);function c(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(c(t))throw Error("division by zero");if(c(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),o=v(r,1);for(r=v(r,2),n=v(n,2);!c(r);){var u=o.add(r);0>=u.l(e)&&(i=i.add(n),o=u),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),u=(o=a(n)).j(t);d(u)||0<u.l(e);)u=(o=a(n-=r)).j(t);c(o)&&(o=l),i=i.add(o),e=f(e,u)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,o=[],a=0;a<i;a++)o[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(o,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(c(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,o=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(c(n=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:c(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,o=0;o<=t;o++){var a=i+(65535&this.i(o))+(65535&e.i(o)),s=(a>>>16)+(this.i(o)>>>16)+(e.i(o)>>>16);i=s>>>16,a&=65535,s&=65535,n[o]=s<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(c(this)||c(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(u)&&0>e.l(u))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var o=0;o<e.g.length;o++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(o)>>>16,g=65535&e.i(o);n[2*i+2*o]+=f*g,p(n,2*i+2*o),n[2*i+2*o+1]+=l*g,p(n,2*i+2*o+1),n[2*i+2*o+1]+=f*m,p(n,2*i+2*o+1),n[2*i+2*o+2]+=l*m,p(n,2*i+2*o+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ja=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=s,o=0;o<t.length;o+=8){var l=Math.min(8,t.length-o),u=parseInt(t.substring(o,o+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},Ma=r}).apply(void 0!==La?La:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ua,Fa,Va,za,qa,Ba,Ha,$a,Ga="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ga&&Ga];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];if(!(a in i))break e;i=i[a]}(r=r(o=i[e=e[e.length-1]]))!=o&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},i=this||self;function o(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function u(e,t,n){return(u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(o(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=!(-1==m().indexOf("Gecko")||-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge")||-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE")||-1!=m().indexOf("Edge"));function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _(e){i.setTimeout(()=>{throw e},0)}function x(){var e=A;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var T=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new O,e=>e.reset());class O{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let I,C=!1,A=new class{constructor(){this.h=this.g=null}add(e,t){const n=T.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const e=i.Promise.resolve(void 0);I=()=>{e.then(P)}};var P=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(n){_(n)}var t=T;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function N(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:j[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,R);var j={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),U=0;function F(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function q(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=Array.prototype.indexOf.call(i,t,void 0);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function B(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.da&&o.listener==t&&o.capture==!!n&&o.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=B(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new F(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),$={};function G(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)G(e,t[o],n,r,i);return null}return n=Z(n),e&&e[L]?e.K(t,n,!!a(r)&&!!r.capture,i):function(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=a(i)?!!i.capture:!!i,l=X(e);if(l||(e[H]=l=new z(e)),n=l.add(t,n,r,s,o),n.proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Y;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}(e,t,n,!1,r,i)}function K(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)K(e,t[o],n,r,i);else r=a(r)?!!r.capture:!!r,n=Z(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=B(o=e.g[t],n,r,i))&&(V(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=X(e))&&(t=e.g[t.toString()],e=-1,t&&(e=B(t,n,r,i)),(n=-1<e?t[e]:null)&&W(n))}function W(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])q(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=X(t))?(q(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function J(e){return e in $?$[e]:$[e]="on"+e}function Y(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function X(e){return(e=e[H])instanceof z?e:null}var Q="__closure_events_fn_"+(1e9*Math.random()>>>0);function Z(e){return"function"==typeof e?e:(e[Q]||(e[Q]=function(t){return e.handleEvent(t)}),e[Q])}function ee(){N.call(this),this.i=new z(this),this.M=this,this.F=null}function te(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;E(t=new R(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=ne(a,r,!0,t)&&i}if(i=ne(a=t.g=e,r,!0,t)&&i,i=ne(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=ne(a=t.g=n[o],r,!1,t)&&i}function ne(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.da&&a.capture==n){var s=a.listener,l=a.ha||a.src;a.fa&&q(e.i,a),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function re(e,t,n){if("function"==typeof e)n&&(e=u(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=u(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ie(e){e.g=re(()=>{e.g=null,e.i&&(e.i=!1,ie(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ee,N),ee.prototype[L]=!0,ee.prototype.removeEventListener=function(e,t,n,r){K(this,e,t,n,r)},ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ee.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ee.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends N{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ie(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ae(e){N.call(this),this.h=e,this.g={}}d(ae,N);var se=[];function le(e){v(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ae.prototype.N=function(){ae.aa.N.call(this),le(this)},ae.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ue=i.JSON.stringify,ce=i.JSON.parse,de=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function he(){}function fe(e){return e.h||(e.h=e.i())}function pe(){}he.prototype.h=null;var me={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ge(){R.call(this,"d")}function ye(){R.call(this,"c")}d(ge,R),d(ye,R);var ve={},be=null;function we(){return be=be||new ee}function Ee(e){R.call(this,ve.La,e)}function Se(e){const t=we();te(t,new Ee(t))}function _e(e,t){R.call(this,ve.STAT_EVENT,e),this.stat=t}function xe(e){const t=we();te(t,new _e(t,e))}function Te(e,t){R.call(this,ve.Ma,e),this.size=t}function Oe(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ie(){this.g=!0}function Ce(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return ue(n)}catch(s){return t}}(e,n)+(r?" "+r:"")})}ve.La="serverreachability",d(Ee,R),ve.STAT_EVENT="statevent",d(_e,R),ve.Ma="timingevent",d(Te,R),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Ae,ke={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ne(){}function Re(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new ae(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new De}function De(){this.i=null,this.g="",this.h=!1}d(Ne,he),Ne.prototype.g=function(){return new XMLHttpRequest},Ne.prototype.i=function(){return{}},Ae=new Ne;var Me={},je={};function Le(e,t,n){e.L=1,e.v=ut(it(t)),e.m=n,e.P=!0,Ue(e,null)}function Ue(e,t){e.F=Date.now(),ze(e),e.A=it(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),St(n.i,"t",r),e.C=0,n=e.j.J,e.h=new De,e.g=cn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(u(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(se[0]=i.toString()),i=se);for(var o=0;o<i.length;o++){var a=G(n,i[o],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Se(),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var a="",s=o.split("&"),l=0;l<s.length;l++){var u=s[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");a=2<=d.length&&"type"==d[1]?a+(c+"=")+u+"&":a+(c+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function Fe(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Me:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function ze(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(u(e.ba,e),t)}function Be(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||on(e.j,e)}function $e(e){Be(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,le(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Xe(n.h,e)))if(!e.K&&Xe(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;rn(n),Kt(n)}en(n),xe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(u(n.Za,n),6e3));if(1>=Ye(n.h)&&n.ca){try{n.ca()}catch(c){}n.ca=void 0}}else sn(n,11)}else if((e.K||n.g==e)&&rn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.h;o.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Qe(o,o.h),o.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,lt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=un(r,r.J?r.ia:null,r.W),a.K){Ze(r.h,a);var s=a,l=r.L;l&&(s.I=l),s.B&&(Be(s),ze(s)),r.g=a}else Zt(r);0<n.i.length&&Jt(n)}else"stop"!=u[0]&&"close"!=u[0]||sn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?sn(n,7):Gt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}Se()}catch(c){}}Re.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Re.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Bt(this.g)))){this.J||4!=h||7==t||Se(),Be(this);var n=this.g.Z();this.X=n;t:if(Fe(this)){var r=Bt(this.g);e="";var o=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){$e(this),He(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<o;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==o-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,o,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,u=this.g;if((l=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var c=l;break t}}c=null}if(!(n=c)){this.o=!1,this.s=3,xe(12),$e(this),He(this);break e}Ce(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==je){4==h&&(this.s=4,xe(14),n=!1),Ce(this.i,this.l,null,"[Incomplete Response]");break}if(e==Me){this.s=4,xe(15),Ce(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ce(this.i,this.l,e,null),Ge(this,e)}if(Fe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),tn(d),d.M=!0,xe(11))}}else Ce(this.i,this.l,s,"[Invalid Chunked Response]"),$e(this),He(this)}else Ce(this.i,this.l,s,null),Ge(this,s);4==h&&$e(this),this.o&&!this.J&&(4==h?on(this.j,this):(this.o=!1,ze(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const o=t[i]||[];t[i]=o,o.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),$e(this),He(this)}}}catch(h){}},Re.prototype.cancel=function(){this.J=!0,$e(this)},Re.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Se(),xe(17)),$e(this),this.s=2,He(this)):qe(this,this.S-e)};var Ke=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ye(e){return e.h?1:e.g?e.g.size:0}function Xe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Qe(e,t){e.g?e.g.add(t):e.h=t}function Ze(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function et(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function tt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(o(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(o(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(o(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}We.prototype.cancel=function(){if(this.i=et(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var nt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rt(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof rt){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,at(this,e.s),this.l=e.l;var t=e.i,n=new vt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),st(this,n),this.m=e.m}else e&&(t=String(e).match(nt))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ct(t[2]||""),this.g=ct(t[3]||"",!0),at(this,t[4]),this.l=ct(t[5]||"",!0),st(this,t[6]||"",!0),this.m=ct(t[7]||"")):(this.h=!1,this.i=new vt(null,this.h))}function it(e){return new rt(e)}function ot(e,t,n){e.j=n?ct(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function at(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function st(e,t,n){t instanceof vt?(e.i=t,function(e,t){t&&!e.j&&(bt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(wt(this,t),St(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=dt(t,gt)),e.i=new vt(t,e.h))}function lt(e,t,n){e.i.set(t,n)}function ut(e){return lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ct(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dt(t,ft,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(dt(t,ft,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dt(n,"/"==n.charAt(0)?mt:pt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",dt(n,yt)),e.join("")};var ft=/[#\/\?@]/g,pt=/[#\?:]/g,mt=/[#\?]/g,gt=/[#\?@]/g,yt=/#/g;function vt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function bt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function wt(e,t){bt(e),t=_t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Et(e,t){return bt(e),t=_t(e,t),e.g.has(t)}function St(e,t,n){wt(e,t),0<n.length&&(e.i=null,e.g.set(_t(e,t),h(n)),e.h+=n.length)}function _t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(o){}}function Tt(){this.g=new de}function Ot(e,t,n){const r=n||"";try{tt(e,function(e,n){let i=e;a(e)&&(i=ue(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(eF){throw t.push(r+"type="+encodeURIComponent("_badmap")),eF}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function Ct(e,t){ee.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function kt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return v(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Rt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):lt(e,t,n))}function Dt(e){ee.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=vt.prototype).add=function(e,t){bt(this),this.i=null,e=_t(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){bt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){bt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){bt(this);let t=[];if("string"==typeof e)Et(this,e)&&(t=t.concat(this.g.get(_t(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return bt(this),this.i=null,Et(this,e=_t(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const o=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,he),It.prototype.g=function(){return new Ct(this.l,this.j)},It.prototype.i=function(e){return function(){return e}}({}),d(Ct,ee),(e=Ct.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,kt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?kt(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,kt(this))},e.Qa=function(e){this.g&&(this.response=e,kt(this))},e.ga=function(){this.g&&kt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ct.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Dt,ee);var Mt=/^https?$/i,jt=["POST","PUT"];function Lt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Ut(e),Vt(e)}function Ut(e){e.A||(e.A=!0,te(e,"complete"),te(e,"error"))}function Ft(e){if(e.h&&void 0!==r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))re(e.Ea,0,e);else if(te(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var o;if(o=0===r){var a=String(e.D).match(nt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),o=!Mt.test(a?a.toLowerCase():"")}n=o}if(n)te(e,"complete"),te(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Ut(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){zt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||te(e,"ready");try{n.onreadystatechange=r}catch(eF){}}}function zt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Bt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ht(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ht("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ht("baseRetryDelayMs",5e3,e),this.cb=Ht("retryDelaySeedMs",1e4,e),this.Wa=Ht("forwardChannelMaxRetries",2,e),this.wa=Ht("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new We(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Wt(e),3==e.G){var t=e.U++,n=it(e.I);if(lt(n,"SID",e.K),lt(n,"RID",t),lt(n,"TYPE","terminate"),Xt(e,n),(t=new Re(e,e.j,t)).L=2,t.v=ut(it(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=cn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),ze(t)}ln(e)}function Kt(e){e.g&&(tn(e),e.g.cancel(),e.g=null)}function Wt(e){Kt(e),e.u&&(i.clearTimeout(e.u),e.u=null),rn(e),e.h.cancel(),e.s&&("number"==typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Jt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;I||k(),C||(I(),C=!0),A.add(t,e),e.B=0}}function Yt(e,t){var n;n=t?t.l:e.U++;const r=it(e.I);lt(r,"SID",e.K),lt(r,"RID",n),lt(r,"AID",e.T),Xt(e,r),e.m&&e.o&&Rt(r,e.m,e.o),n=new Re(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=Qt(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),Qe(e.h,n),Le(n,r,t)}function Xt(e,t){e.H&&v(e.H,function(e,n){lt(t,n,e)}),e.l&&tt({},function(e,n){lt(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);var r=e.l?u(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),a=!1;else try{Ot(l,e,"req"+n+"_")}catch(o){r&&r(l)}}if(a){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function Zt(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;I||k(),C||(I(),C=!0),A.add(t,e),e.v=0}}function en(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(u(e.Fa,e),an(e,e.v)),e.v++,!0)}function tn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function nn(e){e.g=new Re(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=it(e.qa);lt(t,"RID","rpc"),lt(t,"SID",e.K),lt(t,"AID",e.T),lt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&lt(t,"TO",e.ja),lt(t,"TYPE","xmlhttp"),Xt(e,t),e.m&&e.o&&Rt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ut(it(t)),n.m=null,n.P=!0,Ue(n,e)}function rn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function on(e,t){var n=null;if(e.g==t){rn(e),tn(e),e.g=null;var r=2}else{if(!Xe(e.h,t))return;n=t.D,Ze(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;te(r=we(),new Te(r,n)),Jt(e)}else Zt(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ye(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Oe(u(e.Ga,e,t),an(e,e.B)),e.B++,0)))}(e,t)||2==r&&en(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:sn(e,5);break;case 4:sn(e,10);break;case 3:sn(e,6);break;default:sn(e,2)}}function an(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function sn(e,t){if(e.j.info("Error code "+t),2==t){var n=u(e.fb,e),r=e.Xa;const t=!r;r=new rt(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ut(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),ln(e),Wt(e)}function ln(e){if(e.G=0,e.ka=[],e.l){const t=et(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function un(e,t,n){var r=n instanceof rt?it(n):new rt(n);if(""!=r.g)t&&(r.g=t+"."+r.g),at(r,r.s);else{var o=i.location;r=o.protocol,t=t?t+"."+o.hostname:o.hostname,o=+o.port;var a=new rt(null);r&&ot(a,r),t&&(a.g=t),o&&at(a,o),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&lt(r,n,t),lt(r,"VER",e.la),Xt(e,r),r}function cn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Dt(new It({eb:n})):new Dt(e.pa)).Ha(e.J),t}function dn(){}function hn(){}function fn(e,t){ee.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new gn(this)}function pn(e){ge.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function mn(){ye.call(this),this.status=1}function gn(e){this.g=e}(e=Dt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?fe(this.o):fe(Ae),this.g.onreadystatechange=u(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Lt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),o=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(jt,t,void 0))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zt(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Lt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,te(this,"complete"),te(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Dt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ft(this):this.bb())},e.bb=function(){Ft(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(e){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ce(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=$t.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=un(this,null,this.W),Jt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Re(this,this.j,e);let o=this.o;if(this.S&&(o?(o=b(o),E(o,this.S)):o=this.S),null!==this.m||this.O||(i.H=o,o=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),lt(n=it(this.I),"RID",e),lt(n,"CVER",22),this.D&&lt(n,"X-HTTP-Session-Id",this.D),Xt(this,n),o&&(this.O?t="headers="+encodeURIComponent(String(Nt(o)))+"&"+t:this.m&&Rt(n,this.m,o)),Qe(this.h,i),this.Ua&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",t),lt(n,"SID","null"),i.T=!0,Le(i,n,null)):Le(i,n,t),this.G=2}}else 3==this.G&&(e?Yt(this,e):0==this.i.length||Je(this.h)||Yt(this))},e.Fa=function(){if(this.u=null,nn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(u(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Kt(this),nn(this))},e.Za=function(){null!=this.C&&(this.C=null,Kt(this),en(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=dn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},hn.prototype.g=function(e,t){return new fn(e,t)},d(fn,ee),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Gt(this.g)},fn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=ue(e),e=n);t.i.push(new Ke(t.Ya++,e)),3==t.G&&Jt(t)},fn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,fn.aa.N.call(this)},d(pn,ge),d(mn,ye),d(gn,dn),gn.prototype.ua=function(){te(this.g,"a")},gn.prototype.ta=function(e){te(this.g,new pn(e))},gn.prototype.sa=function(e){te(this.g,new mn)},gn.prototype.ra=function(){te(this.g,"b")},hn.prototype.createWebChannel=hn.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,$a=function(){return new hn},Ha=function(){return we()},Ba=ve,qa={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ke.NO_ERROR=0,ke.TIMEOUT=8,ke.HTTP_ERROR=6,za=ke,Pe.COMPLETE="complete",Va=Pe,pe.EventType=me,me.OPEN="a",me.CLOSE="b",me.ERROR="c",me.MESSAGE="d",ee.prototype.listen=ee.prototype.K,Fa=pe,Dt.prototype.listenOnce=Dt.prototype.L,Dt.prototype.getLastError=Dt.prototype.Ka,Dt.prototype.getLastErrorCode=Dt.prototype.Ba,Dt.prototype.getStatus=Dt.prototype.Z,Dt.prototype.getResponseJson=Dt.prototype.Oa,Dt.prototype.getResponseText=Dt.prototype.oa,Dt.prototype.send=Dt.prototype.ea,Dt.prototype.setWithCredentials=Dt.prototype.Ha,Ua=Dt}).apply(void 0!==Ga?Ga:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const Ka="@firebase/firestore",Wa="4.8.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ja.UNAUTHENTICATED=new Ja(null),Ja.GOOGLE_CREDENTIALS=new Ja("google-credentials-uid"),Ja.FIRST_PARTY=new Ja("first-party-uid"),Ja.MOCK_USER=new Ja("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Ya="11.10.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=new dn("@firebase/firestore");function Qa(){return Xa.logLevel}function Za(e,...t){if(Xa.logLevel<=on.DEBUG){const n=t.map(ns);Xa.debug(`Firestore (${Ya}): ${e}`,...n)}}function es(e,...t){if(Xa.logLevel<=on.ERROR){const n=t.map(ns);Xa.error(`Firestore (${Ya}): ${e}`,...n)}}function ts(e,...t){if(Xa.logLevel<=on.WARN){const n=t.map(ns);Xa.warn(`Firestore (${Ya}): ${e}`,...n)}}function ns(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(nF){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,is(e,r,n)}function is(e,t,n){let r=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(i){r+=" CONTEXT: "+n}throw es(r),new Error(r)}function os(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||is(t,i,r)}function as(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ls extends Bt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ds{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ja.UNAUTHENTICATED))}shutdown(){}}class hs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fs{constructor(e){this.t=e,this.currentUser=Ja.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){os(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new us;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new us,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Za("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Za("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new us)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Za("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(os("string"==typeof t.accessToken,31837,{l:t}),new cs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return os(null===e||"string"==typeof e,2055,{h:e}),new Ja(e)}}class ps{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Ja.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ms{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new ps(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Ja.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ys{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){os(void 0===this.o,3512);const n=e=>{null!=e.error&&Za("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,Za("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Za("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Za("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gs(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(os("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new gs(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return new TextEncoder}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=vs(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Es(e,t){return e<t?-1:e>t?1:0}function Ss(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return Es(r,i);{const o=bs(),a=xs(o.encode(_s(e,n)),o.encode(_s(t,n)));return 0!==a?a:Es(r,i)}}n+=r>65535?2:1}return Es(e.length,t.length)}function _s(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function xs(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return Es(e[n],t[n]);return Es(e.length,t.length)}function Ts(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="__name__";class Is{constructor(e,t,n){void 0===t?t=0:t>e.length&&rs(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&rs(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Is.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Is?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Is.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Es(e.length,t.length)}static compareSegments(e,t){const n=Is.isNumericId(e),r=Is.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Is.extractNumericId(e).compare(Is.extractNumericId(t)):Ss(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ma.fromString(e.substring(4,e.length-2))}}class Cs extends Is{construct(e,t,n){return new Cs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ls(ss.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Cs(t)}static emptyPath(){return new Cs([])}}const As=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ks extends Is{construct(e,t,n){return new ks(e,t,n)}static isValidIdentifier(e){return As.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ks.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Os}static keyField(){return new ks([Os])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ls(ss.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ls(ss.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ls(ss.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ls(ss.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ks(t)}static emptyPath(){return new ks([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.path=e}static fromPath(e){return new Ps(Cs.fromString(e))}static fromName(e){return new Ps(Cs.fromString(e).popFirst(5))}static empty(){return new Ps(Cs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Cs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ps(new Cs(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(e,t,n){if(!n)throw new ls(ss.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Rs(e){if(!Ps.isDocumentKey(e))throw new ls(ss.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ds(e){if(Ps.isDocumentKey(e))throw new ls(ss.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ms(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function js(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":rs(12329,{type:typeof e})}function Ls(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ls(ss.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=js(e);throw new ls(ss.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e,t){const n={typeString:e};return t&&(n.value=t),n}function Fs(e,t){if(!Ms(e))throw new ls(ss.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,o="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(void 0!==o&&a!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ls(ss.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=-62135596800,zs=1e6;class qs{static now(){return qs.fromMillis(Date.now())}static fromDate(e){return qs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*zs);return new qs(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ls(ss.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ls(ss.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Vs)throw new ls(ss.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ls(ss.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zs}_compareTo(e){return this.seconds===e.seconds?Es(this.nanoseconds,e.nanoseconds):Es(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:qs._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fs(e,qs._jsonSchema))return new qs(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vs;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}qs._jsonSchemaVersion="firestore/timestamp/1.0",qs._jsonSchema={type:Us("string",qs._jsonSchemaVersion),seconds:Us("number"),nanoseconds:Us("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Bs{static fromTimestamp(e){return new Bs(e)}static min(){return new Bs(new qs(0,0))}static max(){return new Bs(new qs(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(e){return new $s(e.readTime,e.key,-1)}class $s{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new $s(Bs.min(),Ps.empty(),-1)}static max(){return new $s(Bs.max(),Ps.empty(),-1)}}function Gs(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ps.comparator(e.documentKey,t.documentKey),0!==n?n:Es(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class Ks{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(e){if(e.code!==ss.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==e.message)throw e;Za("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&rs(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Js((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Js?t:Js.resolve(t)}catch(t){return Js.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Js.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Js.reject(t)}static resolve(e){return new Js((t,n)=>{t(e)})}static reject(e){return new Js((t,n)=>{n(e)})}static waitFor(e){return new Js((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=Js.resolve(!1);for(const n of e)t=t.next(e=>e?Js.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Js((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next(e=>{o[l]=e,++a,a===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new Js((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ys(e){return"IndexedDbTransactionError"===e.name}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this._e(e),this.ae=e=>t.writeSequenceNumber(e))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Xs.ue=-1;function Qs(e){return null==e}function Zs(e){return 0===e&&1/e==-1/0}function el(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function tl(e){return e+""}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function rl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function il(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,t){this.comparator=e,this.root=t||sl.EMPTY}insert(e,t){return new ol(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sl.BLACK,null,null))}remove(e){return new ol(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new al(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new al(this.root,e,this.comparator,!1)}getReverseIterator(){return new al(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new al(this.root,e,this.comparator,!0)}}class al{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:sl.RED,this.left=null!=r?r:sl.EMPTY,this.right=null!=i?i:sl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new sl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return sl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rs(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rs(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rs(27949);return e+(this.isRed()?0:1)}}sl.EMPTY=null,sl.RED=!0,sl.BLACK=!1,sl.EMPTY=new class{constructor(){this.size=0}get key(){throw rs(57766)}get value(){throw rs(16141)}get color(){throw rs(16727)}get left(){throw rs(29726)}get right(){throw rs(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new sl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ll{constructor(e){this.comparator=e,this.data=new ol(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ul(this.data.getIterator())}getIteratorFrom(e){return new ul(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof ll))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ll(this.comparator);return t.data=e,t}}class ul{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.fields=e,e.sort(ks.comparator)}static empty(){return new cl([])}unionWith(e){let t=new ll(ks.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ts(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new dl("Invalid base64 string: "+t):t}}(e);return new hl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new hl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Es(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}hl.EMPTY_BYTE_STRING=new hl("");const fl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pl(e){if(os(!!e,39018),"string"==typeof e){let t=0;const n=fl.exec(e);if(os(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ml(e.seconds),nanos:ml(e.nanos)}}function ml(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function gl(e){return"string"==typeof e?hl.fromBase64String(e):hl.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="server_timestamp",vl="__type__",bl="__previous_value__",wl="__local_write_time__";function El(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[vl])||void 0===n?void 0:n.stringValue)===yl}function Sl(e){const t=e.mapValue.fields[bl];return El(t)?Sl(t):t}function _l(e){const t=pl(e.mapValue.fields[wl].timestampValue);return new qs(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=s,this.useFetchStreams=l,this.isUsingEmulator=u}}const Tl="(default)";class Ol{constructor(e,t){this.projectId=e,this.database=t||Tl}static empty(){return new Ol("","")}get isDefaultDatabase(){return this.database===Tl}isEqual(e){return e instanceof Ol&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="__type__",Cl="__max__",Al={},kl="__vector__",Pl="value";function Nl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?El(e)?4:function(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Cl}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)?9007199254740991:function(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Il])||void 0===n?void 0:n.stringValue)===kl}(e)?10:11:rs(28295,{value:e})}function Rl(e,t){if(e===t)return!0;const n=Nl(e);if(n!==Nl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _l(e).isEqual(_l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=pl(e.timestampValue),r=pl(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,gl(e.bytesValue).isEqual(gl(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ml(e.geoPointValue.latitude)===ml(t.geoPointValue.latitude)&&ml(e.geoPointValue.longitude)===ml(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ml(e.integerValue)===ml(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ml(e.doubleValue),r=ml(t.doubleValue);return n===r?Zs(n)===Zs(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ts(e.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(nl(n)!==nl(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Rl(n[i],r[i])))return!1;return!0}(e,t);default:return rs(52216,{left:e})}var r}function Dl(e,t){return void 0!==(e.values||[]).find(e=>Rl(e,t))}function Ml(e,t){if(e===t)return 0;const n=Nl(e),r=Nl(t);if(n!==r)return Es(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Es(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ml(e.integerValue||e.doubleValue),r=ml(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return jl(e.timestampValue,t.timestampValue);case 4:return jl(_l(e),_l(t));case 5:return Ss(e.stringValue,t.stringValue);case 6:return function(e,t){const n=gl(e),r=gl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Es(n[i],r[i]);if(0!==e)return e}return Es(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Es(ml(e.latitude),ml(t.latitude));return 0!==n?n:Es(ml(e.longitude),ml(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ll(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,o;const a=e.fields||{},s=t.fields||{},l=null===(n=a[Pl])||void 0===n?void 0:n.arrayValue,u=null===(r=s[Pl])||void 0===r?void 0:r.arrayValue,c=Es((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(o=null==u?void 0:u.values)||void 0===o?void 0:o.length)||0);return 0!==c?c:Ll(l,u)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Al&&t===Al)return 0;if(e===Al)return 1;if(t===Al)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let a=0;a<r.length&&a<o.length;++a){const e=Ss(r[a],o[a]);if(0!==e)return e;const t=Ml(n[r[a]],i[o[a]]);if(0!==t)return t}return Es(r.length,o.length)}(e.mapValue,t.mapValue);default:throw rs(23264,{le:n})}}function jl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Es(e,t);const n=pl(e),r=pl(t),i=Es(n.seconds,r.seconds);return 0!==i?i:Es(n.nanos,r.nanos)}function Ll(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ml(n[i],r[i]);if(e)return e}return Es(n.length,r.length)}function Ul(e){return Fl(e)}function Fl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=pl(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gl(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Ps.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Fl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Fl(e.fields[i])}`;return n+"}"}(e.mapValue):rs(61005,{value:e})}function Vl(e){switch(Nl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sl(e);return t?16+Vl(t):16;case 5:return 2*e.stringValue.length;case 6:return gl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+Vl(t),0);case 10:case 11:return function(e){let t=0;return rl(e.fields,(e,n)=>{t+=e.length+Vl(n)}),t}(e.mapValue);default:throw rs(13486,{value:e})}}function zl(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function ql(e){return!!e&&"integerValue"in e}function Bl(e){return!!e&&"arrayValue"in e}function Hl(e){return!!e&&"nullValue"in e}function $l(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Gl(e){return!!e&&"mapValue"in e}function Kl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return rl(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Kl(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Kl(e.arrayValue.values[n]);return t}return Object.assign({},e)}class Wl{constructor(e){this.value=e}static empty(){return new Wl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Gl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=ks.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Kl(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Gl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Rl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Gl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){rl(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Wl(Kl(this.value))}}function Jl(e){const t=[];return rl(e.fields,(e,n)=>{const r=new ks([e]);if(Gl(n)){const e=Jl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new cl(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Yl{constructor(e,t,n,r,i,o,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yl(e,0,Bs.min(),Bs.min(),Bs.min(),Wl.empty(),0)}static newFoundDocument(e,t,n,r){return new Yl(e,1,t,Bs.min(),n,r,0)}static newNoDocument(e,t){return new Yl(e,2,t,Bs.min(),Bs.min(),Wl.empty(),0)}static newUnknownDocument(e,t){return new Yl(e,3,t,Bs.min(),Bs.min(),Wl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Bs.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bs.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,t){this.position=e,this.inclusive=t}}function Ql(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],a=e.position[i];if(r=o.field.isKeyField()?Ps.comparator(Ps.fromName(a.referenceValue),n.key):Ml(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Zl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Rl(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,t="asc"){this.field=e,this.dir=t}}function tu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{}class ru extends nu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new cu(e,t,n):"array-contains"===t?new pu(e,n):"in"===t?new mu(e,n):"not-in"===t?new gu(e,n):"array-contains-any"===t?new yu(e,n):new ru(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new du(e,n):new hu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Ml(t,this.value)):null!==t&&Nl(this.value)===Nl(t)&&this.matchesComparison(Ml(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return rs(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class iu extends nu{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new iu(e,t)}matches(e){return ou(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.he||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function ou(e){return"and"===e.op}function au(e){return function(e){for(const t of e.filters)if(t instanceof iu)return!1;return!0}(e)&&ou(e)}function su(e){if(e instanceof ru)return e.field.canonicalString()+e.op.toString()+Ul(e.value);if(au(e))return e.filters.map(e=>su(e)).join(",");{const t=e.filters.map(e=>su(e)).join(",");return`${e.op}(${t})`}}function lu(e,t){return e instanceof ru?(n=e,(r=t)instanceof ru&&n.op===r.op&&n.field.isEqual(r.field)&&Rl(n.value,r.value)):e instanceof iu?function(e,t){return t instanceof iu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&lu(n,t.filters[r]),!0)}(e,t):void rs(19439);var n,r}function uu(e){return e instanceof ru?`${(t=e).field.canonicalString()} ${t.op} ${Ul(t.value)}`:e instanceof iu?function(e){return e.op.toString()+" {"+e.getFilters().map(uu).join(" ,")+"}"}(e):"Filter";var t}class cu extends ru{constructor(e,t,n){super(e,t,n),this.key=Ps.fromName(n.referenceValue)}matches(e){const t=Ps.comparator(e.key,this.key);return this.matchesComparison(t)}}class du extends ru{constructor(e,t){super(e,"in",t),this.keys=fu("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hu extends ru{constructor(e,t){super(e,"not-in",t),this.keys=fu("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function fu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Ps.fromName(e.referenceValue))}class pu extends ru{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bl(t)&&Dl(t.arrayValue,this.value)}}class mu extends ru{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dl(this.value.arrayValue,t)}}class gu extends ru{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Dl(this.value.arrayValue,t)}}class yu extends ru{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Dl(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.Pe=null}}function bu(e,t=null,n=[],r=[],i=null,o=null,a=null){return new vu(e,t,n,r,i,o,a)}function wu(e){const t=as(e);if(null===t.Pe){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>su(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Qs(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Ul(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Ul(e)).join(",")),t.Pe=e}return t.Pe}function Eu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!tu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!lu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Zl(e.startAt,t.startAt)&&Zl(e.endAt,t.endAt)}function Su(e){return Ps.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function xu(e){return new _u(e)}function Tu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ou(e){return null!==e.collectionGroup}function Iu(e){const t=as(e);if(null===t.Te){t.Te=[];const e=new Set;for(const r of t.explicitOrderBy)t.Te.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new ll(ks.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Te.push(new eu(r,n))}),e.has(ks.keyField().canonicalString())||t.Te.push(new eu(ks.keyField(),n))}return t.Te}function Cu(e){const t=as(e);return t.Ie||(t.Ie=function(e,t){if("F"===e.limitType)return bu(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new eu(e.field,t)});const n=e.endAt?new Xl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Xl(e.startAt.position,e.startAt.inclusive):null;return bu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}(t,Iu(e))),t.Ie}function Au(e,t){const n=e.filters.concat([t]);return new _u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ku(e,t,n){return new _u(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pu(e,t){return Eu(Cu(e),Cu(t))&&e.limitType===t.limitType}function Nu(e){return`${wu(Cu(e))}|lt:${e.limitType}`}function Ru(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>uu(e)).join(", ")}]`),Qs(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Ul(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Ul(e)).join(",")),`Target(${t})`}(Cu(e))}; limitType=${e.limitType})`}function Du(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ps.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Iu(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Ql(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Iu(n),r)||n.endAt&&!function(e,t,n){const r=Ql(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Iu(n),r)));var n,r}function Mu(e){return(t,n)=>{let r=!1;for(const i of Iu(e)){const e=ju(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ju(e,t,n){const r=e.field.isKeyField()?Ps.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ml(r,i):rs(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return rs(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){rl(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return il(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new ol(Ps.comparator);function Fu(){return Uu}const Vu=new ol(Ps.comparator);function zu(...e){let t=Vu;for(const n of e)t=t.insert(n.key,n);return t}function qu(e){let t=Vu;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Bu(){return $u()}function Hu(){return $u()}function $u(){return new Lu(e=>e.toString(),(e,t)=>e.isEqual(t))}const Gu=new ol(Ps.comparator),Ku=new ll(Ps.comparator);function Wu(...e){let t=Ku;for(const n of e)t=t.add(n);return t}const Ju=new ll(Es);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Yu(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zs(t)?"-0":t}}function Xu(e){return{integerValue:""+e}}function Qu(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Zs(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)?Xu(t):Yu(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(){this._=void 0}}function ec(e,t,n){return e instanceof rc?function(e,t){const n={fields:{[vl]:{stringValue:yl},[wl]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&El(t)&&(t=Sl(t)),t&&(n.fields[bl]=t),{mapValue:n}}(n,t):e instanceof ic?oc(e,t):e instanceof ac?sc(e,t):function(e,t){const n=nc(e,t),r=uc(n)+uc(e.Ee);return ql(n)&&ql(e.Ee)?Xu(r):Yu(e.serializer,r)}(e,t)}function tc(e,t,n){return e instanceof ic?oc(e,t):e instanceof ac?sc(e,t):n}function nc(e,t){return e instanceof lc?ql(n=t)||(r=n)&&"doubleValue"in r?t:{integerValue:0}:null;var n,r}class rc extends Zu{}class ic extends Zu{constructor(e){super(),this.elements=e}}function oc(e,t){const n=cc(t);for(const r of e.elements)n.some(e=>Rl(e,r))||n.push(r);return{arrayValue:{values:n}}}class ac extends Zu{constructor(e){super(),this.elements=e}}function sc(e,t){let n=cc(t);for(const r of e.elements)n=n.filter(e=>!Rl(e,r));return{arrayValue:{values:n}}}class lc extends Zu{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function uc(e){return ml(e.integerValue||e.doubleValue)}function cc(e){return Bl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class dc{constructor(e,t){this.version=e,this.transformResults=t}}class hc{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hc}static exists(e){return new hc(void 0,e)}static updateTime(e){return new hc(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pc{}function mc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Tc(e.key,hc.none()):new wc(e.key,e.data,hc.none());{const n=e.data,r=Wl.empty();let i=new ll(ks.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ec(e.key,r,new cl(i.toArray()),hc.none())}}function gc(e,t,n){var r;e instanceof wc?function(e,t,n){const r=e.value.clone(),i=_c(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ec?function(e,t,n){if(!fc(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=_c(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Sc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function yc(e,t,n,r){return e instanceof wc?function(e,t,n,r){if(!fc(e.precondition,t))return n;const i=e.value.clone(),o=xc(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ec?function(e,t,n,r){if(!fc(e.precondition,t))return n;const i=xc(e.fieldTransforms,r,t),o=t.data;return o.setAll(Sc(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):(i=t,o=n,fc(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o);var i,o}function vc(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=nc(r.transform,e||null);null!=i&&(null===n&&(n=Wl.empty()),n.set(r.field,i))}return n||null}function bc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&Ts(n,r,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof ic&&r instanceof ic||n instanceof ac&&r instanceof ac?Ts(n.elements,r.elements,Rl):n instanceof lc&&r instanceof lc?Rl(n.Ee,r.Ee):n instanceof rc&&r instanceof rc);var n,r}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,r}class wc extends pc{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ec extends pc{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Sc(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function _c(e,t,n){const r=new Map;os(e.length===n.length,32656,{Ae:n.length,Re:e.length});for(let i=0;i<n.length;i++){const o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,tc(a,s,n[i]))}return r}function xc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ec(e,o,t))}return r}class Tc extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Oc extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&gc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hu();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=t.has(r.key)?null:a;const s=mc(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(Bs.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wu())}isEqual(e){return this.batchId===e.batchId&&Ts(this.mutations,e.mutations,(e,t)=>bc(e,t))&&Ts(this.baseMutations,e.baseMutations,(e,t)=>bc(e,t))}}class Cc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){os(e.mutations.length===n.length,58842,{Ve:e.mutations.length,me:n.length});let r=function(){return Gu}();const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Cc(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pc,Nc;function Rc(e){if(void 0===e)return es("GRPC error has no .code"),ss.UNKNOWN;switch(e){case Pc.OK:return ss.OK;case Pc.CANCELLED:return ss.CANCELLED;case Pc.UNKNOWN:return ss.UNKNOWN;case Pc.DEADLINE_EXCEEDED:return ss.DEADLINE_EXCEEDED;case Pc.RESOURCE_EXHAUSTED:return ss.RESOURCE_EXHAUSTED;case Pc.INTERNAL:return ss.INTERNAL;case Pc.UNAVAILABLE:return ss.UNAVAILABLE;case Pc.UNAUTHENTICATED:return ss.UNAUTHENTICATED;case Pc.INVALID_ARGUMENT:return ss.INVALID_ARGUMENT;case Pc.NOT_FOUND:return ss.NOT_FOUND;case Pc.ALREADY_EXISTS:return ss.ALREADY_EXISTS;case Pc.PERMISSION_DENIED:return ss.PERMISSION_DENIED;case Pc.FAILED_PRECONDITION:return ss.FAILED_PRECONDITION;case Pc.ABORTED:return ss.ABORTED;case Pc.OUT_OF_RANGE:return ss.OUT_OF_RANGE;case Pc.UNIMPLEMENTED:return ss.UNIMPLEMENTED;case Pc.DATA_LOSS:return ss.DATA_LOSS;default:return rs(39323,{code:e})}}(Nc=Pc||(Pc={}))[Nc.OK=0]="OK",Nc[Nc.CANCELLED=1]="CANCELLED",Nc[Nc.UNKNOWN=2]="UNKNOWN",Nc[Nc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nc[Nc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nc[Nc.NOT_FOUND=5]="NOT_FOUND",Nc[Nc.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nc[Nc.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nc[Nc.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nc[Nc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nc[Nc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nc[Nc.ABORTED=10]="ABORTED",Nc[Nc.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nc[Nc.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nc[Nc.INTERNAL=13]="INTERNAL",Nc[Nc.UNAVAILABLE=14]="UNAVAILABLE",Nc[Nc.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Dc=new Ma([4294967295,4294967295],0);function Mc(e){const t=bs().encode(e),n=new ja;return n.update(t),new Uint8Array(n.digest())}function jc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Ma([n,r],0),new Ma([i,o],0)]}class Lc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Uc(`Invalid padding: ${t}`);if(n<0)throw new Uc(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Uc(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Uc(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ma.fromNumber(this.fe)}pe(e,t,n){let r=e.add(t.multiply(Ma.fromNumber(n)));return 1===r.compare(Dc)&&(r=new Ma([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.fe)return!1;const t=Mc(e),[n,r]=jc(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);if(!this.ye(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Lc(i,r,t);return n.forEach(e=>o.insert(e)),o}insert(e){if(0===this.fe)return;const t=Mc(e),[n,r]=jc(t);for(let i=0;i<this.hashCount;i++){const e=this.pe(n,r,i);this.we(e)}}we(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Vc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fc(Bs.min(),r,new ol(Es),Fu(),Wu())}}class Vc{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Vc(n,t,Wu(),Wu(),Wu())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.be=r}}class qc{constructor(e,t){this.targetId=e,this.De=t}}class Bc{constructor(e,t,n=hl.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Hc{constructor(){this.ve=0,this.Ce=Kc(),this.Fe=hl.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return 0!==this.ve}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Wu(),t=Wu(),n=Wu();return this.Ce.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:rs(38017,{changeType:i})}}),new Vc(this.Fe,this.Me,e,t,n)}ke(){this.xe=!1,this.Ce=Kc()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,os(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $c{constructor(e){this.We=e,this.Ge=new Map,this.ze=Fu(),this.je=Gc(),this.Je=Gc(),this.He=new ol(Es)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{const n=this.tt(t);switch(e.state){case 0:this.nt(t)&&n.Be(e.resumeToken);break;case 1:n.Ue(),n.Oe||n.ke(),n.Be(e.resumeToken);break;case 2:n.Ue(),n.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(n.Ke(),n.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),n.Be(e.resumeToken));break;default:rs(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((e,n)=>{this.nt(n)&&t(n)})}it(e){const t=e.targetId,n=e.De.count,r=this.st(t);if(r){const i=r.target;if(Su(i))if(0===n){const e=new Ps(i.path);this.Xe(t,e,Yl.newNoDocument(e,Bs.min()))}else os(1===n,20013,{expectedCount:n});else{const r=this.ot(t);if(r!==n){const n=this._t(e),i=n?this.ut(n,e,r):1;if(0!==i){this.rt(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,e)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let o,a;try{o=gl(n).toUint8Array()}catch(s){if(s instanceof dl)return ts("Decoding the base64 bloom filter in existence filter failed ("+s.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw s}try{a=new Lc(o,r,i)}catch(s){return ts(s instanceof Uc?"BloomFilter error: ":"Applying bloom filter failed: ",s),null}return 0===a.fe?null:a}ut(e,t,n){return t.De.count===n-this.ht(e,t.targetId)?0:2}ht(e,t){const n=this.We.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.We.lt(),o=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(o)||(this.Xe(t,n,null),r++)}),r}Pt(e){const t=new Map;this.Ge.forEach((n,r)=>{const i=this.st(r);if(i){if(n.current&&Su(i.target)){const t=new Ps(i.target.path);this.Tt(t).has(r)||this.It(r,t)||this.Xe(r,t,Yl.newNoDocument(t,e))}n.Ne&&(t.set(r,n.Le()),n.ke())}});let n=Wu();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.st(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ze.forEach((t,n)=>n.setReadTime(e));const r=new Fc(e,t,this.He,this.ze,n);return this.ze=Fu(),this.je=Gc(),this.Je=Gc(),this.He=new ol(Es),r}Ze(e,t){if(!this.nt(e))return;const n=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,n),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,n){if(!this.nt(e))return;const r=this.tt(e);this.It(e,t)?r.qe(t,1):r.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),n&&(this.ze=this.ze.insert(t,n))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Hc,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ll(Es),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ll(Es),this.je=this.je.insert(e,t)),t}nt(e){const t=null!==this.st(e);return t||Za("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Hc),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Gc(){return new ol(Ps.comparator)}function Kc(){return new ol(Ps.comparator)}const Wc=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Jc=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Yc=(()=>({and:"AND",or:"OR"}))();class Xc{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qc(e,t){return e.useProto3Json||Qs(t)?t:{value:t}}function Zc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ed(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function td(e,t){return Zc(e,t.toTimestamp())}function nd(e){return os(!!e,49232),Bs.fromTimestamp(function(e){const t=pl(e);return new qs(t.seconds,t.nanos)}(e))}function rd(e,t){return id(e,t).canonicalString()}function id(e,t){const n=(r=e,new Cs(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?n:n.child(t)}function od(e){const t=Cs.fromString(e);return os(_d(t),10190,{key:t.toString()}),t}function ad(e,t){return rd(e.databaseId,t.path)}function sd(e,t){const n=od(t);if(n.get(1)!==e.databaseId.projectId)throw new ls(ss.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ls(ss.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ps(cd(n))}function ld(e,t){return rd(e.databaseId,t)}function ud(e){return new Cs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cd(e){return os(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function dd(e,t,n){return{name:ad(e,t),fields:n.value.mapValue.fields}}function hd(e,t){return{documents:[ld(e,t.path)]}}function fd(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ld(e,i);const o=function(e){if(0!==e.length)return Ed(iu.create(e,"and"))}(t.filters);o&&(n.structuredQuery.where=o);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:bd((t=e).field),direction:gd(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Qc(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{Vt:n,parent:i};var l}function pd(e){let t=function(e){const t=od(e);return 4===t.length?Cs.emptyPath():cd(t)}(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){os(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=md(e);return t instanceof iu&&au(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new eu(wd((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Qs(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Xl(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Xl(n,t)}(n.endAt)),function(e,t,n,r,i,o,a,s){return new _u(e,t,n,r,i,o,a,s)}(t,i,a,o,s,"F",l,u)}function md(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=wd(e.unaryFilter.field);return ru.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=wd(e.unaryFilter.field);return ru.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=wd(e.unaryFilter.field);return ru.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=wd(e.unaryFilter.field);return ru.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rs(61313);default:return rs(60726)}}(e):void 0!==e.fieldFilter?(t=e,ru.create(wd(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rs(58110);default:return rs(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return iu.create(e.compositeFilter.filters.map(e=>md(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return rs(1026)}}(e.compositeFilter.op))}(e):rs(30097,{filter:e});var t}function gd(e){return Wc[e]}function yd(e){return Jc[e]}function vd(e){return Yc[e]}function bd(e){return{fieldPath:e.canonicalString()}}function wd(e){return ks.fromServerFormat(e.fieldPath)}function Ed(e){return e instanceof ru?function(e){if("=="===e.op){if($l(e.value))return{unaryFilter:{field:bd(e.field),op:"IS_NAN"}};if(Hl(e.value))return{unaryFilter:{field:bd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($l(e.value))return{unaryFilter:{field:bd(e.field),op:"IS_NOT_NAN"}};if(Hl(e.value))return{unaryFilter:{field:bd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bd(e.field),op:yd(e.op),value:e.value}}}(e):e instanceof iu?function(e){const t=e.getFilters().map(e=>Ed(e));return 1===t.length?t[0]:{compositeFilter:{op:vd(e.op),filters:t}}}(e):rs(54877,{filter:e})}function Sd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function _d(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,t,n,r,i=Bs.min(),o=Bs.min(),a=hl.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=s}withSequenceNumber(e){return new xd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.gt=e}}function Od(e){const t=pd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ku(t,t.limit,"L"):t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(){this.Dn=new Cd}addToCollectionParentIndex(e,t){return this.Dn.add(t),Js.resolve()}getCollectionParents(e,t){return Js.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Js.resolve()}deleteFieldIndex(e,t){return Js.resolve()}deleteAllFieldIndexes(e){return Js.resolve()}createTargetIndexes(e,t){return Js.resolve()}getDocumentsMatchingTarget(e,t){return Js.resolve(null)}getIndexType(e,t){return Js.resolve(0)}getFieldIndexes(e,t){return Js.resolve([])}getNextCollectionGroupToUpdate(e){return Js.resolve(null)}getMinOffset(e,t){return Js.resolve($s.min())}getMinOffsetFromCollectionGroup(e,t){return Js.resolve($s.min())}updateCollectionGroup(e,t,n){return Js.resolve()}updateIndexEntries(e,t){return Js.resolve()}}class Cd{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ll(Cs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ll(Cs.comparator)).toArray()}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ad={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kd=41943040;class Pd{static withCacheSize(e){return new Pd(e,Pd.DEFAULT_COLLECTION_PERCENTILE,Pd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pd.DEFAULT_COLLECTION_PERCENTILE=10,Pd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pd.DEFAULT=new Pd(kd,Pd.DEFAULT_COLLECTION_PERCENTILE,Pd.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pd.DISABLED=new Pd(-1,0,0);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Nd{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Nd(0)}static ur(){return new Nd(-1)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="LruGarbageCollector";function Dd([e,t],[n,r]){const i=Es(e,n);return 0===i?Es(t,r):i}class Md{constructor(e){this.Tr=e,this.buffer=new ll(Dd),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Dd(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jd{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Ar=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return null!==this.Ar}Rr(e){Za(Rd,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ys(e)?Za(Rd,"Ignoring IndexedDB error during garbage collection: ",e):await Ws(e)}await this.Rr(3e5)})}}class Ld{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Js.resolve(Xs.ue);const n=new Md(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.gr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Za("LruGarbageCollector","Garbage collection skipped; disabled"),Js.resolve(Ad)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Za("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ad):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let n,r,i,o,a,s,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Za("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),Qa()<=on.DEBUG&&Za("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-u}ms\n\tDetermined least recently used ${r} in `+(a-o)+`ms\n\tRemoved ${i} targets in `+(s-a)+`ms\n\tRemoved ${e} documents in `+(l-s)+`ms\nTotal Duration: ${l-u}ms`),Js.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ud{constructor(){this.changes=new Lu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Js.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&yc(n.mutation,e,cl.empty(),qs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Wu()).next(()=>t))}getLocalViewOfDocuments(e,t,n=Wu()){const r=Bu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=zu();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Bu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Wu()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Fu();const o=$u(),a=$u();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Ec)?i=i.insert(t.key,t):void 0!==a?(o.set(t.key,a.mutation.getFieldMask()),yc(a.mutation,t,a.mutation.getFieldMask(),qs.now())):o.set(t.key,cl.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new Fd(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=$u();let r=new ol((e,t)=>e-t),i=Wu();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let a=n.get(e)||cl.empty();a=i.applyToLocalView(o,a),n.set(e,a);const s=(r.get(i.batchId)||Wu()).add(e);r=r.insert(i.batchId,s)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,l=r.value,u=Hu();l.forEach(e=>{if(!i.has(e)){const r=mc(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,s,u))}return Js.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return i=t,Ps.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Ou(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r);var i}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Js.resolve(Bu());let a=-1,s=i;return o.next(t=>Js.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Js.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{s=s.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,s,t,Wu())).next(e=>({batchId:a,changes:qu(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ps(t)).next(e=>{let t=zu();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let o=zu();return this.indexManager.getCollectionParents(e,i).next(a=>Js.forEach(a,a=>{const s=(l=t,u=a.child(i),new _u(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,u;return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next(e=>{e.forEach((e,t)=>{o=o.insert(e,t)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Yl.newInvalidDocument(r)))});let n=zu();return e.forEach((e,r)=>{const o=i.get(e);void 0!==o&&yc(o.mutation,r,cl.empty(),qs.now()),Du(t,r)&&(n=n.insert(e,r))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Js.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,{id:(n=t).id,version:n.version,createTime:nd(n.createTime)}),Js.resolve();var n}getNamedQuery(e,t){return Js.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,{name:(n=t).name,query:Od(n.bundledQuery),readTime:nd(n.readTime)}),Js.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.overlays=new ol(Ps.comparator),this.kr=new Map}getOverlay(e,t){return Js.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bu();return Js.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.wt(e,t,r)}),Js.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.kr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.kr.delete(n)),Js.resolve()}getOverlaysForCollection(e,t,n){const r=Bu(),i=t.length+1,o=new Ps(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const e=a.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Js.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ol((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bu(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Bu(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return Js.resolve(a)}wt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.kr.get(r.largestBatchId).delete(n.key);this.kr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ac(t,n));let i=this.kr.get(t);void 0===i&&(i=Wu(),this.kr.set(t,i)),this.kr.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this.sessionToken=hl.EMPTY_BYTE_STRING}getSessionToken(e){return Js.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Js.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this.qr=new ll($d.Qr),this.$r=new ll($d.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const n=new $d(e,t);this.qr=this.qr.add(n),this.$r=this.$r.add(n)}Kr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new $d(e,t))}Gr(e,t){e.forEach(e=>this.removeReference(e,t))}zr(e){const t=new Ps(new Cs([])),n=new $d(t,e),r=new $d(t,e+1),i=[];return this.$r.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ps(new Cs([])),n=new $d(t,e),r=new $d(t,e+1);let i=Wu();return this.$r.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new $d(e,0),n=this.qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class $d{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ps.comparator(e.key,t.key)||Es(e.Hr,t.Hr)}static Ur(e,t){return Es(e.Hr,t.Hr)||Ps.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ll($d.Qr)}checkEmpty(e){return Js.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Ic(i,t,n,r);this.mutationQueue.push(o);for(const a of r)this.Yr=this.Yr.add(new $d(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Js.resolve(o)}lookupMutationBatch(e,t){return Js.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Js.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Js.resolve(0===this.mutationQueue.length?-1:this.er-1)}getAllMutationBatches(e){return Js.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new $d(t,0),r=new $d(t,Number.POSITIVE_INFINITY),i=[];return this.Yr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Js.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ll(Es);return t.forEach(e=>{const t=new $d(e,0),r=new $d(e,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Js.resolve(this.ei(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ps.isDocumentKey(i)||(i=i.child(""));const o=new $d(new Ps(i),0);let a=new ll(Es);return this.Yr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.Hr)),!0)},o),Js.resolve(this.ei(a))}ei(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){os(0===this.ti(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Yr;return Js.forEach(t.mutations,r=>{const i=new $d(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Yr=n})}rr(e){}containsKey(e,t){const n=new $d(t,0),r=this.Yr.firstAfterOrEqual(n);return Js.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Js.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.ni=e,this.docs=new ol(Ps.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ni(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Js.resolve(n?n.document.mutableCopy():Yl.newInvalidDocument(t))}getEntries(e,t){let n=Fu();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Yl.newInvalidDocument(e))}),Js.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Fu();const o=t.path,a=new Ps(o.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(a);for(;s.hasNext();){const{key:e,value:{document:a}}=s.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Gs(Hs(a),n)<=0||(r.has(a.key)||Du(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Js.resolve(i)}getAllFromCollectionGroup(e,t,n,r){rs(9500)}ri(e,t){return Js.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Wd(this)}getSize(e){return Js.resolve(this.size)}}class Wd extends Ud{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Or.addEntry(e,r)):this.Or.removeEntry(n)}),Js.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.persistence=e,this.ii=new Lu(e=>wu(e),Eu),this.lastRemoteSnapshotVersion=Bs.min(),this.highestTargetId=0,this.si=0,this.oi=new Hd,this.targetCount=0,this._i=Nd.ar()}forEachTarget(e,t){return this.ii.forEach((e,n)=>t(n)),Js.resolve()}getLastRemoteSnapshotVersion(e){return Js.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Js.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Js.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.si&&(this.si=t),Js.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Nd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Js.resolve()}updateTargetData(e,t){return this.hr(t),Js.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Js.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.ii.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),Js.waitFor(i).next(()=>r)}getTargetCount(e){return Js.resolve(this.targetCount)}getTargetData(e,t){const n=this.ii.get(t)||null;return Js.resolve(n)}addMatchingKeys(e,t,n){return this.oi.Kr(t,n),Js.resolve()}removeMatchingKeys(e,t,n){this.oi.Gr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Js.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Js.resolve()}getMatchingKeysForTargetId(e,t){const n=this.oi.Jr(t);return Js.resolve(n)}containsKey(e,t){return Js.resolve(this.oi.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,t){this.ai={},this.overlays={},this.ui=new Xs(0),this.ci=!1,this.ci=!0,this.li=new Bd,this.referenceDelegate=e(this),this.hi=new Jd(this),this.indexManager=new Id,this.remoteDocumentCache=new Kd(e=>this.referenceDelegate.Pi(e)),this.serializer=new Td(t),this.Ti=new zd(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qd,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ai[e.toKey()];return n||(n=new Gd(t,this.referenceDelegate),this.ai[e.toKey()]=n),n}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,n){Za("MemoryPersistence","Starting transaction:",e);const r=new Xd(this.ui.next());return this.referenceDelegate.Ii(),n(r).next(e=>this.referenceDelegate.di(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Js.or(Object.values(this.ai).map(n=>()=>n.containsKey(e,t)))}}class Xd extends Ks{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.Ai=new Hd,this.Ri=null}static Vi(e){return new Qd(e)}get mi(){if(this.Ri)return this.Ri;throw rs(60996)}addReference(e,t,n){return this.Ai.addReference(n,t),this.mi.delete(n.toString()),Js.resolve()}removeReference(e,t,n){return this.Ai.removeReference(n,t),this.mi.add(n.toString()),Js.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Js.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(e=>this.mi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.mi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Js.forEach(this.mi,n=>{const r=Ps.fromPath(n);return this.fi(e,r).next(e=>{e||t.removeEntry(r,Bs.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(e=>{e?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return Js.or([()=>Js.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Zd{constructor(e,t){this.persistence=e,this.gi=new Lu(e=>function(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tl(t)),t=el(e.get(n),t);return tl(t)}(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=function(e,t){return new Ld(e,t)}(this,t)}static Vi(e,t){return new Zd(e,t)}Ii(){}di(e){return Js.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}yr(e){let t=0;return this.gr(e,e=>{t++}).next(()=>t)}gr(e,t){return Js.forEach(this.gi,(n,r)=>this.Sr(e,n,r).next(e=>e?Js.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ri(e,r=>this.Sr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,Bs.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Js.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Js.resolve()}removeReference(e,t,n){return this.gi.set(n,e.currentSequenceNumber),Js.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Js.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vl(e.data.value)),t}Sr(e,t,n){return Js.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.gi.get(t);return Js.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Is=n,this.ds=r}static Es(e,t){let n=Wu(),r=Wu();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new eh(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=qt()?8:function(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}(zt())>0?6:4}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ps(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ys(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new th;return this.ws(e,t,n).next(r=>{if(i.result=r,this.Rs)return this.Ss(e,t,n,r.size)})}).next(()=>i.result)}Ss(e,t,n,r){return n.documentReadCount<this.Vs?(Qa()<=on.DEBUG&&Za("QueryEngine","SDK will not create cache indexes for query:",Ru(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Js.resolve()):(Qa()<=on.DEBUG&&Za("QueryEngine","Query:",Ru(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.fs*r?(Qa()<=on.DEBUG&&Za("QueryEngine","The SDK decides to create cache indexes for query:",Ru(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cu(t))):Js.resolve())}ps(e,t){if(Tu(t))return Js.resolve(null);let n=Cu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ku(t,null,"F"),n=Cu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Wu(...r);return this.gs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const o=this.bs(t,r);return this.Ds(t,o,i,n.readTime)?this.ps(e,ku(t,null,"F")):this.vs(e,o,t,n)}))})))}ys(e,t,n,r){return Tu(t)||r.isEqual(Bs.min())?Js.resolve(null):this.gs.getDocuments(e,n).next(i=>{const o=this.bs(t,i);return this.Ds(t,o,n,r)?Js.resolve(null):(Qa()<=on.DEBUG&&Za("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ru(t)),this.vs(e,o,t,function(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Bs.fromTimestamp(1e9===r?new qs(n+1,0):new qs(n,r));return new $s(i,Ps.empty(),t)}(r,-1)).next(e=>e))})}bs(e,t){let n=new ll(Mu(e));return t.forEach((t,r)=>{Du(e,r)&&(n=n.add(r))}),n}Ds(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ws(e,t,n){return Qa()<=on.DEBUG&&Za("QueryEngine","Using full collection scan to execute query:",Ru(t)),this.gs.getDocumentsMatchingQuery(e,t,$s.min(),n)}vs(e,t,n,r){return this.gs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh="LocalStore";class ih{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.Fs=new ol(Es),this.Ms=new Lu(e=>wu(e),Eu),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(n)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vd(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}}async function oh(e,t){const n=as(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Ns(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let a=Wu();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Bs:e,removedBatchIds:i,addedBatchIds:o}))})})}function ah(e){const t=as(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.hi.getLastRemoteSnapshotVersion(e))}function sh(e,t){const n=as(e),r=t.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];t.targetChanges.forEach((o,s)=>{const l=i.get(s);if(!l)return;a.push(n.hi.removeMatchingKeys(e,o.removedDocuments,s).next(()=>n.hi.addMatchingKeys(e,o.addedDocuments,s)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?u=u.withResumeToken(hl.EMPTY_BYTE_STRING,Bs.min()).withLastLimboFreeSnapshotVersion(Bs.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,o)&&a.push(n.hi.updateTargetData(e,u))});let s=Fu(),l=Wu();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(function(e,t,n){let r=Wu(),i=Wu();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Fu();return n.forEach((n,o)=>{const a=e.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Bs.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Za(rh,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),{Ls:r,ks:i}})}(e,o,t.documentUpdates).next(e=>{s=e.Ls,l=e.ks})),!r.isEqual(Bs.min())){const t=n.hi.getLastRemoteSnapshotVersion(e).next(t=>n.hi.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return Js.waitFor(a).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,s,l)).next(()=>s)}).then(e=>(n.Fs=i,e))}function lh(e,t){const n=as(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function uh(e,t,n){const r=as(e),i=r.Fs.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(a){if(!Ys(a))throw a;Za(rh,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Fs=r.Fs.remove(t),r.Ms.delete(i.target)}function ch(e,t,n){const r=as(e);let i=Bs.min(),o=Wu();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=as(e),i=r.Ms.get(n);return void 0!==i?Js.resolve(r.Fs.get(i)):r.hi.getTargetData(t,n)}(r,e,Cu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:Bs.min(),n?o:Wu())).next(e=>(function(e,t,n){let r=e.xs.get(t)||Bs.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.xs.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,qs:o})))}class dh{constructor(){this.activeTargetIds=Ju}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hh{constructor(){this.Fo=new dh,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,n){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new dh,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{xo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="ConnectivityMonitor";class mh{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Za(ph,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){Za(ph,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gh=null;function yh(){return null===gh?gh=268435456+Math.round(2147483648*Math.random()):gh++,"0x"+gh.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const vh="RestConnection",bh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wh{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${n}/databases/${r}`,this.Ko=this.databaseId.database===Tl?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Wo(e,t,n,r,i){const o=yh(),a=this.Go(e,t.toUriEncodedString());Za(vh,`Sending RPC '${e}' ${o}:`,a,n);const s={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(s,r,i);const{host:l}=new URL(a),u=jt(l);return this.jo(e,a,s,n,u).then(t=>(Za(vh,`Received RPC '${e}' ${o}: `,t),t),t=>{throw ts(vh,`RPC '${e}' ${o} failed with error: `,t,"url: ",a,"request:",n),t})}Jo(e,t,n,r,i,o){return this.Wo(e,t,n,r,i)}zo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ya,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Go(e,t){const n=bh[e];return`${this.$o}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh="WebChannelConnection";class _h extends wh{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,n,r,i){const o=yh();return new Promise((i,a)=>{const s=new Ua;s.setWithCredentials(!0),s.listenOnce(Va.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case za.NO_ERROR:const t=s.getResponseJson();Za(Sh,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(t)),i(t);break;case za.TIMEOUT:Za(Sh,`RPC '${e}' ${o} timed out`),a(new ls(ss.DEADLINE_EXCEEDED,"Request time out"));break;case za.HTTP_ERROR:const n=s.getStatus();if(Za(Sh,`RPC '${e}' ${o} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(ss).indexOf(t)>=0?t:ss.UNKNOWN}(t.status);a(new ls(e,t.message))}else a(new ls(ss.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new ls(ss.UNAVAILABLE,"Connection failed."));break;default:rs(9055,{c_:e,streamId:o,l_:s.getLastErrorCode(),h_:s.getLastError()})}}finally{Za(Sh,`RPC '${e}' ${o} completed.`)}});const l=JSON.stringify(r);Za(Sh,`RPC '${e}' ${o} sending request:`,r),s.send(t,"POST",l,n,15)})}P_(e,t,n){const r=yh(),i=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$a(),a=Ha(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.zo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const u=i.join("");Za(Sh,`Creating RPC '${e}' stream ${r}: ${u}`,s);const c=o.createWebChannel(u,s);this.T_(c);let d=!1,h=!1;const f=new Eh({Ho:t=>{h?Za(Sh,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Za(Sh,`Opening RPC '${e}' stream ${r} transport.`),c.open(),d=!0),Za(Sh,`RPC '${e}' stream ${r} sending:`,t),c.send(t))},Yo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return p(c,Fa.EventType.OPEN,()=>{h||(Za(Sh,`RPC '${e}' stream ${r} transport opened.`),f.s_())}),p(c,Fa.EventType.CLOSE,()=>{h||(h=!0,Za(Sh,`RPC '${e}' stream ${r} transport closed`),f.__(),this.I_(c))}),p(c,Fa.EventType.ERROR,t=>{h||(h=!0,ts(Sh,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.__(new ls(ss.UNAVAILABLE,"The operation could not be completed")))}),p(c,Fa.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];os(!!i,16349);const o=i,a=(null==o?void 0:o.error)||(null===(n=o[0])||void 0===n?void 0:n.error);if(a){Za(Sh,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Pc[e];if(void 0!==t)return Rc(t)}(t),i=a.message;void 0===n&&(n=ss.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.__(new ls(n,i)),c.close()}else Za(Sh,`RPC '${e}' stream ${r} received:`,i),f.a_(i)}}),p(a,Ba.STAT_EVENT,t=>{t.stat===qa.PROXY?Za(Sh,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===qa.NOPROXY&&Za(Sh,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{f.o_()},0),f}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}}function xh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){return new Xc(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Fi=e,this.timerId=t,this.d_=n,this.E_=r,this.A_=i,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),n=Math.max(0,Date.now()-this.m_),r=Math.max(0,t-n);r>0&&Za("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,r,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){null!==this.V_&&(this.V_.skipDelay(),this.V_=null)}cancel(){null!==this.V_&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="PersistentStream";class Ch{constructor(e,t,n,r,i,o,a,s){this.Fi=e,this.w_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Oh(e,t)}M_(){return 1===this.state||5===this.state||this.x_()}x_(){return 2===this.state||3===this.state}start(){this.C_=0,4!==this.state?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&null===this.D_&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,4!==e?this.F_.reset():t&&t.code===ss.RESOURCE_EXHAUSTED?(es(t.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===ss.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.b_===t&&this.W_(e,n)},t=>{e(()=>{const e=new ls(ss.UNKNOWN,"Fetching auth token failed: "+t.message);return this.G_(e)})})}W_(e,t){const n=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.e_(()=>{n(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(e=>{n(()=>this.G_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.C_?this.j_(e):this.onNext(e))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return Za(Ih,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Za(Ih,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ah extends Ch{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:rs(39313,{state:r}),o=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(os(void 0===t||"string"==typeof t,58123),hl.fromBase64String(t||"")):(os(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),hl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,l=s&&function(e){const t=void 0===e.code?ss.UNKNOWN:Rc(e.code);return new ls(t,e.message||"")}(s);n=new Bc(i,o,a,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=sd(e,r.document.name),o=nd(r.document.updateTime),a=r.document.createTime?nd(r.document.createTime):Bs.min(),s=new Wl({mapValue:{fields:r.document.fields}}),l=Yl.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new zc(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=sd(e,r.document),o=r.readTime?nd(r.readTime):Bs.min(),a=Yl.newNoDocument(i,o),s=r.removedTargetIds||[];n=new zc([],s,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=sd(e,r.document),o=r.removedTargetIds||[];n=new zc([],o,i,null)}else{if(!("filter"in t))return rs(11601,{At:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new kc(r,i),a=e.targetId;n=new qc(a,o)}}var r;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Bs.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Bs.min():t.readTime?nd(t.readTime):Bs.min()}(e);return this.listener.J_(t,n)}H_(e){const t={};t.database=ud(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Su(r)?{documents:hd(e,r)}:{query:fd(e,r).Vt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ed(e,t.resumeToken);const r=Qc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Bs.min())>0){n.readTime=Zc(e,t.snapshotVersion.toTimestamp());const r=Qc(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rs(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.k_(t)}Y_(e){const t={};t.database=ud(this.serializer),t.removeTarget=e,this.k_(t)}}class kh extends Ch{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return os(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,os(!e.writeResults||0===e.writeResults.length,55816),this.listener.ea()}onNext(e){os(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=function(e,t){return e&&e.length>0?(os(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?nd(e.updateTime):nd(t);return n.isEqual(Bs.min())&&(n=nd(t)),new dc(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=nd(e.commitTime);return this.listener.ta(n,t)}na(){const e={};e.database=ud(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>function(e,t){let n;if(t instanceof wc)n={update:dd(e,t.key,t.value)};else if(t instanceof Tc)n={delete:ad(e,t.key)};else if(t instanceof Ec)n={update:dd(e,t.key,t.data),updateMask:Sd(t.fieldMask)};else{if(!(t instanceof Oc))return rs(16599,{Rt:t.type});n={verify:ad(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof rc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ic)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ac)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lc)return{fieldPath:t.field.canonicalString(),increment:n.Ee};throw rs(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:td(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:rs(27497))),n;var r,i}(this.serializer,e))};this.k_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{}class Nh extends Ph{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ra=!1}ia(){if(this.ra)throw new ls(ss.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,id(t,n),r,i,o)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ss.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ls(ss.UNKNOWN,e.toString())})}Jo(e,t,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,id(t,n),r,o,a,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===ss.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ls(ss.UNKNOWN,e.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class Rh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){0===this.sa&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){"Online"===this.state?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,"Online"===e&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(es(t),this._a=!1):Za("OnlineStateTracker",t)}ha(){null!==this.oa&&(this.oa.cancel(),this.oa=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="RemoteStore";class Mh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=i,this.Ea.xo(e=>{n.enqueueAndForget(async()=>{Hh(this)&&(Za(Dh,"Restarting streams for network reachability change."),await async function(e){const t=as(e);t.Ia.add(4),await Lh(t),t.Aa.set("Unknown"),t.Ia.delete(4),await jh(t)}(this))})}),this.Aa=new Rh(n,r)}}async function jh(e){if(Hh(e))for(const t of e.da)await t(!0)}async function Lh(e){for(const t of e.da)await t(!1)}function Uh(e,t){const n=as(e);n.Ta.has(t.targetId)||(n.Ta.set(t.targetId,t),Bh(n)?qh(n):uf(n).x_()&&Vh(n,t))}function Fh(e,t){const n=as(e),r=uf(n);n.Ta.delete(t),r.x_()&&zh(n,t),0===n.Ta.size&&(r.x_()?r.B_():Hh(n)&&n.Aa.set("Unknown"))}function Vh(e,t){if(e.Ra.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Bs.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}uf(e).H_(t)}function zh(e,t){e.Ra.$e(t),uf(e).Y_(t)}function qh(e){e.Ra=new $c({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Et:t=>e.Ta.get(t)||null,lt:()=>e.datastore.serializer.databaseId}),uf(e).start(),e.Aa.aa()}function Bh(e){return Hh(e)&&!uf(e).M_()&&e.Ta.size>0}function Hh(e){return 0===as(e).Ia.size}function $h(e){e.Ra=void 0}async function Gh(e){e.Aa.set("Online")}async function Kh(e){e.Ta.forEach((t,n)=>{Vh(e,t)})}async function Wh(e,t){$h(e),Bh(e)?(e.Aa.la(t),qh(e)):e.Aa.set("Unknown")}async function Jh(e,t,n){if(e.Aa.set("Online"),t instanceof Bc&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ta.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ta.delete(r),e.Ra.removeTarget(r))}(e,t)}catch(r){Za(Dh,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Yh(e,r)}else if(t instanceof zc?e.Ra.Ye(t):t instanceof qc?e.Ra.it(t):e.Ra.et(t),!n.isEqual(Bs.min()))try{const t=await ah(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Ra.Pt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ta.get(r);i&&e.Ta.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ta.get(t);if(!r)return;e.Ta.set(t,r.withResumeToken(hl.EMPTY_BYTE_STRING,r.snapshotVersion)),zh(e,t);const i=new xd(r.target,t,n,r.sequenceNumber);Vh(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(i){Za(Dh,"Failed to raise snapshot:",i),await Yh(e,i)}}async function Yh(e,t,n){if(!Ys(t))throw t;e.Ia.add(1),await Lh(e),e.Aa.set("Offline"),n||(n=()=>ah(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Za(Dh,"Retrying IndexedDB access"),await n(),e.Ia.delete(1),await jh(e)})}function Xh(e,t){return t().catch(n=>Yh(e,n,t))}async function Qh(e){const t=as(e),n=cf(t);let r=t.Pa.length>0?t.Pa[t.Pa.length-1].batchId:-1;for(;Zh(t);)try{const e=await lh(t.localStore,r);if(null===e){0===t.Pa.length&&n.B_();break}r=e.batchId,ef(t,e)}catch(i){await Yh(t,i)}tf(t)&&nf(t)}function Zh(e){return Hh(e)&&e.Pa.length<10}function ef(e,t){e.Pa.push(t);const n=cf(e);n.x_()&&n.Z_&&n.X_(t.mutations)}function tf(e){return Hh(e)&&!cf(e).M_()&&e.Pa.length>0}function nf(e){cf(e).start()}async function rf(e){cf(e).na()}async function of(e){const t=cf(e);for(const n of e.Pa)t.X_(n.mutations)}async function af(e,t,n){const r=e.Pa.shift(),i=Cc.from(r,t,n);await Xh(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Qh(e)}async function sf(e,t){t&&cf(e).Z_&&await async function(e,t){if(function(e){switch(e){case ss.OK:return rs(64938);case ss.CANCELLED:case ss.UNKNOWN:case ss.DEADLINE_EXCEEDED:case ss.RESOURCE_EXHAUSTED:case ss.INTERNAL:case ss.UNAVAILABLE:case ss.UNAUTHENTICATED:return!1;case ss.INVALID_ARGUMENT:case ss.NOT_FOUND:case ss.ALREADY_EXISTS:case ss.PERMISSION_DENIED:case ss.FAILED_PRECONDITION:case ss.ABORTED:case ss.OUT_OF_RANGE:case ss.UNIMPLEMENTED:case ss.DATA_LOSS:return!0;default:return rs(15467,{code:e})}}(n=t.code)&&n!==ss.ABORTED){const n=e.Pa.shift();cf(e).N_(),await Xh(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Qh(e)}var n}(e,t),tf(e)&&nf(e)}async function lf(e,t){const n=as(e);n.asyncQueue.verifyOperationInProgress(),Za(Dh,"RemoteStore received new credentials");const r=Hh(n);n.Ia.add(3),await Lh(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ia.delete(3),await jh(n)}function uf(e){return e.Va||(e.Va=function(e,t,n){const r=as(e);return r.ia(),new Ah(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Gh.bind(null,e),e_:Kh.bind(null,e),n_:Wh.bind(null,e),J_:Jh.bind(null,e)}),e.da.push(async t=>{t?(e.Va.N_(),Bh(e)?qh(e):e.Aa.set("Unknown")):(await e.Va.stop(),$h(e))})),e.Va}function cf(e){return e.ma||(e.ma=function(e,t,n){const r=as(e);return r.ia(),new kh(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),e_:rf.bind(null,e),n_:sf.bind(null,e),ea:of.bind(null,e),ta:af.bind(null,e)}),e.da.push(async t=>{t?(e.ma.N_(),await Qh(e)):(await e.ma.stop(),e.Pa.length>0&&(Za(Dh,`Stopping write stream with ${e.Pa.length} pending writes`),e.Pa=[]))})),e.ma
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class df{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new us,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,a=new df(e,t,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ls(ss.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hf(e,t){if(es("AsyncQueue",`${t}: ${e}`),Ys(e))return new ls(ss.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{static emptySet(e){return new ff(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ps.comparator(t.key,n.key):(e,t)=>Ps.comparator(e.key,t.key),this.keyedMap=zu(),this.sortedSet=new ol(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ff))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new ff;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(){this.fa=new ol(Ps.comparator)}track(e){const t=e.doc.key,n=this.fa.get(t);n?0!==e.type&&3===n.type?this.fa=this.fa.insert(t,e):3===e.type&&1!==n.type?this.fa=this.fa.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.fa=this.fa.remove(t):1===e.type&&2===n.type?this.fa=this.fa.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):rs(63341,{At:e,ga:n}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal((t,n)=>{e.push(n)}),e}}class mf{constructor(e,t,n,r,i,o,a,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach(e=>{o.push({type:0,doc:e})}),new mf(e,t,ff.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class yf{constructor(){this.queries=vf(),this.onlineState="Unknown",this.Da=new Set}terminate(){!function(e,t){const n=as(e),r=n.queries;n.queries=vf(),r.forEach((e,n)=>{for(const r of n.wa)r.onError(t)})}(this,new ls(ss.ABORTED,"Firestore shutting down"))}}function vf(){return new Lu(e=>Nu(e),Pu)}function bf(e,t){const n=as(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.wa)e.Ca(i)&&(r=!0);t.ya=i}}r&&Ef(n)}function wf(e,t,n){const r=as(e),i=r.queries.get(t);if(i)for(const o of i.wa)o.onError(n);r.queries.delete(t)}function Ef(e){e.Da.forEach(e=>{e.next()})}var Sf,_f;(_f=Sf||(Sf={})).Fa="default",_f.Cache="cache";class xf{constructor(e,t,n){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=n||{}}Ca(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new mf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache)return!0;if(!this.ba())return!0;const n="Offline"!==t;return(!this.options.ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}La(e){e=mf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Sf.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.key=e}}class Of{constructor(e){this.key=e}}class If{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Wu(),this.mutatedKeys=Wu(),this.Xa=Mu(e),this.eu=new ff(this.Xa)}get tu(){return this.Ha}nu(e,t){const n=t?t.ru:new pf,r=t?t.eu:this.eu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Du(this.query,t)?t:null,d=!!u&&this.mutatedKeys.has(u.key),h=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?d!==h&&(n.track({type:3,doc:c}),f=!0):this.iu(u,c)||(n.track({type:2,doc:c}),f=!0,(s&&this.Xa(c,s)>0||l&&this.Xa(c,l)<0)&&(a=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(s||l)&&(a=!0)),f&&(c?(o=o.add(c),i=h?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{eu:o,ru:n,Ds:a,mutatedKeys:i}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rs(20277,{At:e})}};return n(e)-n(t)}(e.type,t.type)||this.Xa(e.doc,t.doc)),this.su(n),r=null!=r&&r;const a=t&&!r?this.ou():[],s=0===this.Za.size&&this.current&&!r?1:0,l=s!==this.Ya;return this.Ya=s,0!==o.length||l?{snapshot:new mf(this.query,e.eu,i,o,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({eu:this.eu,ru:new pf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Wu(),this.eu.forEach(e=>{this.au(e.key)&&(this.Za=this.Za.add(e.key))});const t=[];return e.forEach(e=>{this.Za.has(e)||t.push(new Of(e))}),this.Za.forEach(n=>{e.has(n)||t.push(new Tf(n))}),t}uu(e){this.Ha=e.qs,this.Za=Wu();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return mf.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,0===this.Ya,this.hasCachedResults)}}const Cf="SyncEngine";class Af{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class kf{constructor(e){this.key=e,this.lu=!1}}class Pf{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Lu(e=>Nu(e),Pu),this.Tu=new Map,this.Iu=new Set,this.du=new ol(Ps.comparator),this.Eu=new Map,this.Au=new Hd,this.Ru={},this.Vu=new Map,this.mu=Nd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return!0===this.fu}}async function Nf(e,t,n=!0){const r=Zf(e);let i;const o=r.Pu.get(t);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await Df(r,t,n,!0),i}async function Rf(e,t){const n=Zf(e);await Df(n,t,!0,!1)}async function Df(e,t,n,r){const i=await function(e,t){const n=as(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.hi.getTargetData(e,t).next(i=>i?(r=i,Js.resolve(r)):n.hi.allocateTargetId(e).next(i=>(r=new xd(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.hi.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Fs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(e.targetId,e),n.Ms.set(t,e.targetId)),e})}(e.localStore,Cu(t)),o=i.targetId,a=e.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await async function(e,t,n,r,i){e.gu=(t,n,r)=>async function(e,t,n,r){let i=t.view.nu(n);i.Ds&&(i=await ch(e.localStore,t.query,!1).then(({documents:e})=>t.view.nu(e,i)));const o=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o,a);return Kf(e,t.targetId,s._u),s.snapshot}(e,t,n,r);const o=await ch(e.localStore,t,!0),a=new If(t,o.qs),s=a.nu(o.documents),l=Vc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=a.applyChanges(s,e.isPrimaryClient,l);Kf(e,n,u._u);const c=new Af(t,n,a);return e.Pu.set(t,c),e.Tu.has(n)?e.Tu.get(n).push(t):e.Tu.set(n,[t]),u.snapshot}(e,t,o,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Uh(e.remoteStore,i),s}async function Mf(e,t,n){const r=as(e),i=r.Pu.get(t),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(e=>!Pu(e,t))),void r.Pu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await uh(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fh(r.remoteStore,i.targetId),$f(r,i.targetId)}).catch(Ws)):($f(r,i.targetId),await uh(r.localStore,i.targetId,!0))}async function jf(e,t){const n=as(e),r=n.Pu.get(t),i=n.Tu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fh(n.remoteStore,r.targetId))}async function Lf(e,t,n){const r=function(e){const t=as(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qf.bind(null,t),t}(e);try{const e=await function(e,t){const n=as(e),r=qs.now(),i=t.reduce((e,t)=>e.add(t.key),Wu());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let s=Fu(),l=Wu();return n.Os.getEntries(e,i).next(e=>{s=e,s.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,s)).next(i=>{o=i;const a=[];for(const e of t){const t=vc(e,o.get(e.key).overlayedDocument);null!=t&&a.push(new Ec(e.key,t,Jl(t.value.mapValue),hc.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:qu(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ru[e.currentUser.toKey()];r||(r=new ol(Es)),r=r.insert(t,n),e.Ru[e.currentUser.toKey()]=r}(r,e.batchId,n),await Yf(r,e.changes),await Qh(r.remoteStore)}catch(i){const e=hf(i,"Failed to persist write");n.reject(e)}}async function Uf(e,t){const n=as(e);try{const e=await sh(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Eu.get(t);r&&(os(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.lu=!0:e.modifiedDocuments.size>0?os(r.lu,14607):e.removedDocuments.size>0&&(os(r.lu,42227),r.lu=!1))}),await Yf(n,e,t)}catch(r){await Ws(r)}}function Ff(e,t,n){const r=as(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Pu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=as(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.wa)i.va(t)&&(r=!0)}),r&&Ef(n)}(r.eventManager,t),e.length&&r.hu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vf(e,t,n){const r=as(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Eu.get(t),o=i&&i.key;if(o){let e=new ol(Ps.comparator);e=e.insert(o,Yl.newNoDocument(o,Bs.min()));const n=Wu().add(o),i=new Fc(Bs.min(),new Map,new ol(Es),e,n);await Uf(r,i),r.du=r.du.remove(o),r.Eu.delete(t),Jf(r)}else await uh(r.localStore,t,!1).then(()=>$f(r,t,n)).catch(Ws)}async function zf(e,t){const n=as(e),r=t.batch.batchId;try{const e=await function(e,t){const n=as(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let a=Js.resolve();return o.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);os(null!==o,48541),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wu();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Hf(n,r,null),Bf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yf(n,e)}catch(i){await Ws(i)}}async function qf(e,t,n){const r=as(e);try{const e=await function(e,t){const n=as(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(os(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Hf(r,t,n),Bf(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Yf(r,e)}catch(i){await Ws(i)}}function Bf(e,t){(e.Vu.get(t)||[]).forEach(e=>{e.resolve()}),e.Vu.delete(t)}function Hf(e,t,n){const r=as(e);let i=r.Ru[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ru[r.currentUser.toKey()]=i}}function $f(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Tu.get(t))e.Pu.delete(r),n&&e.hu.pu(r,n);e.Tu.delete(t),e.isPrimaryClient&&e.Au.zr(t).forEach(t=>{e.Au.containsKey(t)||Gf(e,t)})}function Gf(e,t){e.Iu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Fh(e.remoteStore,n),e.du=e.du.remove(t),e.Eu.delete(n),Jf(e))}function Kf(e,t,n){for(const r of n)r instanceof Tf?(e.Au.addReference(r.key,t),Wf(e,r)):r instanceof Of?(Za(Cf,"Document no longer in limbo: "+r.key),e.Au.removeReference(r.key,t),e.Au.containsKey(r.key)||Gf(e,r.key)):rs(19791,{yu:r})}function Wf(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Iu.has(r)||(Za(Cf,"New document in limbo: "+n),e.Iu.add(r),Jf(e))}function Jf(e){for(;e.Iu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Iu.values().next().value;e.Iu.delete(t);const n=new Ps(Cs.fromString(t)),r=e.mu.next();e.Eu.set(r,new kf(n)),e.du=e.du.insert(n,r),Uh(e.remoteStore,new xd(Cu(xu(n.path)),r,"TargetPurposeLimboResolution",Xs.ue))}}async function Yf(e,t,n){const r=as(e),i=[],o=[],a=[];r.Pu.isEmpty()||(r.Pu.forEach((e,s)=>{a.push(r.gu(s,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=eh.Es(s.targetId,e);o.push(t)}}))}),await Promise.all(a),r.hu.J_(i),await async function(e,t){const n=as(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Js.forEach(t,t=>Js.forEach(t.Is,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Js.forEach(t.ds,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(r){if(!Ys(r))throw r;Za(rh,"Failed to update sequence numbers: "+r)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.Fs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Fs=n.Fs.insert(e,i)}}}(r.localStore,o))}async function Xf(e,t){const n=as(e);if(!n.currentUser.isEqual(t)){Za(Cf,"User change. New user:",t.toKey());const e=await oh(n.localStore,t);n.currentUser=t,i="'waitForPendingWrites' promise is rejected due to a user change.",(r=n).Vu.forEach(e=>{e.forEach(e=>{e.reject(new ls(ss.CANCELLED,i))})}),r.Vu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Yf(n,e.Bs)}var r,i}function Qf(e,t){const n=as(e),r=n.Eu.get(t);if(r&&r.lu)return Wu().add(r.key);{let e=Wu();const r=n.Tu.get(t);if(!r)return e;for(const t of r){const r=n.Pu.get(t);e=e.unionWith(r.view.tu)}return e}}function Zf(e){const t=as(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Uf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qf.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vf.bind(null,t),t.hu.J_=bf.bind(null,t.eventManager),t.hu.pu=wf.bind(null,t.eventManager),t}class ep{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Th(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return function(e,t,n,r){return new ih(e,t,n,r)}(this.persistence,new nh,e.initialUser,this.serializer)}Du(e){return new Yd(Qd.Vi,this.serializer)}bu(e){return new hh}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ep.provider={build:()=>new ep};class tp extends ep{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){os(this.persistence.referenceDelegate instanceof Zd,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new jd(n,e.asyncQueue,t)}Du(e){const t=void 0!==this.cacheSizeBytes?Pd.withCacheSize(this.cacheSizeBytes):Pd.DEFAULT;return new Yd(e=>Zd.Vi(e,t),this.serializer)}}class np{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ff(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xf.bind(null,this.syncEngine),await async function(e,t){const n=as(e);t?(n.Ia.delete(2),await jh(n)):t||(n.Ia.add(2),await Lh(n),n.Aa.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new yf}createDatastore(e){const t=Th(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new _h(r));var r;return function(e,t,n,r){return new Nh(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Ff(this.syncEngine,e,0),o=mh.C()?new mh:new fh,new Mh(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,a){const s=new Pf(e,t,n,r,i,o);return a&&(s.fu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=as(e);Za(Dh,"RemoteStore shutting down."),t.Ia.add(5),await Lh(t),t.Ea.shutdown(),t.Aa.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}np.provider={build:()=>new np};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class rp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="FirestoreClient";class op{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ja.UNAUTHENTICATED,this.clientId=ws.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Za(ip,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Za(ip,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new us;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(nF){const n=hf(nF,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ap(e,t){e.asyncQueue.verifyOperationInProgress(),Za(ip,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await oh(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>{ts("Terminating Firestore due to IndexedDb database deletion"),e.terminate().then(()=>{Za("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(e=>{ts("Terminating Firestore due to IndexedDb database deletion failed",e)})}),e._offlineComponents=t}async function sp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Za(ip,"Using user provided OfflineComponentProvider");try{await ap(e,e._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!("FirebaseError"===(n=i).name?n.code===ss.FAILED_PRECONDITION||n.code===ss.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw i;ts("Error using user provided cache. Falling back to memory cache: "+i),await ap(e,new ep)}}else Za(ip,"Using default OfflineComponentProvider"),await ap(e,new tp(void 0));var n;return e._offlineComponents}(e);Za(ip,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>lf(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>lf(t.remoteStore,n)),e._onlineComponents=t}async function lp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Za(ip,"Using user provided OnlineComponentProvider"),await sp(e,e._uninitializedComponentsProvider._online)):(Za(ip,"Using default OnlineComponentProvider"),await sp(e,new np))),e._onlineComponents}async function up(e){const t=await lp(e),n=t.eventManager;return n.onListen=Nf.bind(null,t.syncEngine),n.onUnlisten=Mf.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Rf.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jf.bind(null,t.syncEngine),n}function cp(e,t,n={}){const r=new us;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const o=new rp({next:n=>{o.Ou(),t.enqueueAndForget(()=>async function(e,t){const n=as(e),r=t.query;let i=3;const o=n.queries.get(r);if(o){const e=o.wa.indexOf(t);e>=0&&(o.wa.splice(e,1),0===o.wa.length?i=t.ba()?0:1:!o.Sa()&&t.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}(e,a)),n.fromCache&&"server"===r.source?i.reject(new ls(ss.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new xf(n,o,{includeMetadataChanges:!0,ka:!0});return async function(t,n){const r=as(t);let i=3;const o=n.query;let a=r.queries.get(o);a?!a.Sa()&&n.ba()&&(i=2):(a=new gf,i=n.ba()?0:1);try{switch(i){case 0:a.ya=await r.onListen(o,!0);break;case 1:a.ya=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(e){const r=hf(e,`Initialization of query '${Ru(n.query)}' failed`);return void n.onError(r)}r.queries.set(o,a),a.wa.push(n),n.va(r.onlineState),a.ya&&n.Ca(a.ya)&&Ef(r)}(e,a)}(await up(e),e.asyncQueue,t,n,r)),r.promise
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function dp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const hp=new Map,fp="firestore.googleapis.com",pp=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new ls(ss.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fp,this.ssl=pp}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:pp;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=kd;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ls(ss.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new ls(ss.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new ls(ss.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new ls(ss.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new ls(ss.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class gp{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ls(ss.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ls(ss.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mp(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ds;switch(e.type){case"firstParty":return new ms(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ls(ss.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hp.get(e);t&&(Za("ComponentProvider","Removing Datastore"),hp.delete(e),t.terminate())}(this),Promise.resolve()}}function yp(e,t,n,r={}){var i;e=Ls(e,gp);const o=jt(t),a=e._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;o&&(Lt(`https://${l}`),Vt("Firestore",!0)),a.host!==fp&&a.host!==l&&ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:o,emulatorOptions:r});if(!Gt(u,s)&&(e._setSettings(u),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ja.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ct(JSON.stringify({alg:"none",type:"JWT"})),Ct(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ls(ss.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ja(o)}e._authCredentials=new hs(new cs(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new vp(this.firestore,e,this._query)}}class bp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bp(this.firestore,e,this._key)}toJSON(){return{type:bp._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Fs(t,bp._jsonSchema))return new bp(e,n||null,new Ps(Cs.fromString(t.referencePath)))}}bp._jsonSchemaVersion="firestore/documentReference/1.0",bp._jsonSchema={type:Us("string",bp._jsonSchemaVersion),referencePath:Us("string")};class wp extends vp{constructor(e,t,n){super(e,t,xu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bp(this.firestore,null,new Ps(e))}withConverter(e){return new wp(this.firestore,e,this._path)}}function Ep(e,t,...n){if(e=Zt(e),Ns("collection","path",t),e instanceof gp){const r=Cs.fromString(t,...n);return Ds(r),new wp(e,null,r)}{if(!(e instanceof bp||e instanceof wp))throw new ls(ss.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Cs.fromString(t,...n));return Ds(r),new wp(e.firestore,null,r)}}function Sp(e,t,...n){if(e=Zt(e),1===arguments.length&&(t=ws.newId()),Ns("doc","path",t),e instanceof gp){const r=Cs.fromString(t,...n);return Rs(r),new bp(e,null,new Ps(r))}{if(!(e instanceof bp||e instanceof wp))throw new ls(ss.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Cs.fromString(t,...n));return Rs(r),new bp(e.firestore,e instanceof wp?e.converter:null,new Ps(r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="AsyncQueue";class xp{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Oh(this,"async_queue_retry"),this.oc=()=>{const e=xh();e&&Za(_p,"Visibility state changed to "+e.visibilityState),this.F_.y_()},this._c=e;const t=xh();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=xh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const t=new us;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(0!==this.Zu.length){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(eF){if(!Ys(eF))throw eF;Za(_p,"Operation failed with retryable error: "+eF)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const t=this._c.then(()=>(this.nc=!0,e().catch(e=>{throw this.tc=e,this.nc=!1,es("INTERNAL UNHANDLED ERROR: ",Tp(e)),e}).then(e=>(this.nc=!1,e))));return this._c=t,t}enqueueAfterDelay(e,t,n){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const r=df.createAndSchedule(this,e,t,n,e=>this.lc(e));return this.ec.push(r),r}ac(){this.tc&&rs(47125,{hc:Tp(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do{e=this._c,await e}while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.ec)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Tp(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Op extends gp{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new xp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xp(e),this._firestoreClient=void 0,await e}}}function Ip(e){if(e._terminated)throw new ls(ss.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||function(e){var t,n,r;const i=e._freezeSettings(),o=(a=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,u=i,new xl(a,s,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,dp(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator));var a,s,l,u;e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new op(e._authCredentials,e._appCheckCredentials,e._queue,o,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e),e._firestoreClient}class Cp{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cp(hl.fromBase64String(e))}catch(t){throw new ls(ss.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cp(hl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cp._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fs(e,Cp._jsonSchema))return Cp.fromBase64String(e.bytes)}}Cp._jsonSchemaVersion="firestore/bytes/1.0",Cp._jsonSchema={type:Us("string",Cp._jsonSchemaVersion),bytes:Us("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ap{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ls(ss.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ks(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ls(ss.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ls(ss.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Es(this._lat,e._lat)||Es(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pp._jsonSchemaVersion}}static fromJSON(e){if(Fs(e,Pp._jsonSchema))return new Pp(e.latitude,e.longitude)}}Pp._jsonSchemaVersion="firestore/geoPoint/1.0",Pp._jsonSchema={type:Us("string",Pp._jsonSchemaVersion),latitude:Us("number"),longitude:Us("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Np{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Np._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fs(e,Np._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Np(e.vectorValues);throw new ls(ss.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Np._jsonSchemaVersion="firestore/vectorValue/1.0",Np._jsonSchema={type:Us("string",Np._jsonSchemaVersion),vectorValues:Us("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Rp=/^__.*__$/;class Dp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ec(e,this.data,this.fieldMask,t,this.fieldTransforms):new wc(e,this.data,t,this.fieldTransforms)}}class Mp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Ec(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rs(40011,{Ec:e})}}class Lp{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ac(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Lp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.fc(e),r}gc(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Rc({path:n,mc:!1});return r.Ac(),r}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Jp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(0===e.length)throw this.wc("Document fields must not be empty");if(jp(this.Ec)&&Rp.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class Up{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Th(e)}Dc(e,t,n,r=!1){return new Lp({Ec:e,methodName:t,bc:n,path:ks.emptyPath(),mc:!1,Sc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fp(e){const t=e._freezeSettings(),n=Th(e._databaseId);return new Up(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Vp(e,t,n,r,i,o={}){const a=e.Dc(o.merge||o.mergeFields?2:0,t,n,i);$p("Data must be an object, but it was:",a,r);const s=Bp(r,a);let l,u;if(o.merge)l=new cl(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Gp(t,r,n);if(!a.contains(i))throw new ls(ss.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Yp(e,i)||e.push(i)}l=new cl(e),u=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=a.fieldTransforms;return new Dp(new Wl(s),l,u)}class zp extends kp{_toFieldTransform(e){if(2!==e.Ec)throw 1===e.Ec?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zp}}function qp(e,t){if(Hp(e=Zt(e)))return $p("Unsupported field value:",t,e),Bp(e,t);if(e instanceof kp)return function(e,t){if(!jp(t.Ec))throw t.wc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.wc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.mc&&4!==t.Ec)throw t.wc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=qp(i,t.yc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Zt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qu(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=qs.fromDate(e);return{timestampValue:Zc(t.serializer,n)}}if(e instanceof qs){const n=new qs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Zc(t.serializer,n)}}if(e instanceof Pp)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Cp)return{bytesValue:ed(t.serializer,e._byteString)};if(e instanceof bp){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.wc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:rd(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Np)return n=e,r=t,{mapValue:{fields:{[Il]:{stringValue:kl},[Pl]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw r.wc("VectorValues must only contain numeric values.");return Yu(r.serializer,e)})}}}}};var n,r;throw t.wc(`Unsupported field value: ${js(e)}`)}(e,t)}function Bp(e,t){const n={};return il(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rl(e,(e,r)=>{const i=qp(r,t.Vc(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Hp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qs||e instanceof Pp||e instanceof Cp||e instanceof bp||e instanceof kp||e instanceof Np)}function $p(e,t,n){if(!Hp(n)||!Ms(n)){const r=js(n);throw"an object"===r?t.wc(e+" a custom object"):t.wc(e+" "+r)}}function Gp(e,t,n){if((t=Zt(t))instanceof Ap)return t._internalPath;if("string"==typeof t)return Wp(e,t);throw Jp("Field path arguments must be of type string or ",e,!1,void 0,n)}const Kp=new RegExp("[~\\*/\\[\\]]");function Wp(e,t,n){if(t.search(Kp)>=0)throw Jp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ap(...t.split("."))._internalPath}catch(tF){throw Jp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Jp(e,t,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new ls(ss.INVALID_ARGUMENT,s+e+l)}function Yp(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new bp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qp extends Xp{data(){return super.data()}}function Zp(e,t){return"string"==typeof t?Wp(e,t):t instanceof Ap?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{}class tm extends em{}function nm(e,t,...n){let r=[];t instanceof em&&r.push(t),r=r.concat(n),function(e){const t=e.filter(e=>e instanceof om).length,n=e.filter(e=>e instanceof rm).length;if(t>1||t>0&&n>0)throw new ls(ss.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class rm extends tm{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rm(e,t,n)}_apply(e){const t=this._parse(e);return lm(e._query,t),new vp(e.firestore,e.converter,Au(e._query,t))}_parse(e){const t=Fp(e.firestore),n=function(e,t,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ls(ss.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){sm(a,o);const t=[];for(const n of a)t.push(am(r,e,n));s={arrayValue:{values:t}}}else s=am(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||sm(a,o),s=function(e,t,n,r=!1){return qp(n,e.Dc(r?4:3,t))}(n,t,a,"in"===o||"not-in"===o);return ru.create(i,o,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function im(e,t,n){const r=t,i=Zp("where",e);return rm._create(i,r,n)}class om extends em{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new om(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:iu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)lm(n,i),n=Au(n,i)}(e._query,t),new vp(e.firestore,e.converter,Au(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function am(e,t,n){if("string"==typeof(n=Zt(n))){if(""===n)throw new ls(ss.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ou(t)&&-1!==n.indexOf("/"))throw new ls(ss.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Cs.fromString(n));if(!Ps.isDocumentKey(r))throw new ls(ss.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zl(e,new Ps(r))}if(n instanceof bp)return zl(e,n._key);throw new ls(ss.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${js(n)}.`)}function sm(e,t){if(!Array.isArray(e)||0===e.length)throw new ls(ss.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function lm(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ls(ss.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ls(ss.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class um{convertValue(e,t="none"){switch(Nl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ml(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw rs(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return rl(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Pl].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>ml(e.doubleValue));return new Np(i)}convertGeoPoint(e){return new Pp(ml(e.latitude),ml(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Sl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=pl(e);return new qs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Cs.fromString(e);os(_d(n),9688,{name:e});const r=new Ol(n.get(1),n.get(3)),i=new Ps(n.popFirst(5));return r.isEqual(t)||es(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dm extends Xp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new hm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ls(ss.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dm._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}dm._jsonSchemaVersion="firestore/documentSnapshot/1.0",dm._jsonSchema={type:Us("string",dm._jsonSchemaVersion),bundleSource:Us("string","DocumentSnapshot"),bundleName:Us("string"),bundle:Us("string")};class hm extends dm{data(e={}){return super.data(e)}}class fm{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new cm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hm(this._firestore,this._userDataWriter,n.key,n,new cm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ls(ss.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new hm(e._firestore,e._userDataWriter,n.doc.key,n.doc,new cm(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new hm(e._firestore,e._userDataWriter,t.doc.key,t.doc,new cm(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:pm(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ls(ss.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ws.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function pm(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rs(61501,{type:e})}}fm._jsonSchemaVersion="firestore/querySnapshot/1.0",fm._jsonSchema={type:Us("string",fm._jsonSchemaVersion),bundleSource:Us("string","QuerySnapshot"),bundleName:Us("string"),bundle:Us("string")};class mm extends um{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cp(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bp(this.firestore,null,t)}}function gm(e){e=Ls(e,vp);const t=Ls(e.firestore,Op),n=Ip(t),r=new mm(t);return function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ls(ss.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query),cp(n,e._query).then(n=>new fm(t,r,e,n))}function ym(e,t,n,...r){e=Ls(e,bp);const i=Ls(e.firestore,Op),o=Fp(i);let a;return a="string"==typeof(t=Zt(t))||t instanceof Ap?function(e,t,n,r,i,o){const a=e.Dc(1,t,n),s=[Gp(t,r,n)],l=[i];if(o.length%2!=0)throw new ls(ss.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(Gp(t,o[h])),l.push(o[h+1]);const u=[],c=Wl.empty();for(let h=s.length-1;h>=0;--h)if(!Yp(u,s[h])){const e=s[h];let t=l[h];t=Zt(t);const n=a.gc(e);if(t instanceof zp)u.push(e);else{const r=qp(t,n);null!=r&&(u.push(e),c.set(e,r))}}const d=new cl(u);return new Mp(c,d,a.fieldTransforms)}(o,"updateDoc",e._key,t,n,r):function(e,t,n,r){const i=e.Dc(1,t,n);$p("Data must be an object, but it was:",i,r);const o=[],a=Wl.empty();rl(r,(e,r)=>{const s=Wp(t,e,n);r=Zt(r);const l=i.gc(s);if(r instanceof zp)o.push(s);else{const e=qp(r,l);null!=e&&(o.push(s),a.set(s,e))}});const s=new cl(o);return new Mp(a,s,i.fieldTransforms)}(o,"updateDoc",e._key,t),wm(i,[a.toMutation(e._key,hc.exists(!0))])}function vm(e){return wm(Ls(e.firestore,Op),[new Tc(e._key,hc.none())])}function bm(e,t){const n=Ls(e.firestore,Op),r=Sp(e),i=function(e,t){let n;return n=e?e.toFirestore(t):t,n}(e.converter,t);return wm(n,[Vp(Fp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,hc.exists(!1))]).then(()=>r)}function wm(e,t){return function(e,t){const n=new us;return e.asyncQueue.enqueueAndForget(async()=>Lf(await function(e){return lp(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(Ip(e),t)}!function(e,t=!0){Ya=mr,cr(new en("firestore",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new Op(new fs(e.getProvider("auth-internal")),new ys(i,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ls(ss.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ol(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),vr(Ka,Wa,e),vr(Ka,Wa,"esm2017")}();let Em=null;try{Em=JSON.parse('// Import the functions you need from the SDKs you need\nimport { initializeApp } from "firebase/app";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app\'s Firebase configuration\nconst firebaseConfig = {\n  apiKey: "AIzaSyAKZuWq6qr_CvH016Yimfs5ghcFYKI2UV4",\n  authDomain: "project-6986068419035751286.firebaseapp.com",\n  projectId: "project-6986068419035751286",\n  storageBucket: "project-6986068419035751286.firebasestorage.app",\n  messagingSenderId: "1042192480892",\n  appId: "1:1042192480892:web:5dd4c9100048d8dfb167f9"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);')}catch(eF){}const Sm=Em?0===Array.from(ar.values()).length?gr(Em):yr():null,_m=Sm?function(e=yr()){const t=dr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=dr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Gt(n.getOptions(),null!=t?t:{}))return e;Mr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ia,persistence:[Ho,Io,Ao]}),r=Dt("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Pa)return;const r=null==t?void 0:t.token;Na!==r&&(Na=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Zt(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){Zt(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const o=Nt("auth");return o&&Qi(n,`http://${o}`),n}(Sm):null,xm=Sm?function(e){const t="object"==typeof e?e:yr(),n="string"==typeof e?e:Tl,r=dr(t,"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=Nt(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&yp(r,...e)}return r}(Sm):null,Tm=!Sm,Om=[{id:"cat1",name:"",icon:"fa-utensils",color:"bg-orange-500",type:"EXPENSE"},{id:"cat2",name:"",icon:"fa-car",color:"bg-blue-500",type:"EXPENSE"},{id:"cat3",name:"",icon:"fa-home",color:"bg-indigo-500",type:"EXPENSE"},{id:"cat4",name:"",icon:"fa-gamepad",color:"bg-purple-500",type:"EXPENSE"},{id:"cat5",name:"",icon:"fa-heartbeat",color:"bg-red-500",type:"EXPENSE"},{id:"cat6",name:"",icon:"fa-wallet",color:"bg-emerald-500",type:"INCOME"},{id:"cat7",name:"",icon:"fa-chart-line",color:"bg-cyan-500",type:"INCOME"},{id:"cat8",name:"",icon:"fa-plus-circle",color:"bg-slate-500",type:"INCOME"}],Im=[{id:"acc1",name:"",type:"",balance:5e4,currency:"TWD",color:"#10b981"},{id:"acc2",name:"",type:"",balance:-12500,currency:"TWD",color:"#6366f1"},{id:"acc3",name:"",type:"",balance:15e4,currency:"TWD",color:"#f59e0b"}],Cm=[{id:"t1",accountId:"acc1",categoryId:"cat6",amount:6e4,type:"INCOME",date:"2023-11-05",note:"11"},{id:"t2",accountId:"acc1",categoryId:"cat1",amount:150,type:"EXPENSE",date:"2023-11-06",note:""},{id:"t3",accountId:"acc2",categoryId:"cat2",amount:2500,type:"EXPENSE",date:"2023-11-07",note:""},{id:"t4",accountId:"acc1",categoryId:"cat3",amount:12e3,type:"EXPENSE",date:"2023-11-01",note:""}],Am="finvue_demo_user",km="finvue_accounts",Pm="finvue_transactions",Nm=e=>{if(Tm||!_m){const t=localStorage.getItem(Am),n=t?JSON.parse(t):null,r=setTimeout(()=>{e(n)},0);return()=>clearTimeout(r)}return t=t=>{var n;e(t?{id:t.uid,email:t.email||"",displayName:t.displayName||(null==(n=t.email)?void 0:n.split("@")[0])||""}:null)},Zt(_m).onAuthStateChanged(t,n,r);var t,n,r},Rm=async(e,t)=>{if(Tm||!_m){if("demo@example.com"===e&&"password123"===t){const t={id:"demo-uid",email:e,displayName:""};return localStorage.setItem(Am,JSON.stringify(t)),t}throw new Error("")}const n=await _o(_m,e,t);return{id:n.user.uid,email:n.user.email||"",displayName:n.user.displayName||""}},Dm=async(e,t,n)=>{if(Tm||!_m){const t={id:Date.now().toString(),email:e,displayName:n};return localStorage.setItem(Am,JSON.stringify(t)),t}const r=await async function(e,t,n){if(hr(e.app))return Promise.reject(Ur(e));const r=qi(e),i=Xi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",go),o=await i.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&So(e),t}),a=await yo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}(_m,e,t);return{id:r.user.uid,email:r.user.email||"",displayName:n}},Mm=async()=>{if(Tm)return localStorage.removeItem(Am),void window.location.reload();var e;_m&&await(e=_m,Zt(e).signOut())},jm=async e=>{if(Tm||!xm){const e=localStorage.getItem(km);return e?JSON.parse(e):Im}const t=nm(Ep(xm,"accounts"),im("userId","==",e));return(await gm(t)).docs.map(e=>({id:e.id,...e.data()}))},Lm=async(e,t,n)=>{if(!Tm&&xm)if(t.id){const{id:e,...n}=t,r=Sp(xm,"accounts",e);await ym(r,{...n})}else await bm(Ep(xm,"accounts"),{...t,userId:e});else n&&localStorage.setItem(km,JSON.stringify(n))},Um=async e=>{!Tm&&xm&&await vm(Sp(xm,"accounts",e))},Fm=async e=>{if(Tm||!xm){const e=localStorage.getItem(Pm);return e?JSON.parse(e):Cm}const t=nm(Ep(xm,"transactions"),im("userId","==",e));return(await gm(t)).docs.map(e=>({id:e.id,...e.data()}))},Vm=async(e,t,n)=>{!Tm&&xm?await bm(Ep(xm,"transactions"),{...t,userId:e}):n&&localStorage.setItem(Pm,JSON.stringify(n))},zm=async e=>{!Tm&&xm&&await vm(Sp(xm,"transactions",e))};function qm(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=qm(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bm(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=qm(e))&&(r&&(r+=" "),r+=t);return r}var Hm=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $m(e){return"string"==typeof e&&Hm.includes(e)}var Gm=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function Km(e){return"string"==typeof e&&Gm.has(e)}function Wm(e){return"string"==typeof e&&e.startsWith("data-")}function Jm(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Km(n)||Wm(n))&&(t[n]=e[n]);return t}function Ym(e){return null==e?null:m.isValidElement(e)&&"object"==typeof e.props&&null!==e.props?Jm(e.props):"object"!=typeof e||Array.isArray(e)?null:Jm(e)}function Xm(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Km(n)||Wm(n)||$m(n))&&(t[n]=e[n]);return t}var Qm=["children","width","height","viewBox","className","style","title","desc"];function Zm(){return Zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zm.apply(null,arguments)}var eg=m.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:o,className:a,style:s,title:l,desc:u}=e,c=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Qm),d=o||{width:r,height:i,x:0,y:0},h=Bm("recharts-surface",a);return m.createElement("svg",Zm({},Xm(c),{className:h,width:r,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),m.createElement("title",null,l),m.createElement("desc",null,u),n)}),tg=["children","className"];function ng(){return ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ng.apply(null,arguments)}var rg=m.forwardRef((e,t)=>{var{children:n,className:r}=e,i=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,tg),o=Bm("recharts-layer",r);return m.createElement("g",ng({className:o},Xm(i),{ref:t}),n)}),ig=m.createContext(null);function og(e){return function(){return e}}const ag=Math.cos,sg=Math.sin,lg=Math.sqrt,ug=Math.PI,cg=2*ug,dg=Math.PI,hg=2*dg,fg=1e-6,pg=hg-fg;function mg(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class gg{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?mg:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return mg;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,o){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+o}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=this._x1,a=this._y1,s=n-e,l=r-t,u=o-e,c=a-t,d=u*u+c*c;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>fg)if(Math.abs(c*s-l*u)>fg&&i){let h=n-o,f=r-a,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((dg-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,w=v/g;Math.abs(b-1)>fg&&this._append`L${e+b*u},${t+b*c}`,this._append`A${i},${i},0,0,${+(c*h>u*f)},${this._x1=e+w*s},${this._y1=t+w*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,o){if(e=+e,t=+t,o=!!o,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=n*Math.cos(r),s=n*Math.sin(r),l=e+a,u=t+s,c=1^o,d=o?r-i:i-r;null===this._x1?this._append`M${l},${u}`:(Math.abs(this._x1-l)>fg||Math.abs(this._y1-u)>fg)&&this._append`L${l},${u}`,n&&(d<0&&(d=d%hg+hg),d>pg?this._append`A${n},${n},0,1,${c},${e-a},${t-s}A${n},${n},0,1,${c},${this._x1=l},${this._y1=u}`:d>fg&&this._append`A${n},${n},0,${+(d>=dg)},${c},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function yg(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new gg(t)}function vg(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function bg(e){this._context=e}function wg(e){return new bg(e)}function Eg(e){return e[0]}function Sg(e){return e[1]}function _g(e,t){var n=og(!0),r=null,i=wg,o=null,a=yg(s);function s(s){var l,u,c,d=(s=vg(s)).length,h=!1;for(null==r&&(o=i(c=a())),l=0;l<=d;++l)!(l<d&&n(u=s[l],l,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+e(u,l,s),+t(u,l,s));if(c)return o=null,c+""||null}return e="function"==typeof e?e:void 0===e?Eg:og(e),t="function"==typeof t?t:void 0===t?Sg:og(t),s.x=function(t){return arguments.length?(e="function"==typeof t?t:og(+t),s):e},s.y=function(e){return arguments.length?(t="function"==typeof e?e:og(+e),s):t},s.defined=function(e){return arguments.length?(n="function"==typeof e?e:og(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(o=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=o=null:o=i(r=e),s):r},s}function xg(e,t,n){var r=null,i=og(!0),o=null,a=wg,s=null,l=yg(u);function u(u){var c,d,h,f,p,m=(u=vg(u)).length,g=!1,y=new Array(m),v=new Array(m);for(null==o&&(s=a(p=l())),c=0;c<=m;++c){if(!(c<m&&i(f=u[c],c,u))===g)if(g=!g)d=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[c]=+e(f,c,u),v[c]=+t(f,c,u),s.point(r?+r(f,c,u):y[c],n?+n(f,c,u):v[c]))}if(p)return s=null,p+""||null}function c(){return _g().defined(i).curve(a).context(o)}return e="function"==typeof e?e:void 0===e?Eg:og(+e),t="function"==typeof t?t:og(void 0===t?0:+t),n="function"==typeof n?n:void 0===n?Sg:og(+n),u.x=function(t){return arguments.length?(e="function"==typeof t?t:og(+t),r=null,u):e},u.x0=function(t){return arguments.length?(e="function"==typeof t?t:og(+t),u):e},u.x1=function(e){return arguments.length?(r=null==e?null:"function"==typeof e?e:og(+e),u):r},u.y=function(e){return arguments.length?(t="function"==typeof e?e:og(+e),n=null,u):t},u.y0=function(e){return arguments.length?(t="function"==typeof e?e:og(+e),u):t},u.y1=function(e){return arguments.length?(n=null==e?null:"function"==typeof e?e:og(+e),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(e){return arguments.length?(i="function"==typeof e?e:og(!!e),u):i},u.curve=function(e){return arguments.length?(a=e,null!=o&&(s=a(o)),u):a},u.context=function(e){return arguments.length?(null==e?o=s=null:s=a(o=e),u):o},u}bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};class Tg{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}const Og={draw(e,t){const n=lg(t/ug);e.moveTo(n,0),e.arc(0,0,n,0,cg)}},Ig={draw(e,t){const n=lg(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Cg=lg(1/3),Ag=2*Cg,kg={draw(e,t){const n=lg(t/Ag),r=n*Cg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Pg={draw(e,t){const n=lg(t),r=-n/2;e.rect(r,r,n,n)}},Ng=sg(ug/10)/sg(7*ug/10),Rg=sg(cg/10)*Ng,Dg=-ag(cg/10)*Ng,Mg={draw(e,t){const n=lg(.8908130915292852*t),r=Rg*n,i=Dg*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const t=cg*o/5,a=ag(t),s=sg(t);e.lineTo(s*n,-a*n),e.lineTo(a*r-s*i,s*r+a*i)}e.closePath()}},jg=lg(3),Lg={draw(e,t){const n=-lg(t/(3*jg));e.moveTo(0,2*n),e.lineTo(-jg*n,-n),e.lineTo(jg*n,-n),e.closePath()}},Ug=-.5,Fg=lg(3)/2,Vg=1/lg(12),zg=3*(Vg/2+1),qg={draw(e,t){const n=lg(t/zg),r=n/2,i=n*Vg,o=r,a=n*Vg+n,s=-o,l=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(s,l),e.lineTo(Ug*r-Fg*i,Fg*r+Ug*i),e.lineTo(Ug*o-Fg*a,Fg*o+Ug*a),e.lineTo(Ug*s-Fg*l,Fg*s+Ug*l),e.lineTo(Ug*r+Fg*i,Ug*i-Fg*r),e.lineTo(Ug*o+Fg*a,Ug*a-Fg*o),e.lineTo(Ug*s+Fg*l,Ug*l-Fg*s),e.closePath()}};function Bg(){}function Hg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function $g(e){this._context=e}function Gg(e){this._context=e}function Kg(e){this._context=e}function Wg(e){this._context=e}function Jg(e){return e<0?-1:1}function Yg(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Jg(o)+Jg(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Xg(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Qg(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,s=(o-r)/3;e._context.bezierCurveTo(r+s,i+s*t,o-s,a-s*n,o,a)}function Zg(e){this._context=e}function ey(e){this._context=new ty(e)}function ty(e){this._context=e}function ny(e){this._context=e}function ry(e){var t,n,r=e.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/o[t-1],o[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/o[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function iy(e,t){this._context=e,this._t=t}function oy(e,t){if((i=e.length)>1)for(var n,r,i,o=1,a=e[t[0]],s=a.length;o<i;++o)for(r=a,a=e[t[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function ay(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function sy(e,t){return e[t]}function ly(e){const t=[];return t.key=e,t}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Gg.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Hg(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},Wg.prototype={areaStart:Bg,areaEnd:Bg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},Zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qg(this,this._t0,Xg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Qg(this,Xg(this,n=Yg(this,e,t)),n);break;default:Qg(this,this._t0,n=Yg(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(ey.prototype=Object.create(Zg.prototype)).point=function(e,t){Zg.prototype.point.call(this,t,e)},ty.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}},ny.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=ry(e),i=ry(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var uy,cy={},dy={};function hy(){return uy||(uy=1,e=dy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isUnsafeProperty=function(e){return"__proto__"===e}),dy;var e}var fy,py={};function my(){return fy||(fy=1,e=py,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}),py;var e}var gy,yy={};function vy(){return gy||(gy=1,e=yy,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toKey=function(e){var t;return"string"==typeof e||"symbol"==typeof e?e:Object.is(null==(t=null==e?void 0:e.valueOf)?void 0:t.call(e),-0)?"-0":String(e)}),yy;var e}var by,wy,Ey,Sy,_y,xy={},Ty={};function Oy(){return by||(by=1,e=Ty,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toString=function e(t){if(null==t)return"";if("string"==typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const n=String(t);return"0"===n&&Object.is(Number(t),-0)?"-0":n}),Ty;var e}function Iy(){return wy||(wy=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oy(),n=vy();e.toPath=function(e){if(Array.isArray(e))return e.map(n.toKey);if("symbol"==typeof e)return[e];const r=[],i=(e=t.toString(e)).length;if(0===i)return r;let o=0,a="",s="",l=!1;for(46===e.charCodeAt(0)&&(r.push(""),o++);o<i;){const t=e[o];s?"\\"===t&&o+1<i?(o++,a+=e[o]):t===s?s="":a+=t:l?'"'===t||"'"===t?s=t:"]"===t?(l=!1,r.push(a),a=""):a+=t:"["===t?(l=!0,a&&(r.push(a),a="")):"."===t?a&&(r.push(a),a=""):a+=t,o++}return a&&r.push(a),r}}(xy)),xy}function Cy(){return Ey||(Ey=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hy(),n=my(),r=vy(),i=Iy();e.get=function e(o,a,s){if(null==o)return s;switch(typeof a){case"string":{if(t.isUnsafeProperty(a))return s;const r=o[a];return void 0===r?n.isDeepKey(a)?e(o,i.toPath(a),s):s:r}case"number":case"symbol":{"number"==typeof a&&(a=r.toKey(a));const e=o[a];return void 0===e?s:e}default:{if(Array.isArray(a))return function(e,n,r){if(0===n.length)return r;let i=e;for(let o=0;o<n.length;o++){if(null==i)return r;if(t.isUnsafeProperty(n[o]))return r;i=i[n[o]]}if(void 0===i)return r;return i}(o,a,s);if(a=Object.is(null==a?void 0:a.valueOf(),-0)?"-0":String(a),t.isUnsafeProperty(a))return s;const e=o[a];return void 0===e?s:e}}}}(cy)),cy}function Ay(){return _y?Sy:(_y=1,Sy=Cy().get)}const ky=r(Ay());function Py(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),n=Math.round(e*t)/t;return Object.is(n,-0)?0:n}function Ny(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((e,t,r)=>{var i=n[r-1];return"string"==typeof i?e+i+t:void 0!==i?e+Py(i)+t:e+t},"")}var Ry=e=>0===e?0:e>0?1:-1,Dy=e=>"number"==typeof e&&e!=+e,My=e=>"string"==typeof e&&e.indexOf("%")===e.length-1,jy=e=>("number"==typeof e||e instanceof Number)&&!Dy(e),Ly=e=>jy(e)||"string"==typeof e,Uy=0,Fy=e=>{var t=++Uy;return"".concat(e||"").concat(t)},Vy=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!jy(e)&&"string"!=typeof e)return r;if(My(e)){if(null==t)return r;var o=e.indexOf("%");n=t*parseFloat(e.slice(0,o))/100}else n=+e;return Dy(n)&&(n=r),i&&null!=t&&n>t&&(n=t),n},zy=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[String(e[r])])return!0;n[String(e[r])]=!0}return!1};function qy(e,t,n){return jy(e)&&jy(t)?Py(e+n*(t-e)):t}var By=e=>null==e,Hy=e=>By(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function $y(e){return null!=e}function Gy(){}var Ky=["type","size","sizeType"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wy.apply(null,arguments)}function Jy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Yy(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jy(Object(n),!0).forEach(function(t){Xy(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xy(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qy={symbolCircle:Og,symbolCross:Ig,symbolDiamond:kg,symbolSquare:Pg,symbolStar:Mg,symbolTriangle:Lg,symbolWye:qg},Zy=Math.PI/180,ev=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=Yy(Yy({},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Ky)),{},{type:t,size:n,sizeType:r}),o="circle";"string"==typeof t&&(o=t);var{className:a,cx:s,cy:l}=i,u=Xm(i);return jy(s)&&jy(l)&&jy(n)?m.createElement("path",Wy({},u,{className:Bm("recharts-symbols",a),transform:"translate(".concat(s,", ").concat(l,")"),d:(()=>{var e=(e=>{var t="symbol".concat(Hy(e));return Qy[t]||Og})(o),t=function(e,t){let n=null,r=yg(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"==typeof e?e:og(e||Og),t="function"==typeof t?t:og(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"==typeof t?t:og(t),i):e},i.size=function(e){return arguments.length?(t="function"==typeof e?e:og(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(((e,t,n)=>{if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*Zy;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.tan(r)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,r,o)),i=t();if(null!==i)return i})()})):null};ev.registerSymbol=(e,t)=>{Qy["symbol".concat(Hy(e))]=t};var tv=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,nv=(e,t,n)=>{if(null===e||"object"!=typeof e&&"function"!=typeof e)return null;var r=null;return Object.keys(e).forEach(i=>{var o=e[i];$m(i)&&"function"==typeof o&&(r||(r={}),r[i]=((e,t,n)=>r=>(e(t,n,r),null))(o,t,n))}),r};function rv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function iv(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ov(e,t){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rv(Object(n),!0).forEach(function(t){iv(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rv(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e),r=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==r[t]&&(e[t]=r[t]),e),n)}var av,sv={},lv={};function uv(){return av||(av=1,e=lv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.uniqBy=function(e,t){const n=new Map;for(let r=0;r<e.length;r++){const i=e[r],o=t(i);n.has(o)||n.set(o,i)}return Array.from(n.values())}),lv;var e}var cv,dv={};function hv(){return cv||(cv=1,e=dv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.identity=function(e){return e}),dv;var e}var fv,pv,mv={},gv={},yv={};function vv(){return fv||(fv=1,e=yv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}),yv;var e}function bv(){return pv||(pv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv();e.isArrayLike=function(e){return null!=e&&"function"!=typeof e&&t.isLength(e.length)}}(gv)),gv}var wv,Ev,Sv={};function _v(){return wv||(wv=1,e=Sv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObjectLike=function(e){return"object"==typeof e&&null!==e}),Sv;var e}function xv(){return Ev||(Ev=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv(),n=_v();e.isArrayLikeObject=function(e){return n.isObjectLike(e)&&t.isArrayLike(e)}}(mv)),mv}var Tv,Ov={},Iv={};function Cv(){return Tv||(Tv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cy();e.property=function(e){return function(n){return t.get(n,e)}}}(Iv)),Iv}var Av,kv={},Pv={},Nv={},Rv={};function Dv(){return Av||(Av=1,e=Rv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isObject=function(e){return null!==e&&("object"==typeof e||"function"==typeof e)}),Rv;var e}var Mv,jv={};function Lv(){return Mv||(Mv=1,e=jv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPrimitive=function(e){return null==e||"object"!=typeof e&&"function"!=typeof e}),jv;var e}var Uv,Fv,Vv,zv={};function qv(){return Uv||(Uv=1,e=zv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.eq=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}),zv;var e}function Bv(){return Fv||(Fv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),n=Lv(),r=qv();function i(e,s,l,u){if(s===e)return!0;switch(typeof s){case"object":return function(e,t,r,i){if(null==t)return!0;if(Array.isArray(t))return o(e,t,r,i);if(t instanceof Map)return function(e,t,n,r){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,o]of t.entries()){if(!1===n(e.get(i),o,i,e,t,r))return!1}return!0}(e,t,r,i);if(t instanceof Set)return a(e,t,r,i);const s=Object.keys(t);if(null==e||n.isPrimitive(e))return 0===s.length;if(0===s.length)return!0;if(null==i?void 0:i.has(t))return i.get(t)===e;null==i||i.set(t,e);try{for(let o=0;o<s.length;o++){const a=s[o];if(!n.isPrimitive(e)&&!(a in e))return!1;if(void 0===t[a]&&void 0!==e[a])return!1;if(null===t[a]&&null!==e[a])return!1;if(!r(e[a],t[a],a,e,t,i))return!1}return!0}finally{null==i||i.delete(t)}}(e,s,l,u);case"function":return Object.keys(s).length>0?i(e,{...s},l,u):r.eq(e,s);default:return t.isObject(e)?"string"!=typeof s||""===s:r.eq(e,s)}}function o(e,t,n,r){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let o=0;o<t.length;o++){const a=t[o];let s=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let u=!1;if(n(e[l],a,o,e,t,r)&&(u=!0),u){i.add(l),s=!0;break}}if(!s)return!1}return!0}function a(e,t,n,r){return 0===t.size||e instanceof Set&&o([...e],[...t],n,r)}e.isMatchWith=function e(t,n,r){return"function"!=typeof r?e(t,n,()=>{}):i(t,n,function e(t,n,o,a,s,l){const u=r(t,n,o,a,s,l);return void 0!==u?Boolean(u):i(t,n,e,l)},new Map)},e.isSetMatch=a}(Nv)),Nv}function Hv(){return Vv||(Vv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv();e.isMatch=function(e,n){return t.isMatchWith(e,n,()=>{})}}(Pv)),Pv}var $v,Gv={},Kv={},Wv={};function Jv(){return $v||($v=1,e=Wv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}),Wv;var e}var Yv,Xv={};function Qv(){return Yv||(Yv=1,e=Xv,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}),Xv;var e}var Zv,eb={};function tb(){return Zv||(Zv=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.argumentsTag="[object Arguments]",e.arrayBufferTag="[object ArrayBuffer]",e.arrayTag="[object Array]",e.bigInt64ArrayTag="[object BigInt64Array]",e.bigUint64ArrayTag="[object BigUint64Array]",e.booleanTag="[object Boolean]",e.dataViewTag="[object DataView]",e.dateTag="[object Date]",e.errorTag="[object Error]",e.float32ArrayTag="[object Float32Array]",e.float64ArrayTag="[object Float64Array]",e.functionTag="[object Function]",e.int16ArrayTag="[object Int16Array]",e.int32ArrayTag="[object Int32Array]",e.int8ArrayTag="[object Int8Array]",e.mapTag="[object Map]",e.numberTag="[object Number]",e.objectTag="[object Object]",e.regexpTag="[object RegExp]",e.setTag="[object Set]",e.stringTag="[object String]",e.symbolTag="[object Symbol]",e.uint16ArrayTag="[object Uint16Array]",e.uint32ArrayTag="[object Uint32Array]",e.uint8ArrayTag="[object Uint8Array]",e.uint8ClampedArrayTag="[object Uint8ClampedArray]"}(eb)),eb}var nb,rb,ib,ob,ab={};function sb(){return nb||(nb=1,e=ab,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}),ab;var e}function lb(){return rb||(rb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv(),n=Qv(),r=tb(),i=Lv(),o=sb();function a(e,t,l,u=new Map,c=void 0){const d=null==c?void 0:c(e,t,l,u);if(void 0!==d)return d;if(i.isPrimitive(e))return e;if(u.has(e))return u.get(e);if(Array.isArray(e)){const t=new Array(e.length);u.set(e,t);for(let n=0;n<e.length;n++)t[n]=a(e[n],n,l,u,c);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;u.set(e,t);for(const[n,r]of e)t.set(n,a(r,n,l,u,c));return t}if(e instanceof Set){const t=new Set;u.set(e,t);for(const n of e)t.add(a(n,void 0,l,u,c));return t}if("undefined"!=typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);u.set(e,t);for(let n=0;n<e.length;n++)t[n]=a(e[n],n,l,u,c);return t}if(e instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return u.set(e,t),s(t,e,l,u,c),t}if("undefined"!=typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return u.set(e,t),s(t,e,l,u,c),t}if("undefined"!=typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return u.set(e,t),s(t,e,l,u,c),t}if(e instanceof Error){const t=new e.constructor;return u.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,s(t,e,l,u,c),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return u.set(e,t),s(t,e,l,u,c),t}if(e instanceof Number){const t=new Number(e.valueOf());return u.set(e,t),s(t,e,l,u,c),t}if(e instanceof String){const t=new String(e.valueOf());return u.set(e,t),s(t,e,l,u,c),t}if("object"==typeof e&&function(e){switch(n.getTag(e)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return u.set(e,t),s(t,e,l,u,c),t}return e}function s(e,n,r=e,i,o){const s=[...Object.keys(n),...t.getSymbols(n)];for(let t=0;t<s.length;t++){const l=s[t],u=Object.getOwnPropertyDescriptor(e,l);(null==u||u.writable)&&(e[l]=a(n[l],l,r,i,o))}}e.cloneDeepWith=function(e,t){return a(e,void 0,e,new Map,t)},e.cloneDeepWithImpl=a,e.copyProperties=s}(Kv)),Kv}function ub(){return ib||(ib=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lb();e.cloneDeep=function(e){return t.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}}(Gv)),Gv}function cb(){return ob||(ob=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv(),n=ub();e.matches=function(e){return e=n.cloneDeep(e),n=>t.isMatch(n,e)}}(kv)),kv}var db,hb,fb={},pb={},mb={};function gb(){return db||(db=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lb(),n=tb();e.cloneDeepWith=function(e,r){return t.cloneDeepWith(e,(i,o,a,s)=>{const l=null==r?void 0:r(i,o,a,s);if(void 0!==l)return l;if("object"==typeof e)switch(Object.prototype.toString.call(e)){case n.numberTag:case n.stringTag:case n.booleanTag:{const n=new e.constructor(null==e?void 0:e.valueOf());return t.copyProperties(n,e),n}case n.argumentsTag:{const n={};return t.copyProperties(n,e),n.length=e.length,n[Symbol.iterator]=e[Symbol.iterator],n}default:return}})}}(mb)),mb}function yb(){return hb||(hb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gb();e.cloneDeep=function(e){return t.cloneDeepWith(e)}}(pb)),pb}var vb,bb={},wb={};function Eb(){return vb||(vb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;e.isIndex=function(e,n=Number.MAX_SAFE_INTEGER){switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<n;case"symbol":return!1;case"string":return t.test(e)}}}(wb)),wb}var Sb,_b,xb,Tb,Ob,Ib,Cb,Ab={};function kb(){return Sb||(Sb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qv();e.isArguments=function(e){return null!==e&&"object"==typeof e&&"[object Arguments]"===t.getTag(e)}}(Ab)),Ab}function Pb(){return _b||(_b=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=my(),n=Eb(),r=kb(),i=Iy();e.has=function(e,o){let a;if(a=Array.isArray(o)?o:"string"==typeof o&&t.isDeepKey(o)&&null==(null==e?void 0:e[o])?i.toPath(o):[o],0===a.length)return!1;let s=e;for(let t=0;t<a.length;t++){const e=a[t];if(null==s||!Object.hasOwn(s,e)){if(!((Array.isArray(s)||r.isArguments(s))&&n.isIndex(e)&&e<s.length))return!1}s=s[e]}return!0}}(bb)),bb}function Nb(){return xb||(xb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv(),n=vy(),r=yb(),i=Cy(),o=Pb();e.matchesProperty=function(e,a){switch(typeof e){case"object":Object.is(null==e?void 0:e.valueOf(),-0)&&(e="-0");break;case"number":e=n.toKey(e)}return a=r.cloneDeep(a),function(n){const r=i.get(n,e);return void 0===r?o.has(n,e):void 0===a?void 0===r:t.isMatch(r,a)}}}(fb)),fb}function Rb(){return Tb||(Tb=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv(),n=Cv(),r=cb(),i=Nb();e.iteratee=function(e){if(null==e)return t.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?i.matchesProperty(e[0],e[1]):r.matches(e);case"string":case"symbol":case"number":return n.property(e)}}}(Ov)),Ov}function Db(){return Cb?Ib:(Cb=1,Ib=(Ob||(Ob=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uv(),n=hv(),r=xv(),i=Rb();e.uniqBy=function(e,o=n.identity){return r.isArrayLikeObject(e)?t.uniqBy(Array.from(e),i.iteratee(o)):[]}}(sv)),sv).uniqBy)}const Mb=r(Db());var jb,Lb,Ub,Fb,Vb={exports:{}},zb={},qb={exports:{}},Bb={};function Hb(){return Lb||(Lb=1,qb.exports=function(){if(jb)return Bb;jb=1;var e=p(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,r=e.useEffect,i=e.useLayoutEffect,o=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!t(e,r)}catch(i){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var s=t(),l=n({inst:{value:s,getSnapshot:t}}),u=l[0].inst,c=l[1];return i(function(){u.value=s,u.getSnapshot=t,a(u)&&c({inst:u})},[e,s,t]),r(function(){return a(u)&&c({inst:u}),e(function(){a(u)&&c({inst:u})})},[e]),o(s),s};return Bb.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:s,Bb}()),qb.exports}
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=(Fb||(Fb=1,Vb.exports=function(){if(Ub)return zb;Ub=1;var e=p(),t=Hb(),n="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=t.useSyncExternalStore,i=e.useRef,o=e.useEffect,a=e.useMemo,s=e.useDebugValue;return zb.useSyncExternalStoreWithSelector=function(e,t,l,u,c){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=a(function(){function e(e){if(!o){if(o=!0,r=e,e=u(e),void 0!==c&&h.hasValue){var t=h.value;if(c(t,e))return i=t}return i=e}if(t=i,n(r,e))return t;var a=u(e);return void 0!==c&&c(t,a)?(r=e,t):(r=e,i=a)}var r,i,o=!1,a=void 0===l?null:l;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,l,u,c]);var f=r(e,d[0],d[1]);return o(function(){h.hasValue=!0,h.value=f},[f]),s(f),f},zb}()),Vb.exports),Gb=m.createContext(null),Kb=e=>e,Wb=()=>{var e=m.useContext(Gb);return e?e.store.dispatch:Kb},Jb=()=>{},Yb=()=>Jb,Xb=(e,t)=>e===t;function Qb(e){var t=m.useContext(Gb);return $b.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Yb,t?t.store.getState:Jb,t?t.store.getState:Jb,t?e:Jb,Xb)}var Zb=e=>Array.isArray(e)?e:[e];function ew(e){const t=Array.isArray(e[0])?e[0]:e;return function(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(e=>"function"==typeof e)){const n=e.map(e=>"function"==typeof e?`function ${e.name||"unnamed"}()`:typeof e).join(", ");throw new TypeError(`${t}[${n}]`)}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}var tw="undefined"!=typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function nw(){return{s:0,v:void 0,o:null,p:null}}function rw(e,t={}){let n={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:r}=t;let i,o=0;function a(){var t;let a=n;const{length:s}=arguments;for(let e=0,n=s;e<n;e++){const t=arguments[e];if("function"==typeof t||"object"==typeof t&&null!==t){let e=a.o;null===e&&(a.o=e=new WeakMap);const n=e.get(t);void 0===n?(a=nw(),e.set(t,a)):a=n}else{let e=a.p;null===e&&(a.p=e=new Map);const n=e.get(t);void 0===n?(a=nw(),e.set(t,a)):a=n}}const l=a;let u;if(1===a.s)u=a.v;else if(u=e.apply(null,arguments),o++,r){const e=(null==(t=null==i?void 0:i.deref)?void 0:t.call(i))??i;null!=e&&r(e,u)&&(u=e,0!==o&&o--);i="object"==typeof u&&null!==u||"function"==typeof u?new tw(u):u}return l.s=1,l.v=u,u}return a.clearCache=()=>{n={s:0,v:void 0,o:null,p:null},a.resetResultsCount()},a.resultsCount=()=>o,a.resetResultsCount=()=>{o=0},a}function iw(e,...t){const n="function"==typeof e?{memoize:e,memoizeOptions:t}:e,r=(...e)=>{let t,r=0,i=0,o={},a=e.pop();"object"==typeof a&&(o=a,a=e.pop()),function(e,t="expected a function, instead received "+typeof e){if("function"!=typeof e)throw new TypeError(t)}(a,`createSelector expects an output function after the inputs, but received: [${typeof a}]`);const s={...n,...o},{memoize:l,memoizeOptions:u=[],argsMemoize:c=rw,argsMemoizeOptions:d=[]}=s,h=Zb(u),f=Zb(d),p=ew(e),m=l(function(){return r++,a.apply(null,arguments)},...h),g=c(function(){i++;const e=function(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}(p,arguments);return t=m.apply(null,e),t},...f);return Object.assign(g,{resultFunc:a,memoizedResultFunc:m,dependencies:p,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>t,recomputations:()=>r,resetRecomputations:()=>{r=0},memoize:l,argsMemoize:c})};return Object.assign(r,{withTypes:()=>r}),r}var ow,aw=iw(rw),sw=Object.assign((e,t=aw)=>{!function(e,t="expected an object, instead received "+typeof e){if("object"!=typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);const n=Object.keys(e);return t(n.map(t=>e[t]),(...e)=>e.reduce((e,t,r)=>(e[n[r]]=t,e),{}))},{withTypes:()=>sw}),lw={},uw={},cw={};function dw(){return ow||(ow=1,function(e){function t(e){return"symbol"==typeof e?1:null===e?2:void 0===e?3:e!=e?4:0}Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});e.compareValues=(e,n,r)=>{if(e!==n){const i=t(e),o=t(n);if(i===o&&0===i){if(e<n)return"desc"===r?1:-1;if(e>n)return"desc"===r?-1:1}return"desc"===r?o-i:i-o}return 0}}(cw)),cw}var hw,fw,pw,mw={},gw={};function yw(){return hw||(hw=1,e=gw,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isSymbol=function(e){return"symbol"==typeof e||e instanceof Symbol}),gw;var e}function vw(){return fw||(fw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yw(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.isKey=function(e,i){return!Array.isArray(e)&&(!("number"!=typeof e&&"boolean"!=typeof e&&null!=e&&!t.isSymbol(e))||("string"==typeof e&&(r.test(e)||!n.test(e))||null!=i&&Object.hasOwn(i,e)))}}(mw)),mw}function bw(){return pw||(pw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dw(),n=vw(),r=Iy();e.orderBy=function(e,i,o,a){if(null==e)return[];o=a?void 0:o,Array.isArray(e)||(e=Object.values(e)),Array.isArray(i)||(i=null==i?[null]:[i]),0===i.length&&(i=[null]),Array.isArray(o)||(o=null==o?[]:[o]),o=o.map(e=>String(e));const s=(e,t)=>{let n=e;for(let r=0;r<t.length&&null!=n;++r)n=n[t[r]];return n},l=i.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"==typeof e||Array.isArray(e)||n.isKey(e)?e:{key:e,path:r.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"==typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:s(t,e.path):"function"==typeof e?e(t):Array.isArray(e)?s(t,e):"object"==typeof t?t[e]:t)(t,e))})).slice().sort((e,n)=>{for(let r=0;r<l.length;r++){const i=t.compareValues(e.criteria[r],n.criteria[r],o[r]);if(0!==i)return i}return 0}).map(e=>e.original)}}(uw)),uw}var ww,Ew={};function Sw(){return ww||(ww=1,e=Ew,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.flatten=function(e,t=1){const n=[],r=Math.floor(t),i=(e,t)=>{for(let o=0;o<e.length;o++){const a=e[o];Array.isArray(a)&&t<r?i(a,t+1):n.push(a)}};return i(e,0),n}),Ew;var e}var _w,xw,Tw,Ow,Iw={};function Cw(){return _w||(_w=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb(),n=bv(),r=Dv(),i=qv();e.isIterateeCall=function(e,o,a){return!!r.isObject(a)&&(!!("number"==typeof o&&n.isArrayLike(a)&&t.isIndex(o)&&o<a.length||"string"==typeof o&&o in a)&&i.eq(a[o],e))}}(Iw)),Iw}function Aw(){return Ow?Tw:(Ow=1,Tw=(xw||(xw=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bw(),n=Sw(),r=Cw();e.sortBy=function(e,...i){const o=i.length;return o>1&&r.isIterateeCall(e,i[0],i[1])?i=[]:o>2&&r.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(e,n.flatten(i),["asc"])}}(lw)),lw).sortBy)}const kw=r(Aw());var Pw=e=>e.legend.settings;aw([e=>e.legend.payload,Pw],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?kw(r,n):r});function Nw(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Rw=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),Dw=()=>Math.random().toString(36).substring(7).split("").join("."),Mw={INIT:`@@redux/INIT${Dw()}`,REPLACE:`@@redux/REPLACE${Dw()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Dw()}`};function jw(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Lw(e,t,n){if("function"!=typeof e)throw new Error(Nw(2));if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(Nw(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(Nw(1));return n(Lw)(e,t)}let r=e,i=t,o=new Map,a=o,s=0,l=!1;function u(){a===o&&(a=new Map,o.forEach((e,t)=>{a.set(t,e)}))}function c(){if(l)throw new Error(Nw(3));return i}function d(e){if("function"!=typeof e)throw new Error(Nw(4));if(l)throw new Error(Nw(5));let t=!0;u();const n=s++;return a.set(n,e),function(){if(t){if(l)throw new Error(Nw(6));t=!1,u(),a.delete(n),o=null}}}function h(e){if(!jw(e))throw new Error(Nw(7));if(void 0===e.type)throw new Error(Nw(8));if("string"!=typeof e.type)throw new Error(Nw(17));if(l)throw new Error(Nw(9));try{l=!0,i=r(i,e)}finally{l=!1}return(o=a).forEach(e=>{e()}),e}h({type:Mw.INIT});return{dispatch:h,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(Nw(10));r=e,h({type:Mw.REPLACE})},[Rw]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(Nw(11));function n(){const e=t;e.next&&e.next(c())}n();return{unsubscribe:e(n)}},[Rw](){return this}}}}}function Uw(e){const t=Object.keys(e),n={};for(let o=0;o<t.length;o++){const r=t[o];"function"==typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if(void 0===n(void 0,{type:Mw.INIT}))throw new Error(Nw(12));if(void 0===n(void 0,{type:Mw.PROBE_UNKNOWN_ACTION()}))throw new Error(Nw(13))})}(n)}catch(eF){i=eF}return function(e={},t){if(i)throw i;let o=!1;const a={};for(let i=0;i<r.length;i++){const s=r[i],l=n[s],u=e[s],c=l(u,t);if(void 0===c)throw t&&t.type,new Error(Nw(14));a[s]=c,o=o||c!==u}return o=o||r.length!==Object.keys(e).length,o?a:e}}function Fw(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce((e,t)=>(...n)=>e(t(...n)))}function Vw(e){return jw(e)&&"type"in e&&"string"==typeof e.type}var zw=Symbol.for("immer-nothing"),qw=Symbol.for("immer-draftable"),Bw=Symbol.for("immer-state");function Hw(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var $w=Object,Gw=$w.getPrototypeOf,Kw="constructor",Ww="prototype",Jw="configurable",Yw="enumerable",Xw="writable",Qw="value",Zw=e=>!!e&&!!e[Bw];function eE(e){var t;return!!e&&(rE(e)||uE(e)||!!e[qw]||!!(null==(t=e[Kw])?void 0:t[qw])||cE(e)||dE(e))}var tE=$w[Ww][Kw].toString(),nE=new WeakMap;function rE(e){if(!e||!hE(e))return!1;const t=Gw(e);if(null===t||t===$w[Ww])return!0;const n=$w.hasOwnProperty.call(t,Kw)&&t[Kw];if(n===Object)return!0;if(!fE(n))return!1;let r=nE.get(n);return void 0===r&&(r=Function.toString.call(n),nE.set(n,r)),r===tE}function iE(e,t,n=!0){if(0===oE(e)){(n?Reflect.ownKeys(e):$w.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function oE(e){const t=e[Bw];return t?t.type_:uE(e)?1:cE(e)?2:dE(e)?3:0}var aE=(e,t,n=oE(e))=>2===n?e.has(t):$w[Ww].hasOwnProperty.call(e,t),sE=(e,t,n=oE(e))=>2===n?e.get(t):e[t],lE=(e,t,n,r=oE(e))=>{2===r?e.set(t,n):3===r?e.add(n):e[t]=n};var uE=Array.isArray,cE=e=>e instanceof Map,dE=e=>e instanceof Set,hE=e=>"object"==typeof e,fE=e=>"function"==typeof e,pE=e=>"boolean"==typeof e,mE=e=>e.copy_||e.base_,gE=e=>e.modified_?e.copy_:e.base_;function yE(e,t){if(cE(e))return new Map(e);if(dE(e))return new Set(e);if(uE(e))return Array[Ww].slice.call(e);const n=rE(e);if(!0===t||"class_only"===t&&!n){const t=$w.getOwnPropertyDescriptors(e);delete t[Bw];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o[Xw]&&(o[Xw]=!0,o[Jw]=!0),(o.get||o.set)&&(t[i]={[Jw]:!0,[Xw]:!0,[Yw]:o[Yw],[Qw]:e[i]})}return $w.create(Gw(e),t)}{const t=Gw(e);if(null!==t&&n)return{...e};const r=$w.create(t);return $w.assign(r,e)}}function vE(e,t=!1){return wE(e)||Zw(e)||!eE(e)||(oE(e)>1&&$w.defineProperties(e,{set:bE,add:bE,clear:bE,delete:bE}),$w.freeze(e),t&&iE(e,(e,t)=>{vE(t,!0)},!1)),e}var bE={[Qw]:function(){Hw(2)}};function wE(e){return null===e||!hE(e)||$w.isFrozen(e)}var EE="MapSet",SE="Patches",_E={};function xE(e){const t=_E[e];return t||Hw(0),t}var TE,OE=()=>TE;function IE(e,t){t&&(e.patchPlugin_=xE(SE),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function CE(e){AE(e),e.drafts_.forEach(PE),e.drafts_=null}function AE(e){e===TE&&(TE=e.parent_)}var kE=e=>{return TE={drafts_:[],parent_:TE,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:(t=EE,_E[t]?xE(EE):void 0)};var t};function PE(e){const t=e[Bw];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function NE(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(void 0!==e&&e!==n){n[Bw].modified_&&(CE(t),Hw(4)),eE(e)&&(e=RE(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Bw].base_,e,t)}else e=RE(t,n);return function(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&vE(t,n)}(t,e,!0),CE(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zw?e:void 0}function RE(e,t){if(wE(t))return t;const n=t[Bw];if(!n){return FE(t,e.handledSet_,e)}if(!ME(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:t}=n;if(t)for(;t.length>0;){t.pop()(e)}UE(n,e)}return n.copy_}function DE(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ME=(e,t)=>e.scope_===t,jE=[];function LE(e,t,n,r){const i=mE(e),o=e.type_;if(void 0!==r){if(sE(i,r,o)===t)return void lE(i,r,n,o)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;iE(i,(e,n)=>{if(Zw(n)){const r=t.get(n)||[];r.push(e),t.set(n,r)}})}const a=e.draftLocations_.get(t)??jE;for(const s of a)lE(i,s,n,o)}function UE(e,t){var n;if(e.modified_&&!e.finalized_&&(3===e.type_||((null==(n=e.assigned_)?void 0:n.size)??0)>0)){const{patchPlugin_:n}=t;if(n){const r=n.getPath(e);r&&n.generatePatches_(e,r,t)}DE(e)}}function FE(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Zw(e)||t.has(e)||!eE(e)||wE(e)||(t.add(e),iE(e,(r,i)=>{if(Zw(i)){const t=i[Bw];if(ME(t,n)){const n=gE(t);lE(e,r,n,e.type_),DE(t)}}else eE(i)&&FE(i,t,n)})),e}var VE={get(e,t){if(t===Bw)return e;const n=mE(e);if(!aE(n,t,e.type_))return function(e,t,n){var r;const i=BE(t,n);return i?Qw in i?i[Qw]:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];if(e.finalized_||!eE(r))return r;if(r===qE(e.base_,t)){$E(e);const n=1===e.type_?+t:t,i=GE(e.scope_,r,e,n);return e.copy_[n]=i}return r},has:(e,t)=>t in mE(e),ownKeys:e=>Reflect.ownKeys(mE(e)),set(e,t,n){const r=BE(mE(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=qE(mE(e),t),a=null==r?void 0:r[Bw];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||aE(e.base_,t,e.type_)))return!0;$E(e),HE(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),function(e,t,n){const{scope_:r}=e;if(Zw(n)){const i=n[Bw];ME(i,r)&&i.callbacks_.push(function(){$E(e);const r=gE(i);LE(e,n,r,t)})}else eE(n)&&e.callbacks_.push(function(){const i=mE(e);sE(i,t,e.type_)===n&&r.drafts_.length>1&&!0===(e.assigned_.get(t)??!1)&&e.copy_&&FE(sE(e.copy_,t,e.type_),r.handledSet_,r)})}(e,t,n)),!0},deleteProperty:(e,t)=>($E(e),void 0!==qE(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),HE(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=mE(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{[Xw]:!0,[Jw]:1!==e.type_||"length"!==t,[Yw]:r[Yw],[Qw]:n[t]}:r},defineProperty(){Hw(11)},getPrototypeOf:e=>Gw(e.base_),setPrototypeOf(){Hw(12)}},zE={};function qE(e,t){const n=e[Bw];return(n?mE(n):e)[t]}function BE(e,t){if(!(t in e))return;let n=Gw(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Gw(n)}}function HE(e){e.modified_||(e.modified_=!0,e.parent_&&HE(e.parent_))}function $E(e){e.copy_||(e.assigned_=new Map,e.copy_=yE(e.base_,e.scope_.immer_.useStrictShallowCopy_))}iE(VE,(e,t)=>{zE[e]=function(){const e=arguments;return e[0]=e[0][0],t.apply(this,e)}}),zE.deleteProperty=function(e,t){return zE.set.call(this,e,t,void 0)},zE.set=function(e,t,n){return VE.set.call(this,e[0],t,n,e[0])};function GE(e,t,n,r){const[i,o]=cE(t)?xE(EE).proxyMap_(t,n):dE(t)?xE(EE).proxySet_(t,n):function(e,t){const n=uE(e),r={type_:n?1:0,scope_:t?t.scope_:OE(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=VE;n&&(i=[r],o=zE);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,[s,r]}(t,n);return((null==n?void 0:n.scope_)??OE()).drafts_.push(i),o.callbacks_=(null==n?void 0:n.callbacks_)??[],o.key_=r,n&&void 0!==r?function(e,t,n){e.callbacks_.push(function(r){var i;const o=t;if(!o||!ME(o,r))return;null==(i=r.mapSetPlugin_)||i.fixSetContents(o);const a=gE(o);LE(e,o.draft_??o,a,n),UE(o,r)})}(n,o,r):o.callbacks_.push(function(e){var t;null==(t=e.mapSetPlugin_)||t.fixSetContents(o);const{patchPlugin_:n}=e;o.modified_&&n&&n.generatePatches_(o,[],e)}),i}function KE(e){return Zw(e)||Hw(10),WE(e)}function WE(e){if(!eE(e)||wE(e))return e;const t=e[Bw];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=yE(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=yE(e,!0);return iE(n,(e,t)=>{lE(n,e,WE(t))},r),t&&(t.finalized_=!1),n}var JE=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,n)=>{if(fE(e)&&!fE(t)){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if(fE(t)||Hw(6),void 0===n||fE(n)||Hw(7),eE(e)){const i=kE(this),o=GE(i,e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?CE(i):AE(i)}return IE(i,n),NE(r,i)}if(!e||!hE(e)){if(r=t(e),void 0===r&&(r=e),r===zw&&(r=void 0),this.autoFreeze_&&vE(r,!0),n){const t=[],i=[];xE(SE).generateReplacementPatches_(e,r,{patches_:t,inversePatches_:i}),n(t,i)}return r}Hw(1)},this.produceWithPatches=(e,t)=>{if(fE(e))return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;const i=this.produce(e,t,(e,t)=>{n=e,r=t});return[i,n,r]},pE(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),pE(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),pE(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){eE(e)||Hw(8),Zw(e)&&(e=KE(e));const t=kE(this),n=GE(t,e,void 0);return n[Bw].isManual_=!0,AE(t),n}finishDraft(e,t){const n=e&&e[Bw];n&&n.isManual_||Hw(9);const{scope_:r}=n;return IE(r,t),NE(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=xE(SE).applyPatches_;return Zw(e)?r(e,t):this.produce(e,e=>r(e,t))}},YE=JE.produce;function XE(e){return({dispatch:t,getState:n})=>r=>i=>"function"==typeof i?i(t,n,e):r(i)}var QE=XE(),ZE=XE,eS="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Fw:Fw.apply(null,arguments)};function tS(e,t){function n(...n){if(t){let r=t(...n);if(!r)throw new Error(JS(0));return{type:e,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:e,payload:n[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>Vw(t)&&t.type===e,n}var nS=class e extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(...e){return super.concat.apply(this,e)}prepend(...t){return 1===t.length&&Array.isArray(t[0])?new e(...t[0].concat(this)):new e(...t.concat(this))}};function rS(e){return eE(e)?YE(e,()=>{}):e}function iS(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var oS="RTK_autoBatch",aS=()=>e=>({payload:e,meta:{[oS]:!0}}),sS=e=>t=>{setTimeout(t,e)},lS=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,o=!1,a=!1;const s=new Set,l="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:sS(10):"callback"===e.type?e.queueNotification:sS(e.timeout),u=()=>{a=!1,o&&(o=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>i&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){var t;try{return i=!(null==(t=null==e?void 0:e.meta)?void 0:t[oS]),o=!i,o&&(a||(a=!0,l(u))),r.dispatch(e)}finally{i=!0}}})};function uS(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new nS;return t&&("boolean"==typeof t?o.push(QE):o.push(ZE(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,preloadedState:o,enhancers:a}=e||{};let s,l;if("function"==typeof n)s=n;else{if(!jw(n))throw new Error(JS(1));s=Uw(n)}l="function"==typeof r?r(t):t();let u=Fw;i&&(u=eS({trace:!1,..."object"==typeof i&&i}));const c=function(...e){return t=>(n,r)=>{const i=t(n,r);let o=()=>{throw new Error(Nw(15))};const a={getState:i.getState,dispatch:(e,...t)=>o(e,...t)},s=e.map(e=>e(a));return o=Fw(...s)(i.dispatch),{...i,dispatch:o}}}(...l),d=(e=>function(t){const{autoBatch:n=!0}=t??{};let r=new nS(e);return n&&r.push(lS("object"==typeof n?n:void 0)),r})(c);return Lw(s,o,u(..."function"==typeof a?a(d):d()))}function cS(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"==typeof e?e:e.type;if(!r)throw new Error(JS(28));if(r in t)throw new Error(JS(29));return t[r]=n,i},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),i),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var dS=(e=21)=>{let t="",n=e;for(;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},hS=Symbol.for("rtk-slice-createasyncthunk");function fS(e,t){return`${e}/${t}`}function pS({creators:e}={}){var t;const n=null==(t=null==e?void 0:e.asyncThunk)?void 0:t[hS];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(JS(11));const i=("function"==typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name]:(...t)=>e(...t)}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),a={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},s={addCase(e,t){const n="string"==typeof e?e:e.type;if(!n)throw new Error(JS(12));if(n in a.sliceCaseReducersByType)throw new Error(JS(13));return a.sliceCaseReducersByType[n]=t,s},addMatcher:(e,t)=>(a.sliceMatchers.push({matcher:e,reducer:t}),s),exposeAction:(e,t)=>(a.actionCreators[e]=t,s),exposeCaseReducer:(e,t)=>(a.sliceCaseReducersByName[e]=t,s)};function l(){const[t={},n=[],r]="function"==typeof e.extraReducers?cS(e.extraReducers):[e.extraReducers],i={...t,...a.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=cS(t);if("function"==typeof e)n=()=>rS(e());else{const t=rS(e);n=()=>t}function a(e=n(),t){let a=[r[t.type],...i.filter(({matcher:e})=>e(t)).map(({reducer:e})=>e)];return 0===a.filter(e=>!!e).length&&(a=[o]),a.reduce((e,n)=>{if(n){if(Zw(e)){const r=n(e,t);return void 0===r?e:r}if(eE(e))return YE(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return a.getInitialState=n,a}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of a.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}o.forEach(r=>{const o=i[r],a={reducerName:r,type:fS(t,r),createNotation:"function"==typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function({type:e,reducerName:t,createNotation:n},r,i){let o,a;if("reducer"in r){if(n&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(r))throw new Error(JS(17));o=r.reducer,a=r.prepare}else o=r;i.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,a?tS(e,a):tS(e))}(a,o,s):function({type:e,reducerName:t},n,r,i){if(!i)throw new Error(JS(18));const{payloadCreator:o,fulfilled:a,pending:s,rejected:l,settled:u,options:c}=n,d=i(e,o,c);r.exposeAction(t,d),a&&r.addCase(d.fulfilled,a);s&&r.addCase(d.pending,s);l&&r.addCase(d.rejected,l);u&&r.addMatcher(d.settled,u);r.exposeCaseReducer(t,{fulfilled:a||yS,pending:s||yS,rejected:l||yS,settled:u||yS})}(a,o,s,n)});const u=e=>e,c=new Map,d=new WeakMap;let h;function f(e,t){return h||(h=l()),h(e,t)}function p(){return h||(h=l()),h.getInitialState()}function m(t,n=!1){function r(e){let i=e[t];return void 0===i&&n&&(i=iS(d,r,p)),i}function i(t=u){const r=iS(c,n,()=>new WeakMap);return iS(r,t,()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=mS(o,t,()=>iS(d,t,p),n);return r})}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g={name:t,reducer:f,actions:a.actionCreators,caseReducers:a.sliceCaseReducersByName,getInitialState:p,...m(r),injectInto(e,{reducerPath:t,...n}={}){const i=t??r;return e.inject({reducerPath:i,reducer:f},n),{...g,...m(i,!0)}}};return g}}function mS(e,t,n,r){function i(i,...o){let a=t(i);return void 0===a&&r&&(a=n()),e(a,...o)}return i.unwrapped=e,i}var gS=pS();function yS(){}var vS="listener",bS="completed",wS="cancelled",ES=`task-${wS}`,SS=`task-${bS}`,_S=`${vS}-${wS}`,xS=`${vS}-${bS}`,TS=class{constructor(e){t(this,"name","TaskAbortError"),t(this,"message"),this.code=e,this.message=`task ${wS} (reason: ${e})`}},OS=(e,t)=>{if("function"!=typeof e)throw new TypeError(JS(32))},IS=()=>{},CS=(e,t=IS)=>(e.catch(t),e),AS=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),kS=e=>{if(e.aborted)throw new TS(e.reason)};function PS(e,t){let n=IS;return new Promise((r,i)=>{const o=()=>i(new TS(e.reason));e.aborted?o():(n=AS(e,o),t.finally(()=>n()).then(r,i))}).finally(()=>{n=IS})}var NS=e=>t=>CS(PS(e,t).then(t=>(kS(e),t))),RS=e=>{const t=NS(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:DS}=Object,MS={},jS="listenerMiddleware",LS=(e,t)=>(n,r)=>{OS(n);const i=new AbortController;var o;o=i,AS(e,()=>o.abort(e.reason));const a=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof TS?"cancelled":"rejected",error:n}}finally{null==t||t()}})(async()=>{kS(e),kS(i.signal);const t=await n({pause:NS(i.signal),delay:RS(i.signal),signal:i.signal});return kS(i.signal),t},()=>i.abort(SS));return(null==r?void 0:r.autoJoin)&&t.push(a.catch(IS)),{result:NS(e)(a),cancel(){i.abort(ES)}}},US=(e,t)=>(n,r)=>CS((async(n,r)=>{kS(t);let i=()=>{};const o=[new Promise((t,r)=>{let o=e({predicate:n,effect:(e,n)=>{n.unsubscribe(),t([e,n.getState(),n.getOriginalState()])}});i=()=>{o(),r()}})];null!=r&&o.push(new Promise(e=>setTimeout(e,r,null)));try{const e=await PS(t,Promise.race(o));return kS(t),e}finally{i()}})(n,r)),FS=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:o}=e;if(t)i=tS(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(JS(21));return OS(o),{predicate:i,type:t,effect:o}},VS=DS(e=>{const{type:t,predicate:n,effect:r}=FS(e);return{id:dS(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(JS(22))}}},{withTypes:()=>VS}),zS=(e,t)=>{const{type:n,effect:r,predicate:i}=FS(t);return Array.from(e.values()).find(e=>("string"==typeof n?e.type===n:e.predicate===i)&&e.effect===r)},qS=e=>{e.pending.forEach(e=>{e.abort(_S)})},BS=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},HS=DS(tS(`${jS}/add`),{withTypes:()=>HS}),$S=tS(`${jS}/removeAll`),GS=DS(tS(`${jS}/remove`),{withTypes:()=>GS}),KS=(...e)=>{},WS=(e={})=>{const t=new Map,n=new Map,{extra:r,onError:i=KS}=e;OS(i);const o=e=>(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),(null==t?void 0:t.cancelActive)&&qS(e)}))(zS(t,e)??VS(e));DS(o,{withTypes:()=>o});const a=e=>{const n=zS(t,e);return n&&(n.unsubscribe(),e.cancelActive&&qS(n)),!!n};DS(a,{withTypes:()=>a});const s=async(e,a,s,l)=>{const u=new AbortController,c=US(o,u.signal),d=[];try{e.pending.add(u),(e=>{const t=n.get(e)??0;n.set(e,t+1)})(e),await Promise.resolve(e.effect(a,DS({},s,{getOriginalState:l,condition:(e,t)=>c(e,t).then(Boolean),take:c,delay:RS(u.signal),pause:NS(u.signal),extra:r,signal:u.signal,fork:LS(u.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,n)=>{e!==u&&(e.abort(_S),n.delete(e))})},cancel:()=>{u.abort(_S),e.pending.delete(u)},throwIfCancelled:()=>{kS(u.signal)}})))}catch(h){h instanceof TS||BS(i,h,{raisedBy:"effect"})}finally{await Promise.all(d),u.abort(xS),(e=>{const t=n.get(e)??1;1===t?n.delete(e):n.set(e,t-1)})(e),e.pending.delete(u)}},l=((e,t)=>()=>{for(const e of t.keys())qS(e);e.clear()})(t,n);return{middleware:e=>n=>r=>{if(!Vw(r))return n(r);if(HS.match(r))return o(r.payload);if($S.match(r))return void l();if(GS.match(r))return a(r.payload);let u=e.getState();const c=()=>{if(u===MS)throw new Error(JS(23));return u};let d;try{if(d=n(r),t.size>0){const n=e.getState(),o=Array.from(t.values());for(const t of o){let o=!1;try{o=t.predicate(r,n,u)}catch(h){o=!1,BS(i,h,{raisedBy:"predicate"})}o&&s(t,r,e,c)}}}finally{u=MS}return d},startListening:o,stopListening:a,clearListeners:l}};function JS(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YS=gS({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,o;e.margin.top=null!==(n=t.payload.top)&&void 0!==n?n:0,e.margin.right=null!==(r=t.payload.right)&&void 0!==r?r:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(o=t.payload.left)&&void 0!==o?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XS,setLayout:QS,setChartSize:ZS,setScale:e_}=YS.actions,t_=YS.reducer;function n_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function r_(e){return Number.isFinite(e)}function i_(e){return"number"==typeof e&&e>0&&Number.isFinite(e)}function o_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o_(Object(n),!0).forEach(function(t){s_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_(e,t,n){return By(e)||By(t)?n:Ly(t)?ky(e,t,n):"function"==typeof t?t(e):n}var u_=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,c_=(e,t,n,r)=>{if(r)return e.map(e=>e.coordinate);var i,o,a=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===n&&(o=!0),e.coordinate));return i||a.push(t),o||a.push(n),a},d_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:o,scale:a,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:c,ticks:d,niceTicks:h,axisType:f}=e;if(!a)return null;var p="scaleBand"===s&&a.bandwidth?a.bandwidth()/2:2,m="category"===i&&a.bandwidth?a.bandwidth()/p:0;return m="angleAxis"===f&&o&&o.length>=2?2*Ry(o[0]-o[1])*m:m,d||h?(d||h||[]).map((e,t)=>{var n=r?r.indexOf(e):e;return{coordinate:a(n)+m,value:e,offset:m,index:t}}).filter(e=>!Dy(e.coordinate)):l&&u?u.map((e,t)=>({coordinate:a(e)+m,value:e,index:t,offset:m})):a.ticks&&null!=c?a.ticks(c).map((e,t)=>({coordinate:a(e)+m,value:e,offset:m,index:t})):a.domain().map((e,t)=>({coordinate:a(e)+m,value:r?r[e]:e,index:t,offset:m}))},h_=1e-4,f_={sign:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0,s=0;s<n;++s){var l=e[s],u=null==l?void 0:l[i];if(null!=u){var c=u[1],d=u[0],h=Dy(c)?d:c;h>=0?(u[0]=o,u[1]=o+h,o=c):(u[0]=a,u[1]=a+h,a=c)}}}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,o=0,a=e[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=e[n][o][1]||0;if(i)for(n=0;n<r;++n)e[n][o][1]/=i}oy(e,t)}},none:oy,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=e[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}oy(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,u=0;s<i;++s){for(var c=e[t[s]],d=c[a][1]||0,h=(d-(c[a-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[a][1]||0)-(p[a-1][1]||0)}l+=d,u+=h*d}n[a-1][1]+=n[a-1][0]=o,l&&(o-=u/l)}n[a-1][1]+=n[a-1][0]=o,oy(e,t)}},positive:e=>{var t,n=e.length;if(!(n<=0)){var r=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==r||r<=0))for(var i=0;i<r;++i)for(var o=0,a=0;a<n;++a){var s=e[a],l=null==s?void 0:s[i];if(null!=l){var u=Dy(l[1])?l[0]:l[1];u>=0?(l[0]=o,l[1]=o+u,o=l[1]):(l[0]=0,l[1]=0)}}}}},p_=(e,t,n)=>{var r,i=null!==(r=f_[n])&&void 0!==r?r:oy,o=function(){var e=og([]),t=ay,n=oy,r=sy;function i(i){var o,a,s=Array.from(e.apply(this,arguments),ly),l=s.length,u=-1;for(const e of i)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(e,s[o].key,u,i)]).data=e;for(o=0,a=vg(t(s));o<l;++o)s[a[o]].index=o;return n(s,a),s}return i.keys=function(t){return arguments.length?(e="function"==typeof t?t:og(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"==typeof e?e:og(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?ay:"function"==typeof e?e:og(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?oy:e,i):n},i}().keys(t).value((e,t)=>Number(l_(e,t,0))).order(ay).offset(i),a=o(e);return a.forEach((n,r)=>{n.forEach((n,i)=>{var o=l_(e[i],t[r],0);Array.isArray(o)&&2===o.length&&jy(o[0])&&jy(o[1])&&(n[0]=o[0],n[1]=o[1])})}),a};var m_=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:o,index:a}=e;if("category"===t.type)return n[a]?n[a].coordinate+r:null;var s=l_(o,t.dataKey,t.scale.domain()[a]);return By(s)?null:t.scale(s)-i/2+r},g_=(e,t,n)=>{var r;if(null!=e)return[(r=Object.keys(e).reduce((r,i)=>{var o=e[i];if(!o)return r;var{stackedData:a}=o,s=a.reduce((e,r)=>{var i,o=n_(r,t,n),a=(i=o.flat(2).filter(jy),[Math.min(...i),Math.max(...i)]);return r_(a[0])&&r_(a[1])?[Math.min(e[0],a[0]),Math.max(e[1],a[1])]:e},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))[0]===1/0?0:r[0],r[1]===-1/0?0:r[1]]},y_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,v_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,b_=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=kw(t,e=>e.coordinate),o=1/0,a=1,s=i.length;a<s;a++){var l=i[a],u=i[a-1];o=Math.min(((null==l?void 0:l.coordinate)||0)-((null==u?void 0:u.coordinate)||0),o)}return o===1/0?0:o}return n?void 0:0};function w_(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:o}=e;return a_(a_({},t),{},{dataKey:n,payload:r,value:i,name:o})}function E_(e,t){return e?String(e):"string"==typeof t?t:void 0}var S_=e=>e.layout.width,__=e=>e.layout.height,x_=e=>e.layout.scale,T_=e=>e.layout.margin,O_=aw(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),I_=aw(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),C_="data-recharts-item-index",A_="data-recharts-item-id";function k_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k_(Object(n),!0).forEach(function(t){N_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N_(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R_,D_,M_,j_,L_,U_=aw([S_,__,T_,e=>e.brush.height,function(e){return I_(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return I_(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"==typeof t.width?t.width:60),0)},function(e){return O_(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return O_(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},Pw,e=>e.legend.size],(e,t,n,r,i,o,a,s,l,u)=>{var c={left:(n.left||0)+i,right:(n.right||0)+o},d=P_(P_({},{top:(n.top||0)+a,bottom:(n.bottom||0)+s}),c),h=d.bottom;d.bottom+=r,d=((e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:o,verticalAlign:a,layout:s}=t;if(("vertical"===s||"horizontal"===s&&"middle"===a)&&"center"!==o&&jy(e[o]))return a_(a_({},e),{},{[o]:e[o]+(r||0)});if(("horizontal"===s||"vertical"===s&&"center"===o)&&"middle"!==a&&jy(e[a]))return a_(a_({},e),{},{[a]:e[a]+(i||0)})}return e})(d,l,u);var f=e-d.left-d.right,p=t-d.top-d.bottom;return P_(P_({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),F_=aw(U_,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),V_=aw(S_,__,(e,t)=>({x:0,y:0,width:e,height:t})),z_=m.createContext(null),q_=()=>null!=m.useContext(z_),B_=e=>e.brush,H_=aw([B_,U_,T_],(e,t,n)=>({height:e.height,x:jy(e.x)?e.x:t.left,y:jy(e.y)?e.y:t.top+t.height+t.brushBottom-((null==n?void 0:n.bottom)||0),width:jy(e.width)?e.width:t.width})),$_={},G_={},K_={};function W_(){return R_||(R_=1,e=K_,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.debounce=function(e,t,{signal:n,edges:r}={}){let i,o=null;const a=null!=r&&r.includes("leading"),s=null==r||r.includes("trailing"),l=()=>{null!==o&&(e.apply(i,o),i=void 0,o=null)};let u=null;const c=()=>{null!=u&&clearTimeout(u),u=setTimeout(()=>{u=null,s&&l(),d()},t)},d=()=>{null!==u&&(clearTimeout(u),u=null),i=void 0,o=null},h=function(...e){if(null==n?void 0:n.aborted)return;i=this,o=e;const t=null==u;c(),a&&t&&l()};return h.schedule=c,h.cancel=d,h.flush=()=>{l()},null==n||n.addEventListener("abort",d,{once:!0}),h}),K_;var e}function J_(){return D_||(D_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W_();e.debounce=function(e,n=0,r={}){"object"!=typeof r&&(r={});const{leading:i=!1,trailing:o=!0,maxWait:a}=r,s=Array(2);let l;i&&(s[0]="leading"),o&&(s[1]="trailing");let u=null;const c=t.debounce(function(...t){l=e.apply(this,t),u=null},n,{edges:s}),d=function(...t){return null!=a&&(null===u&&(u=Date.now()),Date.now()-u>=a)?(l=e.apply(this,t),u=Date.now(),c.cancel(),c.schedule(),l):(c.apply(this,t),l)};return d.cancel=c.cancel,d.flush=()=>(c.flush(),l),d}}(G_)),G_}function Y_(){return L_?j_:(L_=1,j_=(M_||(M_=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J_();e.throttle=function(e,n=0,r={}){const{leading:i=!0,trailing:o=!0}=r;return t.debounce(e,n,{leading:i,maxWait:n,trailing:o})}}($_)),$_).throttle)}const X_=r(Y_());var Q_=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if("undefined"!=typeof console&&console.warn&&!e)if(void 0===t);else;},Z_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:a}=n,s=My(r)?e:Number(r),l=My(i)?t:Number(i);return o&&o>0&&(s?l=s/o:l&&(s=l*o),a&&null!=l&&l>a&&(l=a)),{calculatedWidth:s,calculatedHeight:l}},ex={width:0,height:0,overflow:"visible"},tx={width:0,overflowX:"visible"},nx={height:0,overflowY:"visible"},rx={},ix=e=>{var{width:t,height:n}=e,r=My(t),i=My(n);return r&&i?ex:r?tx:i?nx:rx};function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ox.apply(null,arguments)}function ax(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ax(Object(n),!0).forEach(function(t){lx(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ax(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lx(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ux=m.createContext({width:-1,height:-1});function cx(e){var{children:t,width:n,height:r}=e,i=m.useMemo(()=>({width:n,height:r}),[n,r]);return function(e){return i_(e.width)&&i_(e.height)}(i)?m.createElement(ux.Provider,{value:i},t):null}var dx=()=>m.useContext(ux),hx=m.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:a=0,minHeight:s,maxHeight:l,children:u,debounce:c=0,id:d,className:h,onResize:f,style:p={}}=e,g=m.useRef(null),y=m.useRef();y.current=f,m.useImperativeHandle(t,()=>g.current);var[v,b]=m.useState({containerWidth:r.width,containerHeight:r.height}),w=m.useCallback((e,t)=>{b(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]);m.useEffect(()=>{if(null==g.current||"undefined"==typeof ResizeObserver)return Gy;var e=e=>{var t,{width:n,height:r}=e[0].contentRect;w(n,r),null===(t=y.current)||void 0===t||t.call(y,n,r)};c>0&&(e=X_(e,c,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:n,height:r}=g.current.getBoundingClientRect();return w(n,r),t.observe(g.current),()=>{t.disconnect()}},[w,c]);var{containerWidth:E,containerHeight:S}=v;Q_(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:_,calculatedHeight:x}=Z_(E,S,{width:i,height:o,aspect:n,maxHeight:l});return Q_(null!=_&&_>0||null!=x&&x>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",_,x,i,o,a,s,n),m.createElement("div",{id:d?"".concat(d):void 0,className:Bm("recharts-responsive-container",h),style:sx(sx({},p),{},{width:i,height:o,minWidth:a,minHeight:s,maxHeight:l}),ref:g},m.createElement("div",{style:ix({width:i,height:o})},m.createElement(cx,{width:_,height:x},u)))}),fx=m.forwardRef((e,t)=>{var n=dx();if(i_(n.width)&&i_(n.height))return e.children;var{width:r,height:i}=function(e){var{width:t,height:n,aspect:r}=e,i=t,o=n;return void 0===i&&void 0===o?(i="100%",o="100%"):void 0===i?i=r&&r>0?void 0:"100%":void 0===o&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:o,calculatedHeight:a}=Z_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return jy(o)&&jy(a)?m.createElement(cx,{width:o,height:a},e.children):m.createElement(hx,ox({},e,{width:r,height:i,ref:t}))});function px(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var mx=()=>{var e,t=q_(),n=Qb(F_),r=Qb(H_),i=null===(e=Qb(B_))||void 0===e?void 0:e.padding;return t&&r&&i?{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}:n},gx={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},yx=()=>{var e;return null!==(e=Qb(U_))&&void 0!==e?e:gx},vx=()=>Qb(S_),bx=()=>Qb(__),wx=e=>e.layout.layoutType,Ex=()=>Qb(wx),Sx=e=>{var t=Wb(),n=q_(),{width:r,height:i}=e,o=dx(),a=r,s=i;return o&&(a=o.width>0?o.width:r,s=o.height>0?o.height:i),m.useEffect(()=>{!n&&i_(a)&&i_(s)&&t(ZS({width:a,height:s}))},[t,n,a,s]),null},_x=Symbol.for("immer-nothing"),xx=Symbol.for("immer-draftable"),Tx=Symbol.for("immer-state");function Ox(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ix=Object.getPrototypeOf;function Cx(e){return!!e&&!!e[Tx]}function Ax(e){var t;return!!e&&(Nx(e)||Array.isArray(e)||!!e[xx]||!!(null==(t=e.constructor)?void 0:t[xx])||Lx(e)||Ux(e))}var kx=Object.prototype.constructor.toString(),Px=new WeakMap;function Nx(e){if(!e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if("function"!=typeof n)return!1;let r=Px.get(n);return void 0===r&&(r=Function.toString.call(n),Px.set(n,r)),r===kx}function Rx(e,t,n=!0){if(0===Dx(e)){(n?Reflect.ownKeys(e):Object.keys(e)).forEach(n=>{t(n,e[n],e)})}else e.forEach((n,r)=>t(r,n,e))}function Dx(e){const t=e[Tx];return t?t.type_:Array.isArray(e)?1:Lx(e)?2:Ux(e)?3:0}function Mx(e,t){return 2===Dx(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jx(e,t,n){const r=Dx(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Lx(e){return e instanceof Map}function Ux(e){return e instanceof Set}function Fx(e){return e.copy_||e.base_}function Vx(e,t){if(Lx(e))return new Map(e);if(Ux(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Nx(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Tx];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Ix(e),t)}{const t=Ix(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function zx(e,t=!1){return Bx(e)||Cx(e)||!Ax(e)||(Dx(e)>1&&Object.defineProperties(e,{set:qx,add:qx,clear:qx,delete:qx}),Object.freeze(e),t&&Object.values(e).forEach(e=>zx(e,!0))),e}var qx={value:function(){Ox(2)}};function Bx(e){return null===e||"object"!=typeof e||Object.isFrozen(e)}var Hx,$x={};function Gx(e){const t=$x[e];return t||Ox(0),t}function Kx(){return Hx}function Wx(e,t){t&&(Gx("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jx(e){Yx(e),e.drafts_.forEach(Qx),e.drafts_=null}function Yx(e){e===Hx&&(Hx=e.parent_)}function Xx(e){return Hx={drafts_:[],parent_:Hx,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qx(e){const t=e[Tx];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Zx(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Tx].modified_&&(Jx(t),Ox(4)),Ax(e)&&(e=eT(t,e),t.parent_||nT(t,e)),t.patches_&&Gx("Patches").generateReplacementPatches_(n[Tx].base_,e,t.patches_,t.inversePatches_)):e=eT(t,n,[]),Jx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==_x?e:void 0}function eT(e,t,n){if(Bx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Tx];if(!i)return Rx(t,(r,o)=>tT(e,i,t,r,o,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return nT(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let o=t,a=!1;3===i.type_&&(o=new Set(t),t.clear(),a=!0),Rx(o,(r,o)=>tT(e,i,t,r,o,n,a),r),nT(e,t,!1),n&&e.patches_&&Gx("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function tT(e,t,n,r,i,o,a){if(null==i)return;if("object"!=typeof i&&!a)return;const s=Bx(i);if(!s||a){if(Cx(i)){const a=eT(e,i,o&&t&&3!==t.type_&&!Mx(t.assigned_,r)?o.concat(r):void 0);if(jx(n,r,a),!Cx(a))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Ax(i)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[r]===i&&s)return;eT(e,i),t&&t.scope_.parent_||"symbol"==typeof r||!(Lx(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||nT(e,i)}}}function nT(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zx(t,n)}var rT={get(e,t){if(t===Tx)return e;const n=Fx(e);if(!Mx(n,t))return function(e,t,n){var r;const i=aT(t,n);return i?"value"in i?i.value:null==(r=i.get)?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Ax(r)?r:r===oT(e.base_,t)?(lT(e),e.copy_[t]=uT(r,e)):r},has:(e,t)=>t in Fx(e),ownKeys:e=>Reflect.ownKeys(Fx(e)),set(e,t,n){const r=aT(Fx(e),t);if(null==r?void 0:r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=oT(Fx(e),t),a=null==r?void 0:r[Tx];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i==1/o:i!=i&&o!=o)&&(void 0!==n||Mx(e.base_,t)))return!0;lT(e),sT(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==oT(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,lT(e),sT(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=Fx(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){Ox(11)},getPrototypeOf:e=>Ix(e.base_),setPrototypeOf(){Ox(12)}},iT={};function oT(e,t){const n=e[Tx];return(n?Fx(n):e)[t]}function aT(e,t){if(!(t in e))return;let n=Ix(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Ix(n)}}function sT(e){e.modified_||(e.modified_=!0,e.parent_&&sT(e.parent_))}function lT(e){e.copy_||(e.copy_=Vx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Rx(rT,(e,t)=>{iT[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),iT.deleteProperty=function(e,t){return iT.set.call(this,e,t,void 0)},iT.set=function(e,t,n){return rT.set.call(this,e[0],t,n,e[0])};function uT(e,t){const n=Lx(e)?Gx("MapSet").proxyMap_(e,t):Ux(e)?Gx("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Kx(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=rT;n&&(i=[r],o=iT);const{revoke:a,proxy:s}=Proxy.revocable(i,o);return r.draft_=s,r.revoke_=a,s}(e,t);return(t?t.scope_:Kx()).drafts_.push(n),n}function cT(e){if(!Ax(e)||Bx(e))return e;const t=e[Tx];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Vx(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Vx(e,!0);return Rx(n,(e,t)=>{jx(n,e,cT(t))},r),t&&(t.finalized_=!1),n}var dT=new class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,n)=>{if("function"==typeof e&&"function"!=typeof t){const n=t;t=e;const r=this;return function(e=n,...i){return r.produce(e,e=>t.call(this,e,...i))}}let r;if("function"!=typeof t&&Ox(6),void 0!==n&&"function"!=typeof n&&Ox(7),Ax(e)){const i=Xx(this),o=uT(e,void 0);let a=!0;try{r=t(o),a=!1}finally{a?Jx(i):Yx(i)}return Wx(i,n),Zx(r,i)}if(!e||"object"!=typeof e){if(r=t(e),void 0===r&&(r=e),r===_x&&(r=void 0),this.autoFreeze_&&zx(r,!0),n){const t=[],i=[];Gx("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}Ox(1)},this.produceWithPatches=(e,t)=>{if("function"==typeof e)return(t,...n)=>this.produceWithPatches(t,t=>e(t,...n));let n,r;const i=this.produce(e,t,(e,t)=>{n=e,r=t});return[i,n,r]},"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"==typeof(null==e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"==typeof(null==e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ax(e)||Ox(8),Cx(e)&&(e=function(e){Cx(e)||Ox(10);return cT(e)}(e));const t=Xx(this),n=uT(e,void 0);return n[Tx].isManual_=!0,Yx(t),n}finishDraft(e,t){const n=e&&e[Tx];n&&n.isManual_||Ox(9);const{scope_:r}=n;return Wx(r,t),Zx(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=Gx("Patches").applyPatches_;return Cx(e)?r(e,t):this.produce(e,e=>r(e,t))}};dT.produce;var hT=gS({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:aS()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=KE(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:aS()},removeLegendPayload:{reducer(e,t){var n=KE(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:aS()}}}),{setLegendSize:fT,setLegendSettings:pT,addLegendPayload:mT,replaceLegendPayload:gT,removeLegendPayload:yT}=hT.actions,vT=hT.reducer;function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bT.apply(null,arguments)}function wT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ET(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wT(Object(n),!0).forEach(function(t){ST(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ST(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _T(e){return Array.isArray(e)&&Ly(e[0])&&Ly(e[1])?e.join(" ~ "):e}var xT=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:a,itemSorter:s,wrapperClassName:l,labelClassName:u,label:c,labelFormatter:d,accessibilityLayer:h=!1}=e,f=ET({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),p=ET({margin:0},i),g=!By(c),y=g?c:"",v=Bm("recharts-default-tooltip",l),b=Bm("recharts-tooltip-label",u);g&&d&&null!=o&&(y=d(c,o));var w=h?{role:"status","aria-live":"assertive"}:{};return m.createElement("div",bT({className:v,style:f},w),m.createElement("p",{className:b,style:p},m.isValidElement(y)?y:"".concat(y)),(()=>{if(o&&o.length){var e=(s?kw(o,s):o).map((e,n)=>{if("none"===e.type)return null;var i=e.formatter||a||_T,{value:s,name:l}=e,u=s,c=l;if(i){var d=i(s,l,e,n,o);if(Array.isArray(d))[u,c]=d;else{if(null==d)return null;u=d}}var h=ET({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},r);return m.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:h},Ly(c)?m.createElement("span",{className:"recharts-tooltip-item-name"},c):null,Ly(c)?m.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,m.createElement("span",{className:"recharts-tooltip-item-value"},u),m.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return m.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},TT="recharts-tooltip-wrapper",OT={visibility:"hidden"};function IT(e){var{coordinate:t,translateX:n,translateY:r}=e;return Bm(TT,{["".concat(TT,"-right")]:jy(n)&&t&&jy(t.x)&&n>=t.x,["".concat(TT,"-left")]:jy(n)&&t&&jy(t.x)&&n<t.x,["".concat(TT,"-bottom")]:jy(r)&&t&&jy(t.y)&&r>=t.y,["".concat(TT,"-top")]:jy(r)&&t&&jy(t.y)&&r<t.y})}function CT(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:a,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(o&&jy(o[r]))return o[r];var c=n[r]-s-(i>0?i:0),d=n[r]+i;if(t[r])return a[r]?c:d;var h=l[r];return null==h?0:a[r]?c<h?Math.max(d,h):Math.max(c,h):null==u?0:d+s>h+u?Math.max(c,h):Math.max(d,h)}function AT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AT(Object(n),!0).forEach(function(t){PT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function PT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class NT extends m.PureComponent{constructor(){super(...arguments),PT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),PT(this,"handleKeyDown",e=>{var t,n,r,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(n=this.props.coordinate)||void 0===n?void 0:n.x)&&void 0!==t?t:0,y:null!==(r=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==r?r:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:t,animationDuration:n,animationEasing:r,children:i,coordinate:o,hasPayload:a,isAnimationActive:s,offset:l,position:u,reverseDirection:c,useTranslate3d:d,viewBox:h,wrapperStyle:f,lastBoundingBox:p,innerRef:g,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:b}=function(e){var t,n,r,{allowEscapeViewBox:i,coordinate:o,offsetTopLeft:a,position:s,reverseDirection:l,tooltipBox:u,useTranslate3d:c,viewBox:d}=e;return t=u.height>0&&u.width>0&&o?function(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:n=CT({allowEscapeViewBox:i,coordinate:o,key:"x",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u.width,viewBox:d,viewBoxDimension:d.width}),translateY:r=CT({allowEscapeViewBox:i,coordinate:o,key:"y",offsetTopLeft:a,position:s,reverseDirection:l,tooltipDimension:u.height,viewBox:d,viewBoxDimension:d.height}),useTranslate3d:c}):OT,{cssProperties:t,cssClasses:IT({translateX:n,translateY:r,coordinate:o})}}({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:l,position:u,reverseDirection:c,tooltipBox:{height:p.height,width:p.width},useTranslate3d:d,viewBox:h}),w=y?{}:kT(kT({transition:s&&e?"transform ".concat(n,"ms ").concat(r):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&a?"visible":"hidden",position:"absolute",top:0,left:0}),E=kT(kT({},w),{},{visibility:!this.state.dismissed&&e&&a?"visible":"hidden"},f);return m.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:E,ref:g},i)}}var RT=()=>{var e;return null===(e=Qb(e=>e.rootProps.accessibilityLayer))||void 0===e||e};function DT(){return DT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},DT.apply(null,arguments)}function MT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function jT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MT(Object(n),!0).forEach(function(t){LT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function LT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var UT={curveBasisClosed:function(e){return new Gg(e)},curveBasisOpen:function(e){return new Kg(e)},curveBasis:function(e){return new $g(e)},curveBumpX:function(e){return new Tg(e,!0)},curveBumpY:function(e){return new Tg(e,!1)},curveLinearClosed:function(e){return new Wg(e)},curveLinear:wg,curveMonotoneX:function(e){return new Zg(e)},curveMonotoneY:function(e){return new ey(e)},curveNatural:function(e){return new ny(e)},curveStep:function(e){return new iy(e,.5)},curveStepAfter:function(e){return new iy(e,1)},curveStepBefore:function(e){return new iy(e,0)}},FT=e=>r_(e.x)&&r_(e.y),VT=e=>null!=e.base&&FT(e.base)&&FT(e),zT=e=>e.x,qT=e=>e.y,BT=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=e,a=((e,t)=>{if("function"==typeof e)return e;var n="curve".concat(Hy(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?UT[n]||wg:UT["".concat(n).concat("vertical"===t?"Y":"X")]})(t,i),s=o?n.filter(FT):n;if(Array.isArray(r)){var l=n.map((e,t)=>jT(jT({},e),{},{base:r[t]}));return("vertical"===i?xg().y(qT).x1(zT).x0(e=>e.base.x):xg().x(zT).y1(qT).y0(e=>e.base.y)).defined(VT).curve(a)(o?l.filter(VT):l)}return("vertical"===i&&jy(r)?xg().y(qT).x1(zT).x0(r):jy(r)?xg().x(zT).y1(qT).y0(r):_g().x(zT).y(qT)).defined(FT).curve(a)(s)},HT=e=>{var{className:t,points:n,path:r,pathRef:i}=e,o=Ex();if(!(n&&n.length||r))return null;var a={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||o,connectNulls:e.connectNulls},s=n&&n.length?BT(a):r;return m.createElement("path",DT({},Jm(e),(e=>{if(!e||"function"==typeof e||"boolean"==typeof e)return null;var t=e;if(m.isValidElement(e)&&(t=e.props),"object"!=typeof t&&"function"!=typeof t)return null;var n={};return Object.keys(t).forEach(e=>{$m(e)&&(n[e]=n=>t[e](t,n))}),n})(e),{className:Bm("recharts-curve",t),d:null===s?void 0:s,ref:i}))},$T=["x","y","top","left","width","height","className"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GT.apply(null,arguments)}function KT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var JT=(e,t,n,r,i,o)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(o,",").concat(t,"h").concat(n),YT=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:o=0,height:a=0,className:s}=e,l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KT(Object(n),!0).forEach(function(t){WT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({x:t,y:n,top:r,left:i,width:o,height:a},function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,$T));return jy(t)&&jy(n)&&jy(o)&&jy(a)&&jy(r)&&jy(i)?m.createElement("path",GT({},Xm(l),{className:Bm("recharts-cross",s),d:JT(t,n,o,a,r,i)})):null};function XT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function QT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?XT(Object(n),!0).forEach(function(t){ZT(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ZT(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eO=(e,t,n)=>e.map(e=>{return"".concat((r=e,r.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(n);var r}).join(","),tO=(e,t)=>Object.keys(t).reduce((n,r)=>QT(QT({},n),{},{[r]:e(r,t[r])}),{});function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(t){iO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function iO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oO=(e,t,n)=>e+(t-e)*n,aO=e=>{var{from:t,to:n}=e;return t!==n},sO=(e,t,n)=>{var r=tO((t,n)=>{if(aO(n)){var[r,i]=e(n.from,n.to,n.velocity);return rO(rO({},n),{},{from:r,velocity:i})}return n},t);return n<1?tO((e,t)=>aO(t)&&null!=r[e]?rO(rO({},t),{},{velocity:oO(t.velocity,r[e].velocity,n),from:oO(t.from,r[e].from,n)}):t,t):sO(e,r,n-1)};function lO(e,t,n,r,i,o){var a,s=r.reduce((n,r)=>rO(rO({},n),{},{[r]:{from:e[r],velocity:0,to:t[r]}}),{}),l=null,u=r=>{a||(a=r);var c=(r-a)/n.dt;s=sO(n,s,c),i(rO(rO(rO({},e),t),tO((e,t)=>t.from,s))),a=r,Object.values(s).filter(aO).length&&(l=o.setTimeout(u))};return()=>(l=o.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}const uO=(e,t,n,r,i,o)=>{var a,s,l=(a=e,s=t,[Object.keys(a),Object.keys(s)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==n?()=>(i(rO(rO({},e),t)),()=>{}):!0===n.isStepper?lO(e,t,n,l,i,o):function(e,t,n,r,i,o,a){var s,l=null,u=i.reduce((n,r)=>{var i=e[r],o=t[r];return null==i||null==o?n:rO(rO({},n),{},{[r]:[i,o]})},{}),c=i=>{s||(s=i);var d=(i-s)/r,h=tO((e,t)=>oO(...t,n(d)),u);if(o(rO(rO(rO({},e),t),h)),d<1)l=a.setTimeout(c);else{var f=tO((e,t)=>oO(...t,n(1)),u);o(rO(rO(rO({},e),t),f))}};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,n,r,l,i,o)};var cO=1e-4,dO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],hO=(e,t)=>e.map((e,n)=>e*t**n).reduce((e,t)=>e+t),fO=(e,t)=>n=>{var r=dO(e,t);return hO(r,n)},pO=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var r=(e=>{var t,n=e.split("(");if(2!==n.length||"cubic-bezier"!==n[0])return null;var r=null===(t=n[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==r||4!==r.length)return null;var i=r.map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]})(t[0]);if(r)return r}return 4===t.length?t:[0,0,1,1]},mO=(e,t,n,r)=>{var i,o,a=fO(e,n),s=fO(t,r),l=(i=e,o=n,e=>{var t=[...dO(i,o).map((e,t)=>e*t).slice(1),0];return hO(t,e)}),u=e=>e>1?1:e<0?0:e,c=e=>{for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=a(n)-t,o=l(n);if(Math.abs(i-t)<cO||o<cO)return s(n);n=u(n-i/o)}return s(n)};return c.isStepper=!1,c},gO=function(){return mO(...pO(...arguments))},yO=e=>{if("string"==typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gO(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,i=(e,i,o)=>{var a=o+(-(e-i)*t-o*n)*r/1e3,s=o*r/1e3+e;return Math.abs(s-i)<cO&&Math.abs(a)<cO?[i,0]:[s,a]};return i.isStepper=!0,i.dt=r,i}();default:if("cubic-bezier"===e.split("(")[0])return gO(e)}return"function"==typeof e?e:null};class vO{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=performance.now(),r=null,i=o=>{o-n>=t?e(o):"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(i))};return r=requestAnimationFrame(i),()=>{null!=r&&cancelAnimationFrame(r)}}}function bO(){return e=new vO,t=()=>null,n=!1,r=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,[s,...l]=a;return"number"==typeof s?void(r=e.setTimeout(i.bind(null,l),s)):(i(s),void(r=e.setTimeout(i.bind(null,l))))}"string"==typeof o&&t(o),"object"==typeof o&&t(o),"function"==typeof o&&o()}},{stop:()=>{n=!0},start:e=>{n=!1,r&&(r(),r=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e};var e,t,n,r,i}var wO=m.createContext(bO);var EO=!("undefined"!=typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout),SO={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},_O={t:0},xO={t:1};function TO(e){var t,n,r,i=ov(e,SO),{isActive:o,canBegin:a,duration:s,easing:l,begin:u,onAnimationEnd:c,onAnimationStart:d,children:h}=i,f="auto"===o?!EO:o,p=(t=i.animationId,n=i.animationManager,r=m.useContext(wO),m.useMemo(()=>null!=n?n:r(t),[t,n,r])),[g,y]=m.useState(f?_O:xO),v=m.useRef(null);return m.useEffect(()=>{f||y(xO)},[f]),m.useEffect(()=>{if(!f||!a)return Gy;var e=uO(_O,xO,yO(l),s,y,p.getTimeoutController());return p.start([d,u,()=>{v.current=e()},s,c]),()=>{p.stop(),v.current&&v.current(),c()}},[f,a,s,l,u,d,c,p]),h(g.t)}function OO(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=m.useRef(Fy(t)),r=m.useRef(e);return r.current!==e&&(n.current=Fy(t),r.current=e),n.current}var IO,CO,AO,kO,PO,NO,RO,DO,MO,jO,LO=["radius"],UO=["radius"];function FO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function VO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FO(Object(n),!0).forEach(function(t){zO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function zO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qO.apply(null,arguments)}function BO(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $O=(e,t,n,r,i)=>{var o,a=Py(n),s=Py(r),l=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,c=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0;if(l>0&&i instanceof Array){for(var h=[0,0,0,0],f=0;f<4;f++)h[f]=i[f]>l?l:i[f];o=Ny(IO||(IO=HO(["M",",",""])),e,t+u*h[0]),h[0]>0&&(o+=Ny(CO||(CO=HO(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+c*h[0],t)),o+=Ny(AO||(AO=HO(["L ",",",""])),e+n-c*h[1],t),h[1]>0&&(o+=Ny(kO||(kO=HO(["A ",",",",0,0,",",\n        ",",",""])),h[1],h[1],d,e+n,t+u*h[1])),o+=Ny(PO||(PO=HO(["L ",",",""])),e+n,t+r-u*h[2]),h[2]>0&&(o+=Ny(NO||(NO=HO(["A ",",",",0,0,",",\n        ",",",""])),h[2],h[2],d,e+n-c*h[2],t+r)),o+=Ny(RO||(RO=HO(["L ",",",""])),e+c*h[3],t+r),h[3]>0&&(o+=Ny(DO||(DO=HO(["A ",",",",0,0,",",\n        ",",",""])),h[3],h[3],d,e,t+r-u*h[3])),o+="Z"}else if(l>0&&i===+i&&i>0){var p=Math.min(l,i);o=Ny(MO||(MO=HO(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+u*p,p,p,d,e+c*p,t,e+n-c*p,t,p,p,d,e+n,t+u*p,e+n,t+r-u*p,p,p,d,e+n-c*p,t+r,e+c*p,t+r,p,p,d,e,t+r-u*p)}else o=Ny(jO||(jO=HO(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return o},GO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KO=e=>{var t=ov(e,GO),n=m.useRef(null),[r,i]=m.useState(-1);m.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&i(e)}catch(t){}},[]);var{x:o,y:a,width:s,height:l,radius:u,className:c}=t,{animationEasing:d,animationDuration:h,animationBegin:f,isAnimationActive:p,isUpdateAnimationActive:g}=t,y=m.useRef(s),v=m.useRef(l),b=m.useRef(o),w=m.useRef(a),E=OO(m.useMemo(()=>({x:o,y:a,width:s,height:l,radius:u}),[o,a,s,l,u]),"rectangle-");if(o!==+o||a!==+a||s!==+s||l!==+l||0===s||0===l)return null;var S=Bm("recharts-rectangle",c);if(!g){var _=Xm(t),{radius:x}=_,T=BO(_,LO);return m.createElement("path",qO({},T,{x:Py(o),y:Py(a),width:Py(s),height:Py(l),radius:"number"==typeof u?u:void 0,className:S,d:$O(o,a,s,l,u)}))}var O=y.current,I=v.current,C=b.current,A=w.current,k="0px ".concat(-1===r?1:r,"px"),P="".concat(r,"px 0px"),N=eO(["strokeDasharray"],h,"string"==typeof d?d:GO.animationEasing);return m.createElement(TO,{animationId:E,key:E,canBegin:r>0,duration:h,easing:d,isActive:g,begin:f},e=>{var r,i=qy(O,s,e),c=qy(I,l,e),d=qy(C,o,e),h=qy(A,a,e);n.current&&(y.current=i,v.current=c,b.current=d,w.current=h),r=p?e>0?{transition:N,strokeDasharray:P}:{strokeDasharray:k}:{strokeDasharray:P};var f=Xm(t),{radius:g}=f,E=BO(f,UO);return m.createElement("path",qO({},E,{radius:"number"==typeof u?u:void 0,className:S,d:$O(d,h,i,c,u),ref:n,style:VO(VO({},r),t.style)}))})};function WO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function JO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?WO(Object(n),!0).forEach(function(t){YO(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function YO(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var XO,QO,ZO,eI,tI,nI,rI,iI=Math.PI/180,oI=e=>180*e/Math.PI,aI=(e,t,n,r)=>({x:e+Math.cos(-iI*r)*n,y:t+Math.sin(-iI*r)*n}),sI=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},lI=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:o}=t,a=((e,t)=>{var{x:n,y:r}=e,{x:i,y:o}=t;return Math.sqrt((n-i)**2+(r-o)**2)})({x:n,y:r},{x:i,y:o});if(a<=0)return{radius:a,angle:0};var s=(n-i)/a,l=Math.acos(s);return r>o&&(l=2*Math.PI-l),{radius:a,angle:oI(l),angleInRadian:l}},uI=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),o=Math.floor(r/360);return e+360*Math.min(i,o)},cI=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:o}=lI({x:n,y:r},t),{innerRadius:a,outerRadius:s}=t;if(i<a||i>s)return null;if(0===i)return null;var l,{startAngle:u,endAngle:c}=(e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:t-360*o,endAngle:n-360*o}})(t),d=o;if(u<=c){for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}else{for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}return l?JO(JO({},t),{},{radius:i,angle:uI(d,t)}):null};function dI(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:o}=e;return{points:[aI(t,n,r,i),aI(t,n,r,o)],cx:t,cy:n,radius:r,startAngle:i,endAngle:o}}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(null,arguments)}function fI(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var pI=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:o,isExternal:a,cornerRadius:s,cornerIsExternal:l}=e,u=s*(a?1:-1)+r,c=Math.asin(s/u)/iI,d=l?i:i+o*c,h=l?i-o*c:i;return{center:aI(t,n,u,d),circleTangency:aI(t,n,r,d),lineTangency:aI(t,n,u*Math.cos(c*iI),h),theta:c}},mI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:a}=e,s=((e,t)=>Ry(t-e)*Math.min(Math.abs(t-e),359.999))(o,a),l=o+s,u=aI(t,n,i,o),c=aI(t,n,i,l),d=Ny(XO||(XO=fI(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),u.x,u.y,i,i,+(Math.abs(s)>180),+(o>l),c.x,c.y);if(r>0){var h=aI(t,n,r,o),f=aI(t,n,r,l);d+=Ny(QO||(QO=fI(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),f.x,f.y,r,r,+(Math.abs(s)>180),+(o<=l),h.x,h.y)}else d+=Ny(ZO||(ZO=fI(["L ",","," Z"])),t,n);return d},gI={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yI=e=>{var t=ov(e,gI),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c,className:d}=t;if(o<i||u===c)return null;var h,f=Bm("recharts-sector",d),p=o-i,g=Vy(a,p,0,!0);return h=g>0&&Math.abs(u-c)<360?(e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:a,cornerIsExternal:s,startAngle:l,endAngle:u}=e,c=Ry(u-l),{circleTangency:d,lineTangency:h,theta:f}=pI({cx:t,cy:n,radius:i,angle:l,sign:c,cornerRadius:o,cornerIsExternal:s}),{circleTangency:p,lineTangency:m,theta:g}=pI({cx:t,cy:n,radius:i,angle:u,sign:-c,cornerRadius:o,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-f-g;if(y<0)return a?Ny(eI||(eI=fI(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),h.x,h.y,o,o,2*o,o,o,2*-o):mI({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var v=Ny(tI||(tI=fI(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),h.x,h.y,o,o,+(c<0),d.x,d.y,i,i,+(y>180),+(c<0),p.x,p.y,o,o,+(c<0),m.x,m.y);if(r>0){var{circleTangency:b,lineTangency:w,theta:E}=pI({cx:t,cy:n,radius:r,angle:l,sign:c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),{circleTangency:S,lineTangency:_,theta:x}=pI({cx:t,cy:n,radius:r,angle:u,sign:-c,isExternal:!0,cornerRadius:o,cornerIsExternal:s}),T=s?Math.abs(l-u):Math.abs(l-u)-E-x;if(T<0&&0===o)return"".concat(v,"L").concat(t,",").concat(n,"Z");v+=Ny(nI||(nI=fI(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),_.x,_.y,o,o,+(c<0),S.x,S.y,r,r,+(T>180),+(c>0),b.x,b.y,o,o,+(c<0),w.x,w.y)}else v+=Ny(rI||(rI=fI(["L",",","Z"])),t,n);return v})({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(g,p/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:c}):mI({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c}),m.createElement("path",hI({},Xm(t),{className:f,d:h}))};function vI(e,t,n){if("horizontal"===e)return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if("vertical"===e)return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(tv(t)){if("centric"===e){var{cx:r,cy:i,innerRadius:o,outerRadius:a,angle:s}=t,l=aI(r,i,o,s),u=aI(r,i,a,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return dI(t)}}var bI,wI,EI,SI,_I,xI={},TI={},OI={};function II(){return bI||(bI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yw();e.toNumber=function(e){return t.isSymbol(e)?NaN:Number(e)}}(OI)),OI}function CI(){return wI||(wI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=II();e.toFinite=function(e){if(!e)return 0===e?e:0;if((e=t.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e==e?e:0}}(TI)),TI}function AI(){return _I?SI:(_I=1,SI=(EI||(EI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cw(),n=CI();e.range=function(e,r,i){i&&"number"!=typeof i&&t.isIterateeCall(e,r,i)&&(r=i=void 0),e=n.toFinite(e),void 0===r?(r=e,e=0):r=n.toFinite(r),i=void 0===i?e<r?1:-1:n.toFinite(i);const o=Math.max(Math.ceil((r-e)/(i||1)),0),a=new Array(o);for(let t=0;t<o;t++)a[t]=e,e+=i;return a}}(xI)),xI).range)}const kI=r(AI());function PI(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function NI(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function RI(e){let t,n,r;function i(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<0?i=t+1:o=t}while(i<o)}return i}return 2!==e.length?(t=PI,n=(t,n)=>PI(e(t),n),r=(t,n)=>e(t)-n):(t=e===PI||e===NI?e:DI,n=e,r=e),{left:i,center:function(e,t,n=0,o=e.length){const a=i(e,t,n,o-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r,i=0,o=e.length){if(i<o){if(0!==t(r,r))return o;do{const t=i+o>>>1;n(e[t],r)<=0?i=t+1:o=t}while(i<o)}return i}}}function DI(){return 0}function MI(e){return null===e?NaN:+e}const jI=RI(PI).right;RI(MI).center;class LI extends Map{constructor(e,t=FI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(UI(this,e))}has(e){return super.has(UI(this,e))}set(e,t){return super.set(function({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}(this,e),t)}delete(e){return super.delete(function({_intern:e,_key:t},n){const r=t(n);e.has(r)&&(n=e.get(r),e.delete(r));return n}(this,e))}}function UI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FI(e){return null!==e&&"object"==typeof e?e.valueOf():e}function VI(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}const zI=Math.sqrt(50),qI=Math.sqrt(10),BI=Math.sqrt(2);function HI(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zI?10:o>=qI?5:o>=BI?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?HI(e,t,2*n):[s,l,u]}function $I(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,o,a]=r?HI(t,e,n):HI(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function GI(e,t,n){return HI(e=+e,t=+t,n=+n)[2]}function KI(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?GI(t,e,n):GI(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function WI(e,t){let n;for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);return n}function JI(e,t){let n;for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);return n}function YI(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?VI:function(e=PI){if(e===PI)return VI;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(i);r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);YI(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(r,Math.floor(t+(o-a)*l/o+u)),i)}const o=e[t];let a=n,s=r;for(XI(e,n,t),i(e[r],o)>0&&XI(e,n,r);a<s;){for(XI(e,a,s),++a,--s;i(e[a],o)<0;)++a;for(;i(e[s],o)>0;)--s}0===i(e[n],o)?XI(e,n,s):(++s,XI(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function XI(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function QI(e,t,n=MI){if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e);return a+(+n(e[o+1],o+1,e)-a)*(i-o)}}function ZI(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function eC(e,t){switch(arguments.length){case 0:break;case 1:"function"==typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"==typeof t?this.interpolator(t):this.range(t)}return this}const tC=Symbol("implicit");function nC(){var e=new LI,t=[],n=[],r=tC;function i(i){let o=e.get(i);if(void 0===o){if(r!==tC)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new LI;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return nC(t,n).unknown(r)},ZI.apply(i,arguments),i}function rC(){var e,t,n=nC().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,l=0,u=0,c=.5;function d(){var n=r().length,d=a<o,h=d?a:o,f=d?o:a;e=(f-h)/Math.max(1,n-l+2*u),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*c,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),o=new Array(i);++r<i;)o[r]=e+r*n;return o}(n).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([o,a]=e,o=+o,a=+a,d()):[o,a]},n.rangeRound=function(e){return[o,a]=e,o=+o,a=+a,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,u=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(u=+e,d()):u},n.align=function(e){return arguments.length?(c=Math.max(0,Math.min(1,e)),d()):c},n.copy=function(){return rC(r(),[o,a]).round(s).paddingInner(l).paddingOuter(u).align(c)},ZI.apply(d(),arguments)}function iC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return iC(t())},e}function oC(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function aC(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sC(){}var lC=.7,uC=1/lC,cC="\\s*([+-]?\\d+)\\s*",dC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hC="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fC=/^#([0-9a-f]{3,8})$/,pC=new RegExp(`^rgb\\(${cC},${cC},${cC}\\)$`),mC=new RegExp(`^rgb\\(${hC},${hC},${hC}\\)$`),gC=new RegExp(`^rgba\\(${cC},${cC},${cC},${dC}\\)$`),yC=new RegExp(`^rgba\\(${hC},${hC},${hC},${dC}\\)$`),vC=new RegExp(`^hsl\\(${dC},${hC},${hC}\\)$`),bC=new RegExp(`^hsla\\(${dC},${hC},${hC},${dC}\\)$`),wC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function EC(){return this.rgb().formatHex()}function SC(){return this.rgb().formatRgb()}function _C(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=fC.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?xC(t):3===n?new IC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?TC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?TC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=pC.exec(e))?new IC(t[1],t[2],t[3],1):(t=mC.exec(e))?new IC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=gC.exec(e))?TC(t[1],t[2],t[3],t[4]):(t=yC.exec(e))?TC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vC.exec(e))?RC(t[1],t[2]/100,t[3]/100,1):(t=bC.exec(e))?RC(t[1],t[2]/100,t[3]/100,t[4]):wC.hasOwnProperty(e)?xC(wC[e]):"transparent"===e?new IC(NaN,NaN,NaN,0):null}function xC(e){return new IC(e>>16&255,e>>8&255,255&e,1)}function TC(e,t,n,r){return r<=0&&(e=t=n=NaN),new IC(e,t,n,r)}function OC(e,t,n,r){return 1===arguments.length?((i=e)instanceof sC||(i=_C(i)),i?new IC((i=i.rgb()).r,i.g,i.b,i.opacity):new IC):new IC(e,t,n,null==r?1:r);var i}function IC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function CC(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}`}function AC(){const e=kC(this.opacity);return`${1===e?"rgb(":"rgba("}${PC(this.r)}, ${PC(this.g)}, ${PC(this.b)}${1===e?")":`, ${e})`}`}function kC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function PC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function NC(e){return((e=PC(e))<16?"0":"")+e.toString(16)}function RC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new MC(e,t,n,r)}function DC(e){if(e instanceof MC)return new MC(e.h,e.s,e.l,e.opacity);if(e instanceof sC||(e=_C(e)),!e)return new MC;if(e instanceof MC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=t===o?(n-r)/s+6*(n<r):n===o?(r-t)/s+2:(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new MC(a,s,l,e.opacity)}function MC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function jC(e){return(e=(e||0)%360)<0?e+360:e}function LC(e){return Math.max(0,Math.min(1,e||0))}function UC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}oC(sC,_C,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:EC,formatHex:EC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return DC(this).formatHsl()},formatRgb:SC,toString:SC}),oC(IC,OC,aC(sC,{brighter(e){return e=null==e?uC:Math.pow(uC,e),new IC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?lC:Math.pow(lC,e),new IC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new IC(PC(this.r),PC(this.g),PC(this.b),kC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:CC,formatHex:CC,formatHex8:function(){return`#${NC(this.r)}${NC(this.g)}${NC(this.b)}${NC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:AC,toString:AC})),oC(MC,function(e,t,n,r){return 1===arguments.length?DC(e):new MC(e,t,n,null==r?1:r)},aC(sC,{brighter(e){return e=null==e?uC:Math.pow(uC,e),new MC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?lC:Math.pow(lC,e),new MC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new IC(UC(e>=240?e-240:e+120,i,r),UC(e,i,r),UC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new MC(jC(this.h),LC(this.s),LC(this.l),kC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kC(this.opacity);return`${1===e?"hsl(":"hsla("}${jC(this.h)}, ${100*LC(this.s)}%, ${100*LC(this.l)}%${1===e?")":`, ${e})`}`}}));const FC=e=>()=>e;function VC(e){return 1===(e=+e)?zC:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):FC(isNaN(t)?n:t)}}function zC(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):FC(isNaN(e)?t:e)}const qC=function e(t){var n=VC(t);function r(e,t){var r=n((e=OC(e)).r,(t=OC(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),a=zC(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=a(t),e+""}}return r.gamma=e,r}(1);function BC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(o){for(n=0;n<r;++n)i[n]=e[n]*(1-o)+t[n]*o;return i}}function HC(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=XC(e[n],t[n]);for(;n<r;++n)a[n]=t[n];return function(e){for(n=0;n<i;++n)a[n]=o[n](e);return a}}function $C(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function GC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function KC(e,t){var n,r={},i={};for(n in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)n in e?r[n]=XC(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var WC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,JC=new RegExp(WC.source,"g");function YC(e,t){var n,r,i,o=WC.lastIndex=JC.lastIndex=0,a=-1,s=[],l=[];for(e+="",t+="";(n=WC.exec(e))&&(r=JC.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:GC(n,r)})),o=JC.lastIndex;return o<t.length&&(i=t.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function XC(e,t){var n,r,i=typeof t;return null==t||"boolean"===i?FC(t):("number"===i?GC:"string"===i?(n=_C(t))?(t=n,qC):YC:t instanceof _C?qC:t instanceof Date?$C:(r=t,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(t)?HC:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?KC:GC:BC))(e,t)}function QC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function ZC(e){return+e}var eA=[0,1];function tA(e){return e}function nA(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:(n=isNaN(t)?NaN:.5,function(){return n});var n}function rA(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=nA(i,r),o=n(a,o)):(r=nA(r,i),o=n(o,a)),function(e){return o(r(e))}}function iA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=nA(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=jI(e,t,1,r)-1;return o[n](i[n](t))}}function oA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function aA(){var e,t,n,r,i,o,a=eA,s=eA,l=XC,u=tA;function c(){var e,t,n,l=Math.min(a.length,s.length);return u!==tA&&(e=a[0],t=a[l-1],e>t&&(n=e,e=t,t=n),u=function(n){return Math.max(e,Math.min(t,n))}),r=l>2?iA:rA,i=o=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(a.map(e),s,l)))(e(u(t)))}return d.invert=function(n){return u(t((o||(o=r(s,a.map(e),GC)))(n)))},d.domain=function(e){return arguments.length?(a=Array.from(e,ZC),c()):a.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),c()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=QC,c()},d.clamp=function(e){return arguments.length?(u=!!e||tA,c()):u!==tA},d.interpolate=function(e){return arguments.length?(l=e,c()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,c()}}function sA(){return aA()(tA,tA)}function lA(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function uA(e){return(e=lA(Math.abs(e)))?e[1]:NaN}var cA,dA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hA(e){if(!(t=dA.exec(e)))throw new Error("invalid format: "+e);var t;return new fA({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function fA(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function pA(e,t){var n=lA(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}hA.prototype=fA.prototype,fA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const mA={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pA(100*e,t),r:pA,s:function(e,t){var n=lA(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(cA=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lA(e,Math.max(0,t+o-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gA(e){return e}var yA,vA,bA,wA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function SA(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?gA:(t=wA.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",o=void 0===e.currency?"":e.currency[1]+"",a=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?gA:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(wA.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",u=void 0===e.minus?"":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=hA(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):mA[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===h?o:/[%p]/.test(v)?l:"",E=mA[v],S=/[defgprs%]/.test(v);function _(e){var i,o,l,h=b,_=w;if("c"===v)_=E(e)+_,e="";else{var x=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:E(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),x&&0===+e&&"+"!==d&&(x=!1),h=(x?"("===d?d:u:"-"===d||"("===d?"":d)+h,_=("s"===v?EA[8+cA/3]:"")+_+(x&&"("===d?")":""),S)for(i=-1,o=e.length;++i<o;)if(48>(l=e.charCodeAt(i))||l>57){_=(46===l?a+e.slice(i+1):e.slice(i))+_,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var T=h.length+e.length+_.length,O=T<p?new Array(p-T+1).join(t):"";switch(m&&f&&(e=r(O+e,O.length?p-_.length:1/0),O=""),n){case"<":e=h+e+_+O;break;case"=":e=h+O+e+_;break;case"^":e=O.slice(0,T=O.length>>1)+h+e+_+O.slice(T);break;default:e=O+h+e+_}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),_.toString=function(){return e+""},_}return{format:d,formatPrefix:function(e,t){var n=d(((e=hA(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(uA(t)/3))),i=Math.pow(10,-r),o=EA[8+r/3];return function(e){return n(i*e)+o}}}}function _A(e,t,n,r){var i,o=KI(e,t,n);switch((r=hA(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(uA(t)/3)))-uA(Math.abs(e)))}(o,a))||(r.precision=i),bA(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,uA(t)-uA(e))+1}(o,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-uA(Math.abs(e)))}(o))||(r.precision=i-2*("%"===r.type))}return vA(r)}function xA(e){var t=e.domain;return e.ticks=function(e){var n=t();return $I(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return _A(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,o=t(),a=0,s=o.length-1,l=o[a],u=o[s],c=10;for(u<l&&(i=l,l=u,u=i,i=a,a=s,s=i);c-- >0;){if((i=GI(l,u,n))===r)return o[a]=l,o[s]=u,t(o);if(i>0)l=Math.floor(l/i)*i,u=Math.ceil(u/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,u=Math.floor(u*i)/i}r=i}return e},e}function TA(e,t){var n,r=0,i=(e=e.slice()).length-1,o=e[r],a=e[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),e[r]=t.floor(o),e[i]=t.ceil(a),e}function OA(e){return Math.log(e)}function IA(e){return Math.exp(e)}function CA(e){return-Math.log(-e)}function AA(e){return-Math.exp(-e)}function kA(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PA(e){return(t,n)=>-e(-t,n)}function NA(e){const t=e(OA,IA),n=t.domain;let r,i,o=10;function a(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(o),i=function(e){return 10===e?kA:e===Math.E?Math.exp:t=>Math.pow(e,t)}(o),n()[0]<0?(r=PA(r),i=PA(i),e(CA,AA)):e(OA,IA),t}return t.base=function(e){return arguments.length?(o=+e,a()):o},t.domain=function(e){return arguments.length?(n(e),a()):n()},t.ticks=e=>{const t=n();let a=t[0],s=t[t.length-1];const l=s<a;l&&([a,s]=[s,a]);let u,c,d=r(a),h=r(s);const f=null==e?10:+e;let p=[];if(!(o%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),a>0){for(;d<=h;++d)for(u=1;u<o;++u)if(c=d<0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}}else for(;d<=h;++d)for(u=o-1;u>=1;--u)if(c=d>0?u/i(-d):u*i(d),!(c<a)){if(c>s)break;p.push(c)}2*p.length<f&&(p=$I(a,s,f))}else p=$I(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===o?"s":","),"function"!=typeof n&&(o%1||null!=(n=hA(n)).precision||(n.trim=!0),n=vA(n)),e===1/0)return n;const a=Math.max(1,o*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*o<o-.5&&(t*=o),t<=a?n(e):""}},t.nice=()=>n(TA(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function RA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function DA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function MA(e){var t=1,n=e(RA(t),DA(t));return n.constant=function(n){return arguments.length?e(RA(t=+n),DA(t)):t},xA(n)}function jA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LA(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function UA(e){return e<0?-e*e:e*e}function FA(e){var t=e(tA,tA),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(tA,tA):.5===n?e(LA,UA):e(jA(n),jA(1/n)):n},xA(t)}function VA(){var e=FA(aA());return e.copy=function(){return oA(e,VA()).exponent(e.exponent())},ZI.apply(e,arguments),e}function zA(e){return Math.sign(e)*e*e}yA=SA({thousands:",",grouping:[3],currency:["$",""]}),vA=yA.format,bA=yA.formatPrefix;const qA=new Date,BA=new Date;function HA(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,o)=>{const a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;let s;do{a.push(s=new Date(+n)),t(n,o),e(n)}while(s<n&&n<r);return a},i.filter=n=>HA(t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)},(e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}),n&&(i.count=(t,r)=>(qA.setTime(+t),BA.setTime(+r),e(qA),e(BA),Math.floor(n(qA,BA))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const $A=HA(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);$A.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?HA(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):$A:null),$A.range;const GA=1e3,KA=6e4,WA=36e5,JA=864e5,YA=6048e5,XA=2592e6,QA=31536e6,ZA=HA(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*GA)},(e,t)=>(t-e)/GA,e=>e.getUTCSeconds());ZA.range;const ek=HA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GA)},(e,t)=>{e.setTime(+e+t*KA)},(e,t)=>(t-e)/KA,e=>e.getMinutes());ek.range;const tk=HA(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*KA)},(e,t)=>(t-e)/KA,e=>e.getUTCMinutes());tk.range;const nk=HA(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*GA-e.getMinutes()*KA)},(e,t)=>{e.setTime(+e+t*WA)},(e,t)=>(t-e)/WA,e=>e.getHours());nk.range;const rk=HA(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*WA)},(e,t)=>(t-e)/WA,e=>e.getUTCHours());rk.range;const ik=HA(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*KA)/JA,e=>e.getDate()-1);ik.range;const ok=HA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/JA,e=>e.getUTCDate()-1);ok.range;const ak=HA(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/JA,e=>Math.floor(e/JA));function sk(e){return HA(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*KA)/YA)}ak.range;const lk=sk(0),uk=sk(1),ck=sk(2),dk=sk(3),hk=sk(4),fk=sk(5),pk=sk(6);function mk(e){return HA(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/YA)}lk.range,uk.range,ck.range,dk.range,hk.range,fk.range,pk.range;const gk=mk(0),yk=mk(1),vk=mk(2),bk=mk(3),wk=mk(4),Ek=mk(5),Sk=mk(6);gk.range,yk.range,vk.range,bk.range,wk.range,Ek.range,Sk.range;const _k=HA(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth());_k.range;const xk=HA(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth());xk.range;const Tk=HA(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Tk.every=e=>isFinite(e=Math.floor(e))&&e>0?HA(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)}):null,Tk.range;const Ok=HA(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());function Ik(e,t,n,r,i,o){const a=[[ZA,1,GA],[ZA,5,5e3],[ZA,15,15e3],[ZA,30,3e4],[o,1,KA],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,WA],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,JA],[r,2,1728e5],[n,1,YA],[t,1,XA],[t,3,7776e6],[e,1,QA]];function s(t,n,r){const i=Math.abs(n-t)/r,o=RI(([,,e])=>e).right(a,i);if(o===a.length)return e.every(KI(t/QA,n/QA,r));if(0===o)return $A.every(Math.max(KI(t,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"==typeof n.range?n:s(e,t,n),o=i?i.range(e,+t+1):[];return r?o.reverse():o},s]}Ok.every=e=>isFinite(e=Math.floor(e))&&e>0?HA(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null,Ok.range;const[Ck,Ak]=Ik(Ok,xk,gk,ak,rk,tk),[kk,Pk]=Ik(Tk,_k,lk,ik,nk,ek);function Nk(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Rk(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Dk(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var Mk,jk,Lk,Uk={"-":"",_:" ",0:"0"},Fk=/^\s*\d+/,Vk=/^%/,zk=/[\\^$*+?|[\]().{}]/g;function qk(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Bk(e){return e.replace(zk,"\\$&")}function Hk(e){return new RegExp("^(?:"+e.map(Bk).join("|")+")","i")}function $k(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function Gk(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Kk(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Wk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Jk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Yk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Xk(e,t,n){var r=Fk.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Qk(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Zk(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function eP(e,t,n){var r=Fk.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function tP(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function nP(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function rP(e,t,n){var r=Fk.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function iP(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function oP(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function aP(e,t,n){var r=Fk.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function sP(e,t,n){var r=Fk.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function lP(e,t,n){var r=Fk.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uP(e,t,n){var r=Vk.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function cP(e,t,n){var r=Fk.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function dP(e,t,n){var r=Fk.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function hP(e,t){return qk(e.getDate(),t,2)}function fP(e,t){return qk(e.getHours(),t,2)}function pP(e,t){return qk(e.getHours()%12||12,t,2)}function mP(e,t){return qk(1+ik.count(Tk(e),e),t,3)}function gP(e,t){return qk(e.getMilliseconds(),t,3)}function yP(e,t){return gP(e,t)+"000"}function vP(e,t){return qk(e.getMonth()+1,t,2)}function bP(e,t){return qk(e.getMinutes(),t,2)}function wP(e,t){return qk(e.getSeconds(),t,2)}function EP(e){var t=e.getDay();return 0===t?7:t}function SP(e,t){return qk(lk.count(Tk(e)-1,e),t,2)}function _P(e){var t=e.getDay();return t>=4||0===t?hk(e):hk.ceil(e)}function xP(e,t){return e=_P(e),qk(hk.count(Tk(e),e)+(4===Tk(e).getDay()),t,2)}function TP(e){return e.getDay()}function OP(e,t){return qk(uk.count(Tk(e)-1,e),t,2)}function IP(e,t){return qk(e.getFullYear()%100,t,2)}function CP(e,t){return qk((e=_P(e)).getFullYear()%100,t,2)}function AP(e,t){return qk(e.getFullYear()%1e4,t,4)}function kP(e,t){var n=e.getDay();return qk((e=n>=4||0===n?hk(e):hk.ceil(e)).getFullYear()%1e4,t,4)}function PP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qk(t/60|0,"0",2)+qk(t%60,"0",2)}function NP(e,t){return qk(e.getUTCDate(),t,2)}function RP(e,t){return qk(e.getUTCHours(),t,2)}function DP(e,t){return qk(e.getUTCHours()%12||12,t,2)}function MP(e,t){return qk(1+ok.count(Ok(e),e),t,3)}function jP(e,t){return qk(e.getUTCMilliseconds(),t,3)}function LP(e,t){return jP(e,t)+"000"}function UP(e,t){return qk(e.getUTCMonth()+1,t,2)}function FP(e,t){return qk(e.getUTCMinutes(),t,2)}function VP(e,t){return qk(e.getUTCSeconds(),t,2)}function zP(e){var t=e.getUTCDay();return 0===t?7:t}function qP(e,t){return qk(gk.count(Ok(e)-1,e),t,2)}function BP(e){var t=e.getUTCDay();return t>=4||0===t?wk(e):wk.ceil(e)}function HP(e,t){return e=BP(e),qk(wk.count(Ok(e),e)+(4===Ok(e).getUTCDay()),t,2)}function $P(e){return e.getUTCDay()}function GP(e,t){return qk(yk.count(Ok(e)-1,e),t,2)}function KP(e,t){return qk(e.getUTCFullYear()%100,t,2)}function WP(e,t){return qk((e=BP(e)).getUTCFullYear()%100,t,2)}function JP(e,t){return qk(e.getUTCFullYear()%1e4,t,4)}function YP(e,t){var n=e.getUTCDay();return qk((e=n>=4||0===n?wk(e):wk.ceil(e)).getUTCFullYear()%1e4,t,4)}function XP(){return"+0000"}function QP(){return"%"}function ZP(e){return+e}function eN(e){return Math.floor(+e/1e3)}function tN(e){return new Date(e)}function nN(e){return e instanceof Date?+e:+new Date(+e)}function rN(e,t,n,r,i,o,a,s,l,u){var c=sA(),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),v=u("%b %d"),b=u("%B"),w=u("%Y");function E(e){return(l(e)<e?f:s(e)<e?p:a(e)<e?m:o(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:w)(e)}return c.invert=function(e){return new Date(d(e))},c.domain=function(e){return arguments.length?h(Array.from(e,nN)):h().map(tN)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?E:u(t)},c.nice=function(e){var n=h();return e&&"function"==typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(TA(n,e)):c},c.copy=function(){return oA(c,rN(e,t,n,r,i,o,a,s,l,u))},c}function iN(){var e,t,n,r,i,o=0,a=1,s=tA,l=!1;function u(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function c(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),u):[s(0),s(1)]}}return u.domain=function(i){return arguments.length?([o,a]=i,e=r(o=+o),t=r(a=+a),n=e===t?0:1/(t-e),u):[o,a]},u.clamp=function(e){return arguments.length?(l=!!e,u):l},u.interpolator=function(e){return arguments.length?(s=e,u):s},u.range=c(XC),u.rangeRound=c(QC),u.unknown=function(e){return arguments.length?(i=e,u):i},function(i){return r=i,e=i(o),t=i(a),n=e===t?0:1/(t-e),u}}function oN(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aN(){var e=FA(iN());return e.copy=function(){return oN(e,aN()).exponent(e.exponent())},eC.apply(e,arguments)}function sN(){var e,t,n,r,i,o,a,s=0,l=.5,u=1,c=1,d=tA,h=!1;function f(e){return isNaN(e=+e)?a:(e=.5+((e=+o(e))-t)*(c*e<c*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=XC);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return o[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(a){return arguments.length?([s,l,u]=a,e=o(s=+s),t=o(l=+l),n=o(u=+u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f):[s,l,u]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(XC),f.rangeRound=p(QC),f.unknown=function(e){return arguments.length?(a=e,f):a},function(a){return o=a,e=a(s),t=a(l),n=a(u),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),c=t<e?-1:1,f}}function lN(){var e=FA(sN());return e.copy=function(){return oN(e,lN()).exponent(e.exponent())},eC.apply(e,arguments)}!function(e){Mk=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths,u=Hk(i),c=$k(i),d=Hk(o),h=$k(o),f=Hk(a),p=$k(a),m=Hk(s),g=$k(s),y=Hk(l),v=$k(l),b={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:hP,e:hP,f:yP,g:CP,G:kP,H:fP,I:pP,j:mP,L:gP,m:vP,M:bP,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:ZP,s:eN,S:wP,u:EP,U:SP,V:xP,w:TP,W:OP,x:null,X:null,y:IP,Y:AP,Z:PP,"%":QP},w={a:function(e){return a[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:NP,e:NP,f:LP,g:WP,G:YP,H:RP,I:DP,j:MP,L:jP,m:UP,M:FP,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:ZP,s:eN,S:VP,u:zP,U:qP,V:HP,w:$P,W:GP,x:null,X:null,y:KP,Y:JP,Z:XP,"%":QP},E={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return x(e,t,n,r)},d:nP,e:nP,f:lP,g:Qk,G:Xk,H:iP,I:iP,j:rP,L:sP,m:tP,M:oP,p:function(e,t,n){var r=u.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:eP,Q:cP,s:dP,S:aP,u:Kk,U:Wk,V:Jk,w:Gk,W:Yk,x:function(e,t,r){return x(e,n,t,r)},X:function(e,t,n){return x(e,r,t,n)},y:Qk,Y:Xk,Z:Zk,"%":uP};function S(e,t){return function(n){var r,i,o,a=[],s=-1,l=0,u=e.length;for(n instanceof Date||(n=new Date(+n));++s<u;)37===e.charCodeAt(s)&&(a.push(e.slice(l,s)),null!=(i=Uk[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(o=t[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(e.slice(l,s)),a.join("")}}function _(e,t){return function(n){var r,i,o=Dk(1900,void 0,1);if(x(o,e,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Rk(Dk(o.y,0,1))).getUTCDay(),r=i>4||0===i?yk.ceil(r):yk(r),r=ok.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Nk(Dk(o.y,0,1))).getDay(),r=i>4||0===i?uk.ceil(r):uk(r),r=ik.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Rk(Dk(o.y,0,1)).getUTCDay():Nk(Dk(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Rk(o)):Nk(o)}}function x(e,t,n,r){for(var i,o,a=0,s=t.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(a++))){if(i=t.charAt(a++),!(o=E[i in Uk?t.charAt(a++):i])||(r=o(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=S(n,b),b.X=S(r,b),b.c=S(t,b),w.x=S(n,w),w.X=S(r,w),w.c=S(t,w),{format:function(e){var t=S(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=_(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=S(e+="",w);return t.toString=function(){return e},t},utcParse:function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}}}(e),jk=Mk.format,Mk.parse,Lk=Mk.utcFormat,Mk.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const uN=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rC,scaleDiverging:function e(){var t=xA(sN()(tA));return t.copy=function(){return oN(t,e())},eC.apply(t,arguments)},scaleDivergingLog:function e(){var t=NA(sN()).domain([.1,1,10]);return t.copy=function(){return oN(t,e()).base(t.base())},eC.apply(t,arguments)},scaleDivergingPow:lN,scaleDivergingSqrt:function(){return lN.apply(null,arguments).exponent(.5)},scaleDivergingSymlog:function e(){var t=MA(sN());return t.copy=function(){return oN(t,e()).constant(t.constant())},eC.apply(t,arguments)},scaleIdentity:function e(t){var n;function r(e){return null==e||isNaN(e=+e)?n:e}return r.invert=r,r.domain=r.range=function(e){return arguments.length?(t=Array.from(e,ZC),r):t.slice()},r.unknown=function(e){return arguments.length?(n=e,r):n},r.copy=function(){return e(t).unknown(n)},t=arguments.length?Array.from(t,ZC):[0,1],xA(r)},scaleImplicit:tC,scaleLinear:function e(){var t=sA();return t.copy=function(){return oA(t,e())},ZI.apply(t,arguments),xA(t)},scaleLog:function e(){const t=NA(aA()).domain([1,10]);return t.copy=()=>oA(t,e()).base(t.base()),ZI.apply(t,arguments),t},scaleOrdinal:nC,scalePoint:function(){return iC(rC.apply(null,arguments).paddingInner(1))},scalePow:VA,scaleQuantile:function e(){var t,n=[],r=[],i=[];function o(){var e=0,t=Math.max(1,r.length);for(i=new Array(t-1);++e<t;)i[e-1]=QI(n,e/t);return a}function a(e){return null==e||isNaN(e=+e)?t:r[jI(i,e)]}return a.invertExtent=function(e){var t=r.indexOf(e);return t<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.domain=function(e){if(!arguments.length)return n.slice();n=[];for(let t of e)null==t||isNaN(t=+t)||n.push(t);return n.sort(PI),o()},a.range=function(e){return arguments.length?(r=Array.from(e),o()):r.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return e().domain(n).range(r).unknown(t)},ZI.apply(a,arguments)},scaleQuantize:function e(){var t,n=0,r=1,i=1,o=[.5],a=[0,1];function s(e){return null!=e&&e<=e?a[jI(o,e,0,i)]:t}function l(){var e=-1;for(o=new Array(i);++e<i;)o[e]=((e+1)*r-(e-i)*n)/(i+1);return s}return s.domain=function(e){return arguments.length?([n,r]=e,n=+n,r=+r,l()):[n,r]},s.range=function(e){return arguments.length?(i=(a=Array.from(e)).length-1,l()):a.slice()},s.invertExtent=function(e){var t=a.indexOf(e);return t<0?[NaN,NaN]:t<1?[n,o[0]]:t>=i?[o[i-1],r]:[o[t-1],o[t]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return o.slice()},s.copy=function(){return e().domain([n,r]).range(a).unknown(t)},ZI.apply(xA(s),arguments)},scaleRadial:function e(){var t,n=sA(),r=[0,1],i=!1;function o(e){var r=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(n(e));return isNaN(r)?t:i?Math.round(r):r}return o.invert=function(e){return n.invert(zA(e))},o.domain=function(e){return arguments.length?(n.domain(e),o):n.domain()},o.range=function(e){return arguments.length?(n.range((r=Array.from(e,ZC)).map(zA)),o):r.slice()},o.rangeRound=function(e){return o.range(e).round(!0)},o.round=function(e){return arguments.length?(i=!!e,o):i},o.clamp=function(e){return arguments.length?(n.clamp(e),o):n.clamp()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e(n.domain(),r).round(i).clamp(n.clamp()).unknown(t)},ZI.apply(o,arguments),xA(o)},scaleSequential:function e(){var t=xA(iN()(tA));return t.copy=function(){return oN(t,e())},eC.apply(t,arguments)},scaleSequentialLog:function e(){var t=NA(iN()).domain([1,10]);return t.copy=function(){return oN(t,e()).base(t.base())},eC.apply(t,arguments)},scaleSequentialPow:aN,scaleSequentialQuantile:function e(){var t=[],n=tA;function r(e){if(null!=e&&!isNaN(e=+e))return n((jI(t,e,1)-1)/(t.length-1))}return r.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(PI),r},r.interpolator=function(e){return arguments.length?(n=e,r):n},r.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},r.quantiles=function(e){return Array.from({length:e+1},(n,r)=>function(e,t){if((n=(e=Float64Array.from(function*(e){for(let t of e)null!=t&&(t=+t)>=t&&(yield t)}(e))).length)&&!isNaN(t=+t)){if(t<=0||n<2)return JI(e);if(t>=1)return WI(e);var n,r=(n-1)*t,i=Math.floor(r),o=WI(YI(e,i).subarray(0,i+1));return o+(JI(e.subarray(i+1))-o)*(r-i)}}(t,r/e))},r.copy=function(){return e(n).domain(t)},eC.apply(r,arguments)},scaleSequentialSqrt:function(){return aN.apply(null,arguments).exponent(.5)},scaleSequentialSymlog:function e(){var t=MA(iN());return t.copy=function(){return oN(t,e()).constant(t.constant())},eC.apply(t,arguments)},scaleSqrt:function(){return VA.apply(null,arguments).exponent(.5)},scaleSymlog:function e(){var t=MA(aA());return t.copy=function(){return oA(t,e()).constant(t.constant())},ZI.apply(t,arguments)},scaleThreshold:function e(){var t,n=[.5],r=[0,1],i=1;function o(e){return null!=e&&e<=e?r[jI(n,e,0,i)]:t}return o.domain=function(e){return arguments.length?(n=Array.from(e),i=Math.min(n.length,r.length-1),o):n.slice()},o.range=function(e){return arguments.length?(r=Array.from(e),i=Math.min(n.length,r.length-1),o):r.slice()},o.invertExtent=function(e){var t=r.indexOf(e);return[n[t-1],n[t]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return e().domain(n).range(r).unknown(t)},ZI.apply(o,arguments)},scaleTime:function(){return ZI.apply(rN(kk,Pk,Tk,_k,lk,ik,nk,ek,ZA,jk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},scaleUtc:function(){return ZI.apply(rN(Ck,Ak,Ok,xk,gk,ok,rk,tk,ZA,Lk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)},tickFormat:_A},Symbol.toStringTag,{value:"Module"}));var cN=e=>e.chartData,dN=aw([cN],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),hN=(e,t,n,r)=>r?dN(e):cN(e);function fN(e){if(Array.isArray(e)&&2===e.length){var[t,n]=e;if(r_(t)&&r_(n))return!0}return!1}function pN(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function mN(e,t){if(t&&"function"!=typeof e&&Array.isArray(e)&&2===e.length){var n,r,[i,o]=e;if(r_(i))n=i;else if("function"==typeof i)return;if(r_(o))r=o;else if("function"==typeof o)return;var a=[n,r];if(fN(a))return a}}var gN,yN=1e9,vN=!0,bN="[DecimalError] ",wN=bN+"Invalid argument: ",EN=bN+"Exponent out of range: ",SN=Math.floor,_N=Math.pow,xN=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,TN=1e7,ON=9007199254740991,IN=SN(1286742750677284.5),CN={};function AN(e,t){var n,r,i,o,a,s,l,u,c=e.constructor,d=c.precision;if(!e.s||!t.s)return t.s||(t=new c(e)),vN?FN(t,d):t;if(l=e.d,u=t.d,a=e.e,i=t.e,l=l.slice(),o=a-i){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),o>(s=(a=Math.ceil(d/7))>s?a+1:s+1)&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for((s=l.length)-(o=u.length)<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/TN|0,l[o]%=TN;for(n&&(l.unshift(n),++i),s=l.length;0==l[--s];)l.pop();return t.d=l,t.e=i,vN?FN(t,d):t}function kN(e,t,n){if(e!==~~e||e<t||e>n)throw Error(wN+e)}function PN(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(o+=jN(n)),o+=r;(n=7-(r=(a=e[t])+"").length)&&(o+=jN(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}CN.absoluteValue=CN.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},CN.comparedTo=CN.cmp=function(e){var t,n,r,i,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(t=0,n=(r=o.d.length)<(i=e.d.length)?r:i;t<n;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1},CN.decimalPlaces=CN.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},CN.dividedBy=CN.div=function(e){return NN(this,new this.constructor(e))},CN.dividedToIntegerBy=CN.idiv=function(e){var t=this.constructor;return FN(NN(this,new t(e),0,1),t.precision)},CN.equals=CN.eq=function(e){return!this.cmp(e)},CN.exponent=function(){return DN(this)},CN.greaterThan=CN.gt=function(e){return this.cmp(e)>0},CN.greaterThanOrEqualTo=CN.gte=function(e){return this.cmp(e)>=0},CN.isInteger=CN.isint=function(){return this.e>this.d.length-2},CN.isNegative=CN.isneg=function(){return this.s<0},CN.isPositive=CN.ispos=function(){return this.s>0},CN.isZero=function(){return 0===this.s},CN.lessThan=CN.lt=function(e){return this.cmp(e)<0},CN.lessThanOrEqualTo=CN.lte=function(e){return this.cmp(e)<1},CN.logarithm=CN.log=function(e){var t,n=this,r=n.constructor,i=r.precision,o=i+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(gN))throw Error(bN+"NaN");if(n.s<1)throw Error(bN+(n.s?"NaN":"-Infinity"));return n.eq(gN)?new r(0):(vN=!1,t=NN(LN(n,o),LN(e,o),o),vN=!0,FN(t,i))},CN.minus=CN.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?VN(t,e):AN(t,(e.s=-e.s,e))},CN.modulo=CN.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(bN+"NaN");return n.s?(vN=!1,t=NN(n,e,0,1).times(e),vN=!0,n.minus(t)):FN(new r(n),i)},CN.naturalExponential=CN.exp=function(){return RN(this)},CN.naturalLogarithm=CN.ln=function(){return LN(this)},CN.negated=CN.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},CN.plus=CN.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?AN(t,e):VN(t,(e.s=-e.s,e))},CN.precision=CN.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(wN+e);if(t=DN(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},CN.squareRoot=CN.sqrt=function(){var e,t,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(bN+"NaN")}for(e=DN(s),vN=!1,0==(i=Math.sqrt(+s))||i==1/0?(((t=PN(s.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=SN((e+1)/2)-(e<0||e%2),r=new l(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new l(i.toString()),i=a=(n=l.precision)+3;;)if(r=(o=r).plus(NN(s,o,a+2)).times(.5),PN(o.d).slice(0,a)===(t=PN(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&"4999"==t){if(FN(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if("9999"!=t)break;a+=4}return vN=!0,FN(r,n)},CN.times=CN.mul=function(e){var t,n,r,i,o,a,s,l,u,c=this,d=c.constructor,h=c.d,f=(e=new d(e)).d;if(!c.s||!e.s)return new d(0);for(e.s*=c.s,n=c.e+e.e,(l=h.length)<(u=f.length)&&(o=h,h=f,f=o,a=l,l=u,u=a),o=[],r=a=l+u;r--;)o.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)s=o[i]+f[r]*h[i-r-1]+t,o[i--]=s%TN|0,t=s/TN|0;o[i]=(o[i]+t)%TN|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=n,vN?FN(e,d.precision):e},CN.toDecimalPlaces=CN.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(kN(e,0,yN),void 0===t?t=r.rounding:kN(t,0,8),FN(n,e+DN(n)+1,t))},CN.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=zN(r,!0):(kN(e,0,yN),void 0===t?t=i.rounding:kN(t,0,8),n=zN(r=FN(new i(r),e+1,t),!0,e+1)),n},CN.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?zN(i):(kN(e,0,yN),void 0===t?t=o.rounding:kN(t,0,8),n=zN((r=FN(new o(i),e+DN(i)+1,t)).abs(),!1,e+DN(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},CN.toInteger=CN.toint=function(){var e=this,t=e.constructor;return FN(new t(e),DN(e)+1,t.rounding)},CN.toNumber=function(){return+this},CN.toPower=CN.pow=function(e){var t,n,r,i,o,a,s=this,l=s.constructor,u=+(e=new l(e));if(!e.s)return new l(gN);if(!(s=new l(s)).s){if(e.s<1)throw Error(bN+"Infinity");return s}if(s.eq(gN))return s;if(r=l.precision,e.eq(gN))return FN(s,r);if(a=(t=e.e)>=(n=e.d.length-1),o=s.s,a){if((n=u<0?-u:u)<=ON){for(i=new l(gN),t=Math.ceil(r/7+4),vN=!1;n%2&&qN((i=i.times(s)).d,t),0!==(n=SN(n/2));)qN((s=s.times(s)).d,t);return vN=!0,e.s<0?new l(gN).div(i):FN(i,r)}}else if(o<0)throw Error(bN+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,s.s=1,vN=!1,i=e.times(LN(s,r+12)),vN=!0,(i=RN(i)).s=o,i},CN.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=zN(i,(n=DN(i))<=o.toExpNeg||n>=o.toExpPos):(kN(e,1,yN),void 0===t?t=o.rounding:kN(t,0,8),r=zN(i=FN(new o(i),e,t),e<=(n=DN(i))||n<=o.toExpNeg,e)),r},CN.toSignificantDigits=CN.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(kN(e,1,yN),void 0===t?t=n.rounding:kN(t,0,8)),FN(new n(this),e,t)},CN.toString=CN.valueOf=CN.val=CN.toJSON=CN[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=DN(e),n=e.constructor;return zN(e,t<=n.toExpNeg||t>=n.toExpPos)};var NN=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%TN|0,r=n/TN|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*TN+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a){var s,l,u,c,d,h,f,p,m,g,y,v,b,w,E,S,_,x,T=r.constructor,O=r.s==i.s?1:-1,I=r.d,C=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(bN+"Division by zero");for(l=r.e-i.e,_=C.length,E=I.length,p=(f=new T(O)).d=[],u=0;C[u]==(I[u]||0);)++u;if(C[u]>(I[u]||0)&&--l,(v=null==o?o=T.precision:a?o+(DN(r)-DN(i))+1:o)<0)return new T(0);if(v=v/7+2|0,u=0,1==_)for(c=0,C=C[0],v++;(u<E||c)&&v--;u++)b=c*TN+(I[u]||0),p[u]=b/C|0,c=b%C|0;else{for((c=TN/(C[0]+1)|0)>1&&(C=e(C,c),I=e(I,c),_=C.length,E=I.length),w=_,g=(m=I.slice(0,_)).length;g<_;)m[g++]=0;(x=C.slice()).unshift(0),S=C[0],C[1]>=TN/2&&++S;do{c=0,(s=t(C,m,_,g))<0?(y=m[0],_!=g&&(y=y*TN+(m[1]||0)),(c=y/S|0)>1?(c>=TN&&(c=TN-1),1==(s=t(d=e(C,c),m,h=d.length,g=m.length))&&(c--,n(d,_<h?x:C,h))):(0==c&&(s=c=1),d=C.slice()),(h=d.length)<g&&d.unshift(0),n(m,d,g),-1==s&&(s=t(C,m,_,g=m.length))<1&&(c++,n(m,_<g?x:C,g)),g=m.length):0===s&&(c++,m=[0]),p[u++]=c,s&&m[0]?m[g++]=I[w]||0:(m=[I[w]],g=1)}while((w++<E||void 0!==m[0])&&v--)}return p[0]||p.shift(),f.e=l,FN(f,a?o+DN(f)+1:o)}}();function RN(e,t){var n,r,i,o,a,s=0,l=0,u=e.constructor,c=u.precision;if(DN(e)>16)throw Error(EN+DN(e));if(!e.s)return new u(gN);for(vN=!1,a=c,o=new u(.03125);e.abs().gte(.1);)e=e.times(o),l+=5;for(a+=Math.log(_N(2,l))/Math.LN10*2+5|0,n=r=i=new u(gN),u.precision=a;;){if(r=FN(r.times(e),a),n=n.times(++s),PN((o=i.plus(NN(r,n,a))).d).slice(0,a)===PN(i.d).slice(0,a)){for(;l--;)i=FN(i.times(i),a);return u.precision=c,null==t?(vN=!0,FN(i,c)):i}i=o}}function DN(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function MN(e,t,n){if(t>e.LN10.sd())throw vN=!0,n&&(e.precision=n),Error(bN+"LN10 precision limit exceeded");return FN(new e(e.LN10),t)}function jN(e){for(var t="";e--;)t+="0";return t}function LN(e,t){var n,r,i,o,a,s,l,u,c,d=1,h=e,f=h.d,p=h.constructor,m=p.precision;if(h.s<1)throw Error(bN+(h.s?"NaN":"-Infinity"));if(h.eq(gN))return new p(0);if(null==t?(vN=!1,u=m):u=t,h.eq(10))return null==t&&(vN=!0),MN(p,u);if(u+=10,p.precision=u,r=(n=PN(f)).charAt(0),o=DN(h),!(Math.abs(o)<15e14))return l=MN(p,u+2,m).times(o+""),h=LN(new p(r+"."+n.slice(1)),u-10).plus(l),p.precision=m,null==t?(vN=!0,FN(h,m)):h;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=PN((h=h.times(e)).d)).charAt(0),d++;for(o=DN(h),r>1?(h=new p("0."+n),o++):h=new p(r+"."+n.slice(1)),s=a=h=NN(h.minus(gN),h.plus(gN),u),c=FN(h.times(h),u),i=3;;){if(a=FN(a.times(c),u),PN((l=s.plus(NN(a,new p(i),u))).d).slice(0,u)===PN(s.d).slice(0,u))return s=s.times(2),0!==o&&(s=s.plus(MN(p,u+2,m).times(o+""))),s=NN(s,new p(d),u),p.precision=m,null==t?(vN=!0,FN(s,m)):s;s=l,i+=2}}function UN(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=SN(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),vN&&(e.e>IN||e.e<-IN))throw Error(EN+n)}else e.s=0,e.e=0,e.d=[0];return e}function FN(e,t,n){var r,i,o,a,s,l,u,c,d=e.d;for(a=1,o=d[0];o>=10;o/=10)a++;if((r=t-a)<0)r+=7,i=t,u=d[c=0];else{if((c=Math.ceil((r+1)/7))>=(o=d.length))return e;for(u=o=d[c],a=1;o>=10;o/=10)a++;i=(r%=7)-7+a}if(void 0!==n&&(s=u/(o=_N(10,a-i-1))%10|0,l=t<0||void 0!==d[c+1]||u%o,l=n<4?(s||l)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||l||6==n&&(r>0?i>0?u/_N(10,a-i):0:d[c-1])%10&1||n==(e.s<0?8:7))),t<1||!d[0])return l?(o=DN(e),d.length=1,t=t-o-1,d[0]=_N(10,(7-t%7)%7),e.e=SN(-t/7)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(0==r?(d.length=c,o=1,c--):(d.length=c+1,o=_N(10,7-r),d[c]=i>0?(u/_N(10,a-i)%_N(10,i)|0)*o:0),l)for(;;){if(0==c){(d[0]+=o)==TN&&(d[0]=1,++e.e);break}if(d[c]+=o,d[c]!=TN)break;d[c--]=0,o=1}for(r=d.length;0===d[--r];)d.pop();if(vN&&(e.e>IN||e.e<-IN))throw Error(EN+DN(e));return e}function VN(e,t){var n,r,i,o,a,s,l,u,c,d,h=e.constructor,f=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),vN?FN(t,f):t;if(l=e.d,d=t.d,r=t.e,u=e.e,l=l.slice(),a=u-r){for((c=a<0)?(n=l,a=-a,s=d.length):(n=d,r=u,s=l.length),a>(i=Math.max(Math.ceil(f/7),s)+2)&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for((c=(i=l.length)<(s=d.length))&&(s=i),i=0;i<s;i++)if(l[i]!=d[i]){c=l[i]<d[i];break}a=0}for(c&&(n=l,l=d,d=n,t.s=-t.s),s=l.length,i=d.length-s;i>0;--i)l[s++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(o=i;o&&0===l[--o];)l[o]=TN-1;--l[o],l[i]+=TN}l[i]-=d[i]}for(;0===l[--s];)l.pop();for(;0===l[0];l.shift())--r;return l[0]?(t.d=l,t.e=r,vN?FN(t,f):t):new h(0)}function zN(e,t,n){var r,i=DN(e),o=PN(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+jN(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+jN(-i-1)+o,n&&(r=n-a)>0&&(o+=jN(r))):i>=a?(o+=jN(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+jN(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=jN(r))),e.s<0?"-"+o:o}function qN(e,t){if(e.length>t)return e.length=t,!0}function BN(e){if(!e||"object"!=typeof e)throw Error(bN+"Object expected");var t,n,r,i=["precision",1,yN,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(SN(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(wN+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(wN+n+": "+r);this[n]=new this(r)}return this}var HN=function e(t){var n,r,i;function o(e){var t=this;if(!(t instanceof o))return new o(e);if(t.constructor=o,e instanceof o)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"==typeof e){if(0*e!=0)throw Error(wN+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):UN(t,e.toString())}if("string"!=typeof e)throw Error(wN+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!xN.test(e))throw Error(wN+e);UN(t,e)}if(o.prototype=CN,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.clone=e,o.config=o.set=BN,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}({precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"});gN=new HN(1);const $N=HN;var GN,KN=e=>e,WN={},JN=e=>e===WN,YN=e=>function t(){return 0===arguments.length||1===arguments.length&&JN(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},XN=(e,t)=>1===e?t:YN(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(e=>e!==WN).length;return o>=e?t(...r):XN(e-o,YN(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=r.map(e=>JN(e)?n.shift():e);return t(...o,...n)}))}),QN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},ZN=XN((GN=(e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(e=>t[e]).map(e)).length,GN);function eR(e){return 0===e?1:Math.floor(new $N(e).abs().log(10).toNumber())+1}function tR(e,t,n){for(var r=new $N(e),i=0,o=[];r.lt(t)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var nR=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},rR=(e,t,n)=>{if(e.lte(0))return new $N(0);var r=eR(e.toNumber()),i=new $N(10).pow(r),o=e.div(i),a=1!==r?.05:.1,s=new $N(Math.ceil(o.div(a).toNumber())).add(n).mul(a).mul(i);return new $N(t?s.toNumber():Math.ceil(s.toNumber()))},iR=(e,t,n)=>{var r=new $N(1),i=new $N(e);if(!i.isint()&&n){var o=Math.abs(e);o<1?(r=new $N(10).pow(eR(e)-1),i=new $N(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new $N(Math.floor(e)))}else 0===e?i=new $N(Math.floor((t-1)/2)):n||(i=new $N(Math.floor(e)));var a=Math.floor((t-1)/2);return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return KN;var r=t.reverse(),i=r[0],o=r.slice(1);return function(){return o.reduce((e,t)=>t(e),i(...arguments))}}(ZN(e=>i.add(new $N(e-a).mul(r)).toNumber()),QN)(0,t)},oR=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $N(0),tickMin:new $N(0),tickMax:new $N(0)};var o,a=rR(new $N(t).sub(e).div(n-1),r,i);o=e<=0&&t>=0?new $N(0):(o=new $N(e).add(t).div(2)).sub(new $N(o).mod(a));var s=Math.ceil(o.sub(e).div(a).toNumber()),l=Math.ceil(new $N(t).sub(o).div(a).toNumber()),u=s+l+1;return u>n?oR(e,t,n,r,i+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:a,tickMin:o.sub(new $N(s).mul(a)),tickMax:o.add(new $N(l).mul(a))})},aR=e=>e.rootProps.maxBarSize,sR=e=>e.rootProps.barCategoryGap,lR=e=>e.rootProps.stackOffset,uR=e=>e.rootProps.reverseStackOrder,cR=e=>e.options.chartName,dR=e=>e.rootProps.syncId,hR=e=>e.rootProps.syncMethod,fR=e=>e.options.eventEmitter,pR={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},mR=0,gR="auto",yR=!0,vR=!1,bR=!0,wR=0,ER="auto",SR=!0,_R=5,xR=(e,t)=>{if(e&&t)return null!=e&&e.reversed?[t[1],t[0]]:t},TR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:mR,includeHidden:!1,name:void 0,reversed:!1,scale:gR,tick:yR,tickCount:void 0,ticks:void 0,type:"category",unit:void 0},OR={allowDataOverflow:vR,allowDecimals:!1,allowDuplicatedCategory:bR,dataKey:void 0,domain:void 0,id:wR,includeHidden:!1,name:void 0,reversed:!1,scale:ER,tick:SR,tickCount:_R,ticks:void 0,type:"number",unit:void 0},IR={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,dataKey:void 0,domain:void 0,id:mR,includeHidden:!1,name:void 0,reversed:!1,scale:gR,tick:yR,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},CR={allowDataOverflow:vR,allowDecimals:!1,allowDuplicatedCategory:bR,dataKey:void 0,domain:void 0,id:wR,includeHidden:!1,name:void 0,reversed:!1,scale:ER,tick:SR,tickCount:_R,ticks:void 0,type:"category",unit:void 0},AR=(e,t)=>null!=e.polarAxis.angleAxis[t]?e.polarAxis.angleAxis[t]:"radial"===e.layout.layoutType?IR:TR,kR=(e,t)=>null!=e.polarAxis.radiusAxis[t]?e.polarAxis.radiusAxis[t]:"radial"===e.layout.layoutType?CR:OR,PR=e=>e.polarOptions,NR=aw([S_,__,U_],sI),RR=aw([PR,NR],(e,t)=>{if(null!=e)return Vy(e.innerRadius,t,0)}),DR=aw([PR,NR],(e,t)=>{if(null!=e)return Vy(e.outerRadius,t,.8*t)}),MR=aw([PR],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]});aw([AR,MR],xR);var jR=aw([NR,RR,DR],(e,t,n)=>{if(null!=e&&null!=t&&null!=n)return[t,n]});aw([kR,jR],xR);var LR=aw([wx,PR,RR,DR,S_,__],(e,t,n,r,i,o)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=n&&null!=r){var{cx:a,cy:s,startAngle:l,endAngle:u}=t;return{cx:Vy(a,i,i/2),cy:Vy(s,o,o/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),UR=(e,t)=>t,FR=(e,t,n)=>n;function VR(e){return null==e?void 0:e.id}function zR(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:o}=n,a=new Map;return e.forEach(e=>{var t,n=null!==(t=e.data)&&void 0!==t?t:r;if(null!=n&&0!==n.length){var s=VR(e);n.forEach((t,n)=>{var r,l=null==o||i?n:String(l_(t,o,null)),u=l_(t,e.dataKey,0);r=a.has(l)?a.get(l):{},Object.assign(r,{[s]:u}),a.set(l,r)})}}),Array.from(a.values())}function qR(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var BR=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function HR(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var $R=e=>{var t=wx(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},GR=e=>e.tooltip.settings.axisId;function KR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function WR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KR(Object(n),!0).forEach(function(t){JR(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function JR(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YR=[0,"auto"],XR={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},QR=(e,t)=>e.cartesianAxis.xAxis[t],ZR=(e,t)=>{var n=QR(e,t);return null==n?XR:n},eD={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:YR,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},tD=(e,t)=>e.cartesianAxis.yAxis[t],nD=(e,t)=>{var n=tD(e,t);return null==n?eD:n},rD={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},iD=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return null==n?rD:n},oD=(e,t,n)=>{switch(t){case"xAxis":return ZR(e,n);case"yAxis":return nD(e,n);case"zAxis":return iD(e,n);case"angleAxis":return AR(e,n);case"radiusAxis":return kR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},aD=(e,t,n)=>{switch(t){case"xAxis":return ZR(e,n);case"yAxis":return nD(e,n);case"angleAxis":return AR(e,n);case"radiusAxis":return kR(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},sD=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function lD(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var uD=e=>e.graphicalItems.cartesianItems,cD=aw([UR,FR],lD),dD=(e,t,n)=>e.filter(n).filter(e=>!0===(null==t?void 0:t.includeHidden)||!e.hide),hD=aw([uD,oD,cD],dD,{memoizeOptions:{resultEqualityCheck:HR}}),fD=aw([hD],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(qR)),pD=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),mD=aw([hD],pD),gD=e=>e.map(e=>e.data).filter(Boolean).flat(1),yD=aw([hD],gD,{memoizeOptions:{resultEqualityCheck:HR}}),vD=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},bD=aw([yD,hN],vD),wD=(e,t,n)=>null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:l_(e,t.dataKey)})):n.length>0?n.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:l_(e,t)}))):e.map(e=>({value:e})),ED=aw([bD,oD,hD],wD);function SD(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function _D(e){if(Ly(e)||e instanceof Date){var t=Number(e);if(r_(t))return t}}function xD(e){if(Array.isArray(e)){var t=[_D(e[0]),_D(e[1])];return fN(t)?t:void 0}var n=_D(e);if(null!=n)return[n,n]}function TD(e){return e.map(_D).filter($y)}var OD=e=>{var t=$R(e),n=GR(e);return aD(e,t,n)},ID=aw([OD],e=>null==e?void 0:e.dataKey),CD=aw([fD,hN,OD],zR),AD=(e,t,n,r)=>{var i=t.reduce((e,t)=>{if(null==t.stackId)return e;var n=e[t.stackId];return null==n&&(n=[]),n.push(t),e[t.stackId]=n,e},{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,o]=t,a=r?[...o].reverse():o,s=a.map(VR);return[i,{stackedData:p_(e,s,n),graphicalItems:a}]}))},kD=aw([CD,fD,lR,uR],AD),PD=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=t;if(null==r&&"zAxis"!==n){var a=g_(e,i,o);if(null==a||0!==a[0]||0!==a[1])return a}},ND=aw([oD],e=>e.allowDataOverflow),RD=e=>{var t;if(null==e||!("domain"in e))return YR;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var n=TD(e.ticks);return[Math.min(...n),Math.max(...n)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null==e?void 0:e.domain)&&void 0!==t?t:YR},DD=aw([oD],RD),MD=aw([DD,ND],mN),jD=aw([kD,cN,UR,MD],PD,{memoizeOptions:{resultEqualityCheck:BR}}),LD=e=>e.errorBars,UD=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(0!==r.length){var i=r.flat();return[Math.min(...i),Math.max(...i)]}},FD=(e,t,n,r,i)=>{var o,a;if(n.length>0&&e.forEach(e=>{n.forEach(n=>{var s,l,u=null===(s=r[n.id])||void 0===s?void 0:s.filter(e=>SD(i,e)),c=l_(e,null!==(l=t.dataKey)&&void 0!==l?l:n.dataKey),d=function(e,t,n){return!n||"number"!=typeof t||Dy(t)?[]:n.length?TD(n.flatMap(n=>{var r,i,o=l_(e,n.dataKey);if(Array.isArray(o)?[r,i]=o:r=i=o,r_(r)&&r_(i))return[t-r,t+i]})):[]}(e,c,u);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==o||h<o)&&(o=h),(null==a||f>a)&&(a=f)}var p=xD(c);null!=p&&(o=null==o?p[0]:Math.min(o,p[0]),a=null==a?p[1]:Math.max(a,p[1]))})}),null!=(null==t?void 0:t.dataKey)&&e.forEach(e=>{var n=xD(l_(e,t.dataKey));null!=n&&(o=null==o?n[0]:Math.min(o,n[0]),a=null==a?n[1]:Math.max(a,n[1]))}),r_(o)&&r_(a))return[o,a]},VD=aw([bD,oD,mD,LD,UR],FD,{memoizeOptions:{resultEqualityCheck:BR}});function zD(e){var{value:t}=e;if(Ly(t)||t instanceof Date)return t}var qD=e=>e.referenceElements.dots,BD=(e,t,n)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===n:e.yAxisId===n),HD=aw([qD,UR,FR],BD),$D=e=>e.referenceElements.areas,GD=aw([$D,UR,FR],BD),KD=e=>e.referenceElements.lines,WD=aw([KD,UR,FR],BD),JD=(e,t)=>{if(null!=e){var n=TD(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},YD=aw(HD,UR,JD),XD=(e,t)=>{if(null!=e){var n=TD(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},QD=aw([GD,UR],XD);var ZD=(e,t)=>{if(null!=e){var n=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return TD([e.x]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==n||0===n.length?[]:TD(n)}(e):function(e){var t;if(null!=e.y)return TD([e.y]);var n=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==n||0===n.length?[]:TD(n)}(e));if(0!==n.length)return[Math.min(...n),Math.max(...n)]}},eM=aw([WD,UR],ZD),tM=aw(YD,eM,QD,(e,t,n)=>UD(e,n,t)),nM=(e,t,n,r,i,o,a,s)=>null!=n?n:function(e,t,n){if(n||null!=t){if("function"==typeof e&&null!=t)try{var r=e(t,n);if(fN(r))return pN(r,t,n)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,o,[a,s]=e;if("auto"===a)null!=t&&(i=Math.min(...t));else if(jy(a))i=a;else if("function"==typeof a)try{null!=t&&(i=a(null==t?void 0:t[0]))}catch(p){}else if("string"==typeof a&&y_.test(a)){var l=y_.exec(a);if(null==l||null==l[1]||null==t)i=void 0;else{var u=+l[1];i=t[0]-u}}else i=null==t?void 0:t[0];if("auto"===s)null!=t&&(o=Math.max(...t));else if(jy(s))o=s;else if("function"==typeof s)try{null!=t&&(o=s(null==t?void 0:t[1]))}catch(m){}else if("string"==typeof s&&v_.test(s)){var c=v_.exec(s);if(null==c||null==c[1]||null==t)o=void 0;else{var d=+c[1];o=t[1]+d}}else o=null==t?void 0:t[1];var h=[i,o];if(fN(h))return null==t?h:pN(h,t,n)}}}(t,"vertical"===a&&"xAxis"===s||"horizontal"===a&&"yAxis"===s?UD(r,o,i):UD(o,i),e.allowDataOverflow),rM=aw([oD,DD,MD,jD,VD,tM,wx,UR],nM,{memoizeOptions:{resultEqualityCheck:BR}}),iM=[0,1],oM=(e,t,n,r,i,o,a)=>{if(null!=e&&null!=n&&0!==n.length||void 0!==a){var s,{dataKey:l,type:u}=e,c=u_(t,o);return c&&null==l?kI(0,null!==(s=null==n?void 0:n.length)&&void 0!==s?s:0):"category"===u?((e,t,n)=>{var r=e.map(zD).filter(e=>null!=e);return n&&(null==t.dataKey||t.allowDuplicatedCategory&&zy(r))?kI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))})(r,e,c):"expand"===i?iM:a}},aM=aw([oD,wx,bD,ED,lR,UR,rM],oM),sM=(e,t,n,r,i)=>{if(null!=e){var{scale:o,type:a}=e;if("auto"===o)return"radial"===t&&"radiusAxis"===i?"band":"radial"===t&&"angleAxis"===i?"linear":"category"===a&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":"category"===a?"band":"linear";if("string"==typeof o){var s="scale".concat(Hy(o));return s in uN?s:"point"}}},lM=aw([oD,wx,sD,cR,UR],sM);function uM(e,t,n,r){if(null!=n&&null!=r){if("function"==typeof e.scale)return e.scale.copy().domain(n).range(r);var i=function(e){if(null!=e){if(e in uN)return uN[e]();var t="scale".concat(Hy(e));return t in uN?uN[t]():void 0}}(t);if(null!=i){var o=i.domain(n).range(r);return(e=>{var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-h_,o=Math.max(r[0],r[1])+h_,a=e(t[0]),s=e(t[n-1]);(a<i||a>o||s<i||s>o)&&e.domain([t[0],t[n-1]])}})(o),o}}}var cM=(e,t,n)=>{var r=RD(t);if("auto"===n||"linear"===n)return null!=t&&t.tickCount&&Array.isArray(r)&&("auto"===r[0]||"auto"===r[1])&&fN(e)?function(e){var[t,n]=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(r,2),[a,s]=nR([t,n]);if(a===-1/0||s===1/0){var l=s===1/0?[a,...QN(0,r-1).map(()=>1/0)]:[...QN(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(a===s)return iR(a,r,i);var{step:u,tickMin:c,tickMax:d}=oR(a,s,o,i,0),h=tR(c,d.add(new $N(.1).mul(u)),u);return t>n?h.reverse():h}(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&fN(e)?function(e,t){var[n,r]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[o,a]=nR([n,r]);if(o===-1/0||a===1/0)return[n,r];if(o===a)return[o];var s=Math.max(t,2),l=rR(new $N(a).sub(o).div(s-1),i,0),u=[...tR(new $N(o),new $N(a),l),a];return!1===i&&(u=u.map(e=>Math.round(e))),n>r?u.reverse():u}(e,t.tickCount,t.allowDecimals):void 0},dM=aw([aM,aD,lM],cM),hM=(e,t,n,r)=>{if("angleAxis"!==r&&"number"===(null==e?void 0:e.type)&&fN(t)&&Array.isArray(n)&&n.length>0){var i=t[0],o=n[0],a=t[1],s=n[n.length-1];return[Math.min(i,o),Math.max(a,s)]}return t},fM=aw([oD,aM,dM,UR],hM),pM=aw(ED,oD,(e,t)=>{if(t&&"number"===t.type){var n=1/0,r=Array.from(TD(e.map(e=>e.value))).sort((e,t)=>e-t),i=r[0],o=r[r.length-1];if(null==i||null==o)return 1/0;var a=o-i;if(0===a)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(null!=l&&null!=u){var c=u-l;n=Math.min(n,c)}}return n/a}}),mM=aw(pM,wx,sR,U_,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!r_(e))return 0;var o="vertical"===t?r.height:r.width;if("gap"===i)return e*o/2;if("no-gap"===i){var a=Vy(n,e*o),s=e*o/2;return s-a-(s-a)/o*a}return 0}),gM=aw(ZR,(e,t,n)=>{var r=ZR(e,t);return null==r||"string"!=typeof r.padding?0:mM(e,"xAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"==typeof i?{left:t,right:t}:{left:(null!==(n=i.left)&&void 0!==n?n:0)+t,right:(null!==(r=i.right)&&void 0!==r?r:0)+t}}),yM=aw(nD,(e,t,n)=>{var r=nD(e,t);return null==r||"string"!=typeof r.padding?0:mM(e,"yAxis",t,n,r.padding)},(e,t)=>{var n,r;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"==typeof i?{top:t,bottom:t}:{top:(null!==(n=i.top)&&void 0!==n?n:0)+t,bottom:(null!==(r=i.bottom)&&void 0!==r?r:0)+t}}),vM=aw([U_,gM,H_,B_,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bM=aw([U_,wx,yM,H_,B_,(e,t,n)=>n],(e,t,n,r,i,o)=>{var{padding:a}=i;return o?[r.height-a.bottom,a.top]:"horizontal"===t?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),wM=(e,t,n,r)=>{var i;switch(t){case"xAxis":return vM(e,n,r);case"yAxis":return bM(e,n,r);case"zAxis":return null===(i=iD(e,n))||void 0===i?void 0:i.range;case"angleAxis":return MR(e);case"radiusAxis":return jR(e,n);default:return}},EM=aw([oD,wM],xR),SM=aw([oD,lM,fM,EM],uM);function _M(e,t){return e.id<t.id?-1:e.id>t.id?1:0}aw([hD,LD,UR],(e,t,n)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>SD(n,e)));var xM=(e,t)=>t,TM=(e,t,n)=>n,OM=aw(O_,xM,TM,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(_M)),IM=aw(I_,xM,TM,(e,t,n)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===n).sort(_M)),CM=(e,t)=>({width:e.width,height:t.height}),AM=aw(U_,ZR,CM),kM=aw(__,U_,OM,xM,TM,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=CM(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}})(t,r,e));var l="top"===r&&!i||"bottom"===r&&i;a[n.id]=o-Number(l)*s.height,o+=(l?-1:1)*s.height}),a}),PM=aw(S_,U_,IM,xM,TM,(e,t,n,r,i)=>{var o,a={};return n.forEach(n=>{var s=((e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height}))(t,n);null==o&&(o=((e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}})(t,r,e));var l="left"===r&&!i||"right"===r&&i;a[n.id]=o-Number(l)*s.width,o+=(l?-1:1)*s.width}),a}),NM=aw([U_,ZR,(e,t)=>{var n=ZR(e,t);if(null!=n)return kM(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),RM=aw([U_,nD,(e,t)=>{var n=nD(e,t);if(null!=n)return PM(e,n.orientation,n.mirror)},(e,t)=>t],(e,t,n,r)=>{if(null!=t){var i=null==n?void 0:n[r];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),DM=aw(U_,nD,(e,t)=>({width:"number"==typeof t.width?t.width:60,height:e.height})),MM=(e,t,n)=>{switch(t){case"xAxis":return AM(e,n).width;case"yAxis":return DM(e,n).height;default:return}},jM=(e,t,n,r)=>{if(null!=n){var{allowDuplicatedCategory:i,type:o,dataKey:a}=n,s=u_(e,r),l=t.map(e=>e.value);return a&&s&&"category"===o&&i&&zy(l)?l:void 0}},LM=aw([wx,ED,oD,UR],jM),UM=(e,t,n,r)=>{if(null!=n&&null!=n.dataKey){var{type:i,scale:o}=n;return!u_(e,r)||"number"!==i&&"auto"===o?void 0:t.map(e=>e.value)}},FM=aw([wx,ED,aD,UR],UM),VM=aw([wx,(e,t,n)=>{switch(t){case"xAxis":return ZR(e,n);case"yAxis":return nD(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lM,SM,LM,FM,wM,dM,UR],(e,t,n,r,i,o,a,s,l)=>{if(null!=t){var u=u_(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:o,duplicateDomain:i,isCategorical:u,niceTicks:s,range:a,realScaleType:n,scale:r}}}),zM=aw([wx,aD,lM,SM,dM,wM,LM,FM,UR],(e,t,n,r,i,o,a,s,l)=>{if(null!=t&&null!=r){var u=u_(e,l),{type:c,ticks:d,tickCount:h}=t,f="scaleBand"===n&&"function"==typeof r.bandwidth?r.bandwidth()/2:2,p="category"===c&&r.bandwidth?r.bandwidth()/f:0;p="angleAxis"===l&&null!=o&&o.length>=2?2*Ry(o[0]-o[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var n=a?a.indexOf(e):e;return{index:t,coordinate:r(n)+p,value:e,offset:p}}).filter(e=>r_(e.coordinate)):u&&s?s.map((e,t)=>({coordinate:r(e)+p,value:e,index:t,offset:p})).filter(e=>r_(e.coordinate)):r.ticks?r.ticks(h).map(e=>({coordinate:r(e)+p,value:e,offset:p})):r.domain().map((e,t)=>({coordinate:r(e)+p,value:a?a[e]:e,index:t,offset:p}))}}),qM=aw([wx,aD,SM,wM,LM,FM,UR],(e,t,n,r,i,o,a)=>{if(null!=t&&null!=n&&null!=r&&r[0]!==r[1]){var s=u_(e,a),{tickCount:l}=t,u=0;return u="angleAxis"===a&&(null==r?void 0:r.length)>=2?2*Ry(r[0]-r[1])*u:u,s&&o?o.map((e,t)=>({coordinate:n(e)+u,value:e,index:t,offset:u})):n.ticks?n.ticks(l).map(e=>({coordinate:n(e)+u,value:e,offset:u})):n.domain().map((e,t)=>({coordinate:n(e)+u,value:i?i[e]:e,index:t,offset:u}))}}),BM=aw(oD,SM,(e,t)=>{if(null!=e&&null!=t)return WR(WR({},e),{},{scale:t})}),HM=aw([oD,lM,aM,EM],uM);aw((e,t,n)=>iD(e,n),HM,(e,t)=>{if(null!=e&&null!=t)return WR(WR({},e),{},{scale:t})});var $M=aw([wx,O_,I_],(e,t,n)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),GM=e=>e.options.defaultTooltipEventType,KM=e=>e.options.validateTooltipEventTypes;function WM(e,t,n){if(null==e)return t;var r=e?"axis":"item";return null==n?t:n.includes(r)?r:t}function JM(e,t){return WM(t,GM(e),KM(e))}var YM=(e,t)=>{var n,r=Number(t);if(!Dy(r)&&null!=t)return r>=0?null==e||null===(n=e[r])||void 0===n?void 0:n.value:void 0},XM={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},QM=gS({name:"tooltip",initialState:{itemInteraction:{click:XM,hover:XM},axisInteraction:{click:XM,hover:XM},keyboardInteraction:XM,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:aS()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=KE(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:aS()},removeTooltipEntrySettings:{reducer(e,t){var n=KE(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:aS()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:ZM,replaceTooltipEntrySettings:ej,removeTooltipEntrySettings:tj,setTooltipSettingsState:nj,setActiveMouseOverItemIndex:rj,mouseLeaveItem:ij,mouseLeaveChart:oj,setActiveClickItemIndex:aj,setMouseOverAxisIndex:sj,setMouseClickAxisIndex:lj,setSyncInteraction:uj,setKeyboardInteraction:cj}=QM.actions,dj=QM.reducer;function hj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hj(Object(n),!0).forEach(function(t){pj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mj=(e,t,n,r)=>{if(null==t)return XM;var i=function(e,t,n){return"axis"===t?"click"===n?e.axisInteraction.click:e.axisInteraction.hover:"click"===n?e.itemInteraction.click:e.itemInteraction.hover}(e,t,n);if(null==i)return XM;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var o=!0===e.settings.active;if(null!=i.index){if(o)return fj(fj({},i),{},{active:!0})}else if(null!=r)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return fj(fj({},XM),{},{coordinate:i.coordinate})};function gj(e,t){var n=function(e){if("number"==typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}(e),r=t[0],i=t[1];if(void 0===n)return!1;var o=Math.min(r,i),a=Math.max(r,i);return n>=o&&n<=a}var yj=(e,t,n,r)=>{var i=null==e?void 0:e.index;if(null==i)return null;var o=Number(i);if(!r_(o))return i;var a=1/0;t.length>0&&(a=t.length-1);var s=Math.max(0,Math.min(o,a)),l=t[s];return null==l||function(e,t,n){if(null==n||null==t)return!0;var r=l_(e,t);return null==r||!fN(n)||gj(r,n)}(l,n,r)?String(s):null},vj=(e,t,n,r,i,o,a,s)=>{if(null!=o&&null!=s){var l=a[0],u=null==l?void 0:s(l.positions,o);if(null!=u)return u;var c=null==i?void 0:i[Number(o)];if(c)return"horizontal"===n?{x:c.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:c.coordinate}}},bj=(e,t,n,r)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var i;if(null==(i="hover"===n?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=r){var o=e.tooltipItemPayloads[0];return null!=o?[o]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===i})},wj=e=>e.options.tooltipPayloadSearcher,Ej=e=>e.tooltip;function Sj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sj(Object(n),!0).forEach(function(t){xj(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xj(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tj=(e,t,n,r,i,o,a)=>{if(null!=t&&null!=o){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:c}=n;return e.reduce((e,n)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=n,g=function(e,t){return null!=e?e:t}(p,s),y=Array.isArray(g)?n_(g,u,c):g,v=null!==(d=null==m?void 0:m.dataKey)&&void 0!==d?d:r,b=null==m?void 0:m.nameKey;(h=r&&Array.isArray(y)&&!Array.isArray(y[0])&&"axis"===a?function(e,t,n){if(e&&e.length)return e.find(e=>e&&("function"==typeof t?t(e):ky(e,t))===n)}(y,r,i):o(y,t,l,b),Array.isArray(h))?h.forEach(t=>{var n=_j(_j({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(w_({tooltipEntrySettings:n,dataKey:t.dataKey,payload:t.payload,value:l_(t.payload,t.dataKey),name:t.name}))}):e.push(w_({tooltipEntrySettings:m,dataKey:v,payload:h,value:l_(h,v),name:null!==(f=l_(h,b))&&void 0!==f?f:null==m?void 0:m.name}));return e},[])}},Oj=aw([OD,wx,sD,cR,$R],sM),Ij=aw([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Cj=aw([$R,GR],lD),Aj=aw([Ij,OD,Cj],dD,{memoizeOptions:{resultEqualityCheck:HR}}),kj=aw([Aj],e=>e.filter(qR)),Pj=aw([Aj],gD,{memoizeOptions:{resultEqualityCheck:HR}}),Nj=aw([Pj,cN],vD),Rj=aw([kj,cN,OD],zR),Dj=aw([Nj,OD,Aj],wD),Mj=aw([OD],RD),jj=aw([OD],e=>e.allowDataOverflow),Lj=aw([Mj,jj],mN),Uj=aw([Aj],e=>e.filter(qR)),Fj=aw([Rj,Uj,lR,uR],AD),Vj=aw([Fj,cN,$R,Lj],PD),zj=aw([Aj],pD),qj=aw([Nj,OD,zj,LD,$R],FD,{memoizeOptions:{resultEqualityCheck:BR}}),Bj=aw([qD,$R,GR],BD),Hj=aw([Bj,$R],JD),$j=aw([$D,$R,GR],BD),Gj=aw([$j,$R],XD),Kj=aw([KD,$R,GR],BD),Wj=aw([Kj,$R],ZD),Jj=aw([Hj,Wj,Gj],UD),Yj=aw([OD,Mj,Lj,Vj,qj,Jj,wx,$R],nM),Xj=aw([OD,wx,Nj,Dj,lR,$R,Yj],oM),Qj=aw([Xj,OD,Oj],cM),Zj=aw([OD,Xj,Qj,$R],hM),eL=e=>{var t=$R(e),n=GR(e);return wM(e,t,n,!1)},tL=aw([OD,eL],xR),nL=aw([OD,Oj,Zj,tL],uM),rL=aw([wx,Dj,OD,$R],jM),iL=aw([wx,Dj,OD,$R],UM),oL=aw([wx,OD,Oj,nL,eL,rL,iL,$R],(e,t,n,r,i,o,a,s)=>{if(t){var{type:l}=t,u=u_(e,s);if(r){var c="scaleBand"===n&&r.bandwidth?r.bandwidth()/2:2,d="category"===l&&r.bandwidth?r.bandwidth()/c:0;return d="angleAxis"===s&&null!=i&&(null==i?void 0:i.length)>=2?2*Ry(i[0]-i[1])*d:d,u&&a?a.map((e,t)=>({coordinate:r(e)+d,value:e,index:t,offset:d})):r.domain().map((e,t)=>({coordinate:r(e)+d,value:o?o[e]:e,index:t,offset:d}))}}}),aL=aw([GM,KM,e=>e.tooltip.settings],(e,t,n)=>WM(n.shared,e,t)),sL=e=>e.tooltip.settings.trigger,lL=e=>e.tooltip.settings.defaultIndex,uL=aw([Ej,aL,sL,lL],mj),cL=aw([uL,Nj,ID,Xj],yj),dL=aw([oL,cL],YM),hL=aw([uL],e=>{if(e)return e.dataKey}),fL=aw([uL],e=>{if(e)return e.graphicalItemId}),pL=aw([Ej,aL,sL,lL],bj),mL=aw([S_,__,wx,U_,oL,lL,pL,wj],vj),gL=aw([uL,mL],(e,t)=>null!=e&&e.coordinate?e.coordinate:t),yL=aw([uL],e=>{var t;return null!==(t=null==e?void 0:e.active)&&void 0!==t&&t}),vL=aw([pL,cL,cN,ID,dL,wj,aL],Tj);function bL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function wL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bL(Object(n),!0).forEach(function(t){EL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function EL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}aw([vL],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});var SL=()=>{var e=Qb(OD),t=Qb(oL),n=Qb(nL);return b_(e&&n?wL(wL({},e),{},{scale:n}):void 0,t)};function _L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_L(Object(n),!0).forEach(function(t){TL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function TL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OL=(e,t,n,r,i)=>{var o,a=null!==(o=null==t?void 0:t.length)&&void 0!==o?o:0;if(a<=1||null==e)return 0;if("angleAxis"===r&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var s=0;s<a;s++){var l,u,c,d,h,f=s>0?null===(l=n[s-1])||void 0===l?void 0:l.coordinate:null===(u=n[a-1])||void 0===u?void 0:u.coordinate,p=null===(c=n[s])||void 0===c?void 0:c.coordinate,m=s>=a-1?null===(d=n[0])||void 0===d?void 0:d.coordinate:null===(h=n[s+1])||void 0===h?void 0:h.coordinate,g=void 0;if(null!=f&&null!=p&&null!=m)if(Ry(p-f)!==Ry(m-p)){var y=[];if(Ry(m-p)===Ry(i[1]-i[0])){g=m;var v=p+i[1]-i[0];y[0]=Math.min(v,(v+f)/2),y[1]=Math.max(v,(v+f)/2)}else{g=f;var b=m+i[1]-i[0];y[0]=Math.min(p,(b+p)/2),y[1]=Math.max(p,(b+p)/2)}var w,E=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>E[0]&&e<=E[1]||e>=y[0]&&e<=y[1])return null===(w=n[s])||void 0===w?void 0:w.index}else{var S,_=Math.min(f,m),x=Math.max(f,m);if(e>(_+p)/2&&e<=(x+p)/2)return null===(S=n[s])||void 0===S?void 0:S.index}}else if(t)for(var T=0;T<a;T++){var O=t[T];if(null!=O){var I=t[T+1],C=t[T-1];if(0===T&&null!=I&&e<=(O.coordinate+I.coordinate)/2)return O.index;if(T===a-1&&null!=C&&e>(O.coordinate+C.coordinate)/2)return O.index;if(T>0&&T<a-1&&null!=C&&null!=I&&e>(O.coordinate+C.coordinate)/2&&e<=(O.coordinate+I.coordinate)/2)return O.index}}return-1},IL=(e,t)=>t,CL=(e,t,n)=>n,AL=(e,t,n,r)=>r,kL=aw(oL,e=>kw(e,e=>e.coordinate)),PL=aw([Ej,IL,CL,AL],mj),NL=aw([PL,Nj,ID,Xj],yj),RL=aw([Ej,IL,CL,AL],bj),DL=aw([S_,__,wx,U_,oL,AL,RL,wj],vj),ML=aw([PL,DL],(e,t)=>{var n;return null!==(n=e.coordinate)&&void 0!==n?n:t}),jL=aw([oL,NL],YM),LL=aw([RL,NL,cN,ID,jL,wj,IL],Tj),UL=aw([PL,NL],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),FL=(e,t,n,r,i,o,a)=>{if(e&&r&&i&&o&&n){var s=cI(e,n);if(s){var l=((e,t)=>"centric"===t?e.angle:e.radius)(s,t),u=OL(l,a,o,r,i),c=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("centric"===e){var o=i.coordinate,{radius:a}=r;return xL(xL(xL({},r),aI(r.cx,r.cy,a,o)),{},{angle:o,radius:a})}var s=i.coordinate,{angle:l}=r;return xL(xL(xL({},r),aI(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,o,u,s);return{activeIndex:String(u),activeCoordinate:c}}}},VL=aw(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(null!=t){var r=e[t];if(null!=r)return n?r.panoramaElement:r.element}}),zL=aw(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(pR));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}}});function qL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function BL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qL(Object(n),!0).forEach(function(t){HL(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qL(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function HL(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $L={zIndexMap:Object.values(pR).reduce((e,t)=>BL(BL({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},GL=new Set(Object.values(pR));var KL=gS({name:"zIndex",initialState:$L,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:aS()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!function(e){return GL.has(e)}(n)&&delete e.zIndexMap[n])},prepare:aS()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:aS()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:aS()}}}),{registerZIndexPortal:WL,unregisterZIndexPortal:JL,registerZIndexPortalElement:YL,unregisterZIndexPortalElement:XL}=KL.actions,QL=KL.reducer;function ZL(e){var{zIndex:t,children:n}=e,r=void 0!==Ex()&&void 0!==t&&0!==t,i=q_(),o=Wb();m.useLayoutEffect(()=>r?(o(WL({zIndex:t})),()=>{o(JL({zIndex:t}))}):Gy,[o,t,r]);var a=Qb(e=>VL(e,t,i));return r?a?_t.createPortal(n,a):null:n}function eU(){return eU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eU.apply(null,arguments)}function tU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tU(Object(n),!0).forEach(function(t){rU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return m.isValidElement(t)?m.cloneElement(t,r):m.createElement(n,r)}function oU(e){var t,n,r,i,{coordinate:o,payload:a,index:s,offset:l,tooltipAxisBandSize:u,layout:c,cursor:d,tooltipEventType:h,chartName:f}=e,p=o,g=a,y=s;if(!d||!p||"ScatterChart"!==f&&"axis"!==h)return null;if("ScatterChart"===f)n=p,r=YT,i=pR.cursorLine;else if("BarChart"===f)n=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(c,p,l,u),r=KO,i=pR.cursorRectangle;else if("radial"===c&&tv(p)){var{cx:v,cy:b,radius:w,startAngle:E,endAngle:S}=dI(p);n={cx:v,cy:b,startAngle:E,endAngle:S,innerRadius:w,outerRadius:w},r=yI,i=pR.cursorLine}else n={points:vI(c,p,l)},r=HT,i=pR.cursorLine;var _="object"==typeof d&&"className"in d?d.className:void 0,x=nU(nU(nU(nU({stroke:"#ccc",pointerEvents:"none"},l),n),Ym(d)),{},{payload:g,payloadIndex:y,className:Bm("recharts-tooltip-cursor",_)});return m.createElement(ZL,{zIndex:null!==(t=e.zIndex)&&void 0!==t?t:i},m.createElement(iU,{cursor:d,cursorComp:r,cursorProps:x}))}function aU(e){var t=SL(),n=yx(),r=Ex(),i=Qb(cR);return null==t||null==n||null==r||null==i?null:m.createElement(oU,eU({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var sU,lU=m.createContext(null),uU={exports:{}};var cU=(sU||(sU=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!=typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,i),!0;case 5:return c.fn.call(c.context,t,r,i,o),!0;case 6:return c.fn.call(c.context,t,r,i,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&u.push(s[l]);u.length?this._events[o]=1===u.length?u[0]:u:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s}(uU)),uU.exports);var dU=new(r(cU)),hU="recharts.syncEvent.tooltip",fU="recharts.syncEvent.brush";function pU(e,t){if(t){var n=Number.parseInt(t,10);if(!Dy(n))return null==e?void 0:e[n]}}var mU=gS({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gU=mU.reducer,{createEventEmitter:yU}=mU.actions;function vU(e){return e.tooltip.syncInteraction}var bU=gS({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;null!=n&&(e.dataStartIndex=n),null!=r&&(e.dataEndIndex=r)}}}),{setChartData:wU,setDataStartEndIndexes:EU,setComputedData:SU}=bU.actions,_U=bU.reducer,xU=["x","y"];function TU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function OU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TU(Object(n),!0).forEach(function(t){IU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function IU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CU(){var e=Qb(dR),t=Qb(fR),n=Wb(),r=Qb(hR),i=Qb(oL),o=Ex(),a=mx(),s=Qb(e=>e.rootProps.className);m.useEffect(()=>{if(null==e)return Gy;var s=(s,l,u)=>{var c;if(t!==u&&e===s)if("index"!==r){if(null!=i){var d;if("function"==typeof r){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=r(i,h);d=i[f]}else"value"===r&&(d=i.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=a){var{x:m,y:g}=p,y=Math.min(m,a.x+a.width),v=Math.min(g,a.y+a.height),b={x:"horizontal"===o?d.coordinate:y,y:"horizontal"===o?v:d.coordinate},w=uj({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(w)}else n(uj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(a&&null!=l&&null!==(c=l.payload)&&void 0!==c&&c.coordinate&&l.payload.sourceViewBox){var E=l.payload.coordinate,{x:S,y:_}=E,x=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(E,xU),{x:T,y:O,width:I,height:C}=l.payload.sourceViewBox,A=OU(OU({},x),{},{x:a.x+(I?(S-T)/I:0)*a.width,y:a.y+(C?(_-O)/C:0)*a.height});n(OU(OU({},l),{},{payload:OU(OU({},l.payload),{},{coordinate:A})}))}else n(l)};return dU.on(hU,s),()=>{dU.off(hU,s)}},[s,n,t,e,r,i,o,a])}function AU(){var e=Wb();m.useEffect(()=>{e(yU())},[e]),CU(),function(){var e=Qb(dR),t=Qb(fR),n=Wb();m.useEffect(()=>{if(null==e)return Gy;var r=(r,i,o)=>{t!==o&&e===r&&n(EU(i))};return dU.on(fU,r),()=>{dU.off(fU,r)}},[n,t,e])}()}function kU(e,t,n,r,i,o){var a=Qb(n=>((e,t,n)=>{if(null!=t){var r=Ej(e);return"axis"===t?"hover"===n?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:"hover"===n?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}})(n,e,t)),s=Qb(fR),l=Qb(dR),u=Qb(hR),c=Qb(vU),d=null==c?void 0:c.active,h=mx();m.useEffect(()=>{if(!d&&null!=l&&null!=s){var e=uj({active:o,coordinate:n,dataKey:a,index:i,label:"number"==typeof r?String(r):r,sourceViewBox:h,graphicalItemId:void 0});dU.emit(hU,l,e,s)}},[d,n,a,i,r,s,l,u,o,h])}function PU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function NU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PU(Object(n),!0).forEach(function(t){RU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function RU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DU(e){return e.dataKey}var MU=[],jU={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function LU(e){var t,n,r=ov(e,jU),{active:i,allowEscapeViewBox:o,animationDuration:a,animationEasing:s,content:l,filterNull:u,isAnimationActive:c,offset:d,payloadUniqBy:h,position:f,reverseDirection:p,useTranslate3d:g,wrapperStyle:y,cursor:v,shared:b,trigger:w,defaultIndex:E,portal:S,axisId:_}=r,x=Wb(),T="number"==typeof E?String(E):E;m.useEffect(()=>{x(nj({shared:b,trigger:w,axisId:_,active:i,defaultIndex:T}))},[x,b,w,_,i,T]);var O=mx(),I=RT(),C=function(e){return Qb(t=>JM(t,e))}(b),{activeIndex:A,isActive:k}=null!==(t=Qb(e=>UL(e,C,w,T)))&&void 0!==t?t:{},P=Qb(e=>LL(e,C,w,T)),N=Qb(e=>jL(e,C,w,T)),R=Qb(e=>ML(e,C,w,T)),D=P,M=m.useContext(lU),j=null!==(n=null!=i?i:k)&&void 0!==n&&n,[L,U]=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[t,n]=m.useState({height:0,left:0,top:0,width:0}),r=m.useCallback(e=>{if(null!=e){var r=e.getBoundingClientRect(),i={height:r.height,left:r.left,top:r.top,width:r.width};(Math.abs(i.height-t.height)>1||Math.abs(i.left-t.left)>1||Math.abs(i.top-t.top)>1||Math.abs(i.width-t.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}([D,j]),F="axis"===C?N:void 0;kU(C,w,R,F,A,j);var V=null!=S?S:M;if(null==V||null==O||null==C)return null;var z=null!=D?D:MU;j||(z=MU),u&&z.length&&(z=function(e,t,n){return!0===t?Mb(e,n):"function"==typeof t?Mb(e,t):e}(z.filter(e=>null!=e.value&&(!0!==e.hide||r.includeHidden)),h,DU));var q=z.length>0,B=m.createElement(NT,{allowEscapeViewBox:o,animationDuration:a,animationEasing:s,isAnimationActive:c,active:j,coordinate:R,hasPayload:q,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:O,wrapperStyle:y,lastBoundingBox:L,innerRef:U,hasPortalFromProps:Boolean(S)},function(e,t){return m.isValidElement(e)?m.cloneElement(e,t):"function"==typeof e?m.createElement(e,t):m.createElement(xT,t)}(l,NU(NU({},r),{},{payload:z,label:F,active:j,activeIndex:A,coordinate:R,accessibilityLayer:I})));return m.createElement(m.Fragment,null,_t.createPortal(B,V),j&&m.createElement(aU,{cursor:v,tooltipEventType:C,coordinate:R,payload:z,index:A}))}var UU=e=>null;function FU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}UU.displayName="Cell";function VU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zU(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qU=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?VU(Object(n),!0).forEach(function(t){zU(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},{cacheSize:2e3,enableCache:!0}),BU=new class{constructor(e){FU(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;null!=n&&this.cache.delete(n)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(qU.cacheSize),HU={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$U="recharts_measurement_span";var GU=(e,t)=>{try{var n=document.getElementById($U);n||((n=document.createElement("span")).setAttribute("id",$U),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,HU,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch(i){return{width:0,height:0}}},KU=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e||EO)return{width:0,height:0};if(!qU.enableCache)return GU(e,t);var n=function(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",o=t.fontStyle||"",a=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(a,"|").concat(s)}(e,t),r=BU.get(n);if(r)return r;var i=GU(e,t);return BU.set(n,i),i};var WU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YU=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XU=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,QU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},ZU=["cm","mm","pt","pc","in","Q","px"];var eF,tF,nF,rF="NaN";class iF{static parse(e){var t,[,n,r]=null!==(t=XU.exec(e))&&void 0!==t?t:[];return null==n?iF.NaN:new iF(parseFloat(n),null!=r?r:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,Dy(e)&&(this.unit=""),""===t||YU.test(t)||(this.num=NaN,this.unit=""),function(e){return ZU.includes(e)}(t)&&(this.num=function(e,t){return e*QU[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new iF(NaN,""):new iF(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new iF(NaN,""):new iF(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new iF(NaN,""):new iF(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new iF(NaN,""):new iF(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dy(this.num)}}function oF(e){if(null==e||e.includes(rF))return rF;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,o]=null!==(n=WU.exec(t))&&void 0!==n?n:[],a=iF.parse(null!=r?r:""),s=iF.parse(null!=o?o:""),l="*"===i?a.multiply(s):a.divide(s);if(l.isNaN())return rF;t=t.replace(WU,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,c,d,h]=null!==(u=JU.exec(t))&&void 0!==u?u:[],f=iF.parse(null!=c?c:""),p=iF.parse(null!=h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return rF;t=t.replace(JU,m.toString())}return t}eF=iF,tF="NaN",nF=new iF(NaN,""),(tF=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(tF))in eF?Object.defineProperty(eF,tF,{value:nF,enumerable:!0,configurable:!0,writable:!0}):eF[tF]=nF;var aF=/\(([^()]*)\)/;function sF(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,n=e;null!=(t=aF.exec(n));){var[,r]=t;n=n.replace(aF,oF(r))}return n}(t),t=oF(t)}function lF(e){var t=function(e){try{return sF(e)}catch(t){return rF}}(e.slice(5,-1));return t===rF?"":t}var uF=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],cF=["dx","dy","angle","className","breakAll"];function dF(){return dF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dF.apply(null,arguments)}function hF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var fF=/[ \f\n\r\t\v\u2028\u2029]+/,pF=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];return By(t)||(i=n?t.toString().split(""):t.toString().split(fF)),{wordsWithComputedWidth:i.map(e=>({word:e,width:KU(e,r).width})),spaceWidth:n?0:KU("",r).width}}catch(o){return null}};function mF(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var gF=(e,t,n,r)=>e.reduce((e,i)=>{var{word:o,width:a}=i,s=e[e.length-1];if(s&&null!=a&&(null==t||r||s.width+a+n<Number(t)))s.words.push(o),s.width+=a+n;else{var l={words:[o],width:a};e.push(l)}return e},[]),yF=e=>e.reduce((e,t)=>e.width>t.width?e:t),vF=(e,t,n,r,i,o,a,s)=>{var l=e.slice(0,t),u=pF({breakAll:n,style:r,children:l+""});if(!u)return[!1,[]];var c=gF(u.wordsWithComputedWidth,o,a,s);return[c.length>i||yF(c).width>Number(o),c]},bF=e=>[{words:By(e)?[]:e.toString().split(fF),width:void 0}],wF=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:a}=e;if((t||n)&&!EO){var s=pF({breakAll:o,children:r,style:i});if(!s)return bF(r);var{wordsWithComputedWidth:l,spaceWidth:u}=s;return((e,t,n,r,i)=>{var{maxLines:o,children:a,style:s,breakAll:l}=e,u=jy(o),c=String(a),d=gF(t,r,n,i);if(!u||i)return d;if(!(d.length>o||yF(d).width>Number(r)))return d;for(var h,f=0,p=c.length-1,m=0;f<=p&&m<=c.length-1;){var g=Math.floor((f+p)/2),y=g-1,[v,b]=vF(c,y,l,s,o,r,n,i),[w]=vF(c,g,l,s,o,r,n,i);if(v||w||(f=g+1),v&&w&&(p=g-1),!v&&w){h=b;break}m++}return h||d})({breakAll:o,children:r,maxLines:a,style:i},l,u,t,Boolean(n))}return bF(r)},EF="#808080",SF={angle:0,breakAll:!1,capHeight:"0.71em",fill:EF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},_F=m.forwardRef((e,t)=>{var n=ov(e,SF),{x:r,y:i,lineHeight:o,capHeight:a,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:c}=n,d=hF(n,uF),h=m.useMemo(()=>wF({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:f,dy:p,angle:g,className:y,breakAll:v}=d,b=hF(d,cF);if(!Ly(r)||!Ly(i)||0===h.length)return null;var w,E=Number(r)+(jy(f)?f:0),S=Number(i)+(jy(p)?p:0);if(!r_(E)||!r_(S))return null;switch(c){case"start":w=lF("calc(".concat(a,")"));break;case"middle":w=lF("calc(".concat((h.length-1)/2," * -").concat(o," + (").concat(a," / 2))"));break;default:w=lF("calc(".concat(h.length-1," * -").concat(o,")"))}var _=[];if(l){var x=h[0].width,{width:T}=d;_.push("scale(".concat(jy(T)&&jy(x)?T/x:1,")"))}return g&&_.push("rotate(".concat(g,", ").concat(E,", ").concat(S,")")),_.length&&(b.transform=_.join(" ")),m.createElement("text",dF({},Xm(b),{ref:t,x:E,y:S,className:Bm("recharts-text",y),textAnchor:u,fill:s.includes("url")?EF:s}),h.map((e,t)=>{var n=e.words.join(v?"":" ");return m.createElement("tspan",{x:E,dy:0===t?w:o,key:"".concat(n,"-").concat(t)},n)}))});_F.displayName="Text";var xF=["labelRef"],TF=["content"];function OF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function IF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IF(Object(n),!0).forEach(function(t){AF(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AF(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kF(){return kF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kF.apply(null,arguments)}var PF=m.createContext(null),NF=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a,children:s}=e,l=m.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:o,height:a}),[t,n,r,i,o,a]);return m.createElement(PF.Provider,{value:l},s)},RF=()=>{var e=m.useContext(PF),t=mx();return e||px(t)},DF=m.createContext(null),MF=e=>null!=e&&"function"==typeof e,jF=(e,t,n,r,i)=>{var o,a,{offset:s,className:l}=e,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:f,endAngle:p,clockWise:g}=i,y=(d+h)/2,v=((e,t)=>Ry(t-e)*Math.min(Math.abs(t-e),360))(f,p),b=v>=0?1:-1;switch(t){case"insideStart":o=f+b*s,a=g;break;case"insideEnd":o=p-b*s,a=!g;break;case"end":o=p+b*s,a=g;break;default:throw new Error("Unsupported position ".concat(t))}a=v<=0?a:!a;var w=aI(u,c,y,o),E=aI(u,c,y,o+359*(a?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(y,",").concat(y,",0,1,").concat(a?0:1,",\n    ").concat(E.x,",").concat(E.y),_=By(e.id)?Fy("recharts-radial-line-"):e.id;return m.createElement("text",kF({},r,{dominantBaseline:"central",className:Bm("recharts-radial-bar-label",l)}),m.createElement("defs",null,m.createElement("path",{id:_,d:S})),m.createElement("textPath",{xlinkHref:"#".concat(_)},n))},LF=e=>"cx"in e&&jy(e.cx),UF={angle:0,offset:5,zIndex:pR.label,position:"middle",textBreakAll:!1};function FF(e){var t,n,r,i,o,a=ov(e,UF),{viewBox:s,position:l,value:u,children:c,content:d,className:h="",textBreakAll:f,labelRef:p}=a,g=(t=m.useContext(DF),n=Qb(LR),t||n),y=RF();if(!(r=null==s?"center"===l?y:null!=g?g:y:LF(s)?s:px(s))||By(u)&&By(c)&&!m.isValidElement(d)&&"function"!=typeof d)return null;var v=CF(CF({},a),{},{viewBox:r});if(m.isValidElement(d)){var{labelRef:b}=v,w=OF(v,xF);return m.cloneElement(d,w)}if("function"==typeof d){var{content:E}=v,S=OF(v,TF);if(i=m.createElement(d,S),m.isValidElement(i))return i}else i=(e=>{var{value:t,formatter:n}=e,r=By(e.children)?t:e.children;return"function"==typeof n?n(r):r})(a);var _=Xm(a);if(LF(r)){if("insideStart"===l||"insideEnd"===l||"end"===l)return jF(a,l,i,_,r);o=((e,t,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:s,endAngle:l}=e,u=(s+l)/2;if("outside"===n){var{x:c,y:d}=aI(r,i,a+t,u);return{x:c,y:d,textAnchor:c>=r?"start":"end",verticalAnchor:"middle"}}if("center"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===n)return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(o+a)/2,{x:f,y:p}=aI(r,i,h,u);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r,a.offset,a.position)}else o=((e,t)=>{var n,{parentViewBox:r,offset:i,position:o}=e;null==r||LF(r)||(n=r);var{x:a,y:s,upperWidth:l,lowerWidth:u,height:c}=t,d=a,h=a+(l-u)/2,f=(d+h)/2,p=(l+u)/2,m=d+l/2,g=c>=0?1:-1,y=g*i,v=g>0?"end":"start",b=g>0?"start":"end",w=l>=0?1:-1,E=w*i,S=w>0?"end":"start",_=w>0?"start":"end";if("top"===o)return CF(CF({},{x:d+l/2,y:s-y,textAnchor:"middle",verticalAnchor:v}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===o)return CF(CF({},{x:h+u/2,y:s+c+y,textAnchor:"middle",verticalAnchor:b}),n?{height:Math.max(n.y+n.height-(s+c),0),width:u}:{});if("left"===o){var x={x:f-E,y:s+c/2,textAnchor:S,verticalAnchor:"middle"};return CF(CF({},x),n?{width:Math.max(x.x-n.x,0),height:c}:{})}if("right"===o){var T={x:f+p+E,y:s+c/2,textAnchor:_,verticalAnchor:"middle"};return CF(CF({},T),n?{width:Math.max(n.x+n.width-T.x,0),height:c}:{})}var O=n?{width:p,height:c}:{};return"insideLeft"===o?CF({x:f+E,y:s+c/2,textAnchor:_,verticalAnchor:"middle"},O):"insideRight"===o?CF({x:f+p-E,y:s+c/2,textAnchor:S,verticalAnchor:"middle"},O):"insideTop"===o?CF({x:d+l/2,y:s+y,textAnchor:"middle",verticalAnchor:b},O):"insideBottom"===o?CF({x:h+u/2,y:s+c-y,textAnchor:"middle",verticalAnchor:v},O):"insideTopLeft"===o?CF({x:d+E,y:s+y,textAnchor:_,verticalAnchor:b},O):"insideTopRight"===o?CF({x:d+l-E,y:s+y,textAnchor:S,verticalAnchor:b},O):"insideBottomLeft"===o?CF({x:h+E,y:s+c-y,textAnchor:_,verticalAnchor:v},O):"insideBottomRight"===o?CF({x:h+u-E,y:s+c-y,textAnchor:S,verticalAnchor:v},O):o&&"object"==typeof o&&(jy(o.x)||My(o.x))&&(jy(o.y)||My(o.y))?CF({x:a+Vy(o.x,p),y:s+Vy(o.y,c),textAnchor:"end",verticalAnchor:"end"},O):CF({x:m,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},O)})(a,r);return m.createElement(ZL,{zIndex:a.zIndex},m.createElement(_F,kF({ref:p,className:Bm("recharts-label",h)},_,o,{textAnchor:mF(_.textAnchor)?_.textAnchor:o.textAnchor,breakAll:f}),i))}FF.displayName="Label";function VF(e){var{label:t,labelRef:n}=e;return((e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return!0===e?m.createElement(FF,kF({key:"label-implicit"},r)):Ly(e)?m.createElement(FF,kF({key:"label-implicit",value:e},r)):m.isValidElement(e)?e.type===FF?m.cloneElement(e,CF({key:"label-implicit"},r)):m.createElement(FF,kF({key:"label-implicit",content:e},r)):MF(e)?m.createElement(FF,kF({key:"label-implicit",content:e},r)):e&&"object"==typeof e?m.createElement(FF,kF({},e,{key:"label-implicit"},r)):null})(t,RF(),n)||null}var zF,qF={},BF={};function HF(){return zF||(zF=1,e=BF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.last=function(e){return e[e.length-1]}),BF;var e}var $F,GF,KF,WF,JF={};function YF(){return $F||($F=1,e=JF,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}),JF;var e}function XF(){return WF?KF:(WF=1,KF=(GF||(GF=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HF(),n=YF(),r=bv();e.last=function(e){if(r.isArrayLike(e))return t.last(n.toArray(e))}}(qF)),qF).last)}const QF=r(XF());var ZF=["valueAccessor"],eV=["dataKey","clockWise","id","textBreakAll","zIndex"];function tV(){return tV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tV.apply(null,arguments)}function nV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rV=e=>Array.isArray(e.value)?QF(e.value):e.value,iV=m.createContext(void 0),oV=iV.Provider,aV=m.createContext(void 0),sV=aV.Provider;function lV(e){var{valueAccessor:t=rV}=e,n=nV(e,ZF),{dataKey:r,clockWise:i,id:o,textBreakAll:a,zIndex:s}=n,l=nV(n,eV),u=m.useContext(iV),c=m.useContext(aV),d=u||c;return d&&d.length?m.createElement(ZL,{zIndex:null!=s?s:pR.label},m.createElement(rg,{className:"recharts-label-list"},d.map((e,i)=>{var s,u=By(r)?t(e,i):l_(e&&e.payload,r),c=By(o)?{}:{id:"".concat(o,"-").concat(i)};return m.createElement(FF,tV({key:"label-".concat(i)},Xm(e),l,c,{fill:null!==(s=n.fill)&&void 0!==s?s:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:a,viewBox:e.viewBox,index:i,zIndex:0}))}))):null}function uV(e){var{label:t}=e;return t?!0===t?m.createElement(lV,{key:"labelList-implicit"}):m.isValidElement(t)||MF(t)?m.createElement(lV,{key:"labelList-implicit",content:t}):"object"==typeof t?m.createElement(lV,tV({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}lV.displayName="LabelList";var cV=e=>e.graphicalItems.polarItems,dV=aw([UR,FR],lD),hV=aw([cV,oD,dV],dD),fV=aw([hV],gD),pV=aw([fV,dN],vD),mV=aw([pV,oD,hV],wD);aw([pV,oD,hV],(e,t,n)=>n.length>0?e.flatMap(e=>n.flatMap(n=>{var r;return{value:l_(e,null!==(r=t.dataKey)&&void 0!==r?r:n.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null==t?void 0:t.dataKey)?e.map(e=>({value:l_(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]})));var gV=()=>{},yV=aw([pV,oD,hV,LD,UR],FD),vV=aw([oD,DD,MD,gV,yV,gV,wx,UR],nM),bV=aw([oD,wx,pV,mV,lR,UR,vV],oM),wV=aw([bV,oD,lM],cM);aw([oD,bV,wV,UR],hM);var EV=gS({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:SV,removeRadiusAxis:_V,addAngleAxis:xV,removeAngleAxis:TV}=EV.actions,OV=EV.reducer;function IV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IV(Object(n),!0).forEach(function(t){AV(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IV(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function AV(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kV,PV,NV=aw([cV,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),RV=[],DV=(e,t,n)=>0===(null==n?void 0:n.length)?RV:n,MV=aw([dN,NV,DV],(e,t,n)=>{var r,{chartData:i}=e;if(null!=t&&((r=null!=(null==t?void 0:t.data)&&t.data.length>0?t.data:i)&&r.length||null==n||(r=n.map(e=>CV(CV({},t.presentationProps),e.props))),null!=r))return r}),jV=aw([MV,NV,DV],(e,t,n)=>{if(null!=e&&null!=t)return e.map((e,r)=>{var i,o,a=l_(e,t.nameKey,t.name);return o=null!=n&&null!==(i=n[r])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?n[r].props.fill:"object"==typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:E_(a,t.dataKey),color:o,payload:e,type:t.legendType}})}),LV=aw([MV,NV,DV,U_],(e,t,n,r)=>{if(null!=t&&null!=e)return function(e){var t,n,r,{pieSettings:i,displayedData:o,cells:a,offset:s}=e,{cornerRadius:l,startAngle:u,endAngle:c,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=Xz(u,c),g=Math.abs(m),y=o.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,v=o.filter(e=>0!==l_(e,d,0)).length,b=g-v*p-(g>=360?v:v-1)*y,w=o.reduce((e,t)=>{var n=l_(t,d,0);return e+(jy(n)?n:0)},0);w>0&&(n=o.map((e,t)=>{var n,o=l_(e,d,0),c=l_(e,h,t),g=Yz(i,s,e),v=(jy(o)?o:0)/w,E=Hz(Hz({},e),a&&a[t]&&a[t].props),S=(n=t?r.endAngle+Ry(m)*y*(0!==o?1:0):u)+Ry(m)*((0!==o?p:0)+v*b),_=(n+S)/2,x=(g.innerRadius+g.outerRadius)/2,T=[{name:c,value:o,payload:E,dataKey:d,type:f,graphicalItemId:i.id}],O=aI(g.cx,g.cy,x,_);return r=Hz(Hz(Hz(Hz({},i.presentationProps),{},{percent:v,cornerRadius:"string"==typeof l?parseFloat(l):l,name:c,tooltipPayload:T,midAngle:_,middleRadius:x,tooltipPosition:O},E),g),{},{value:o,dataKey:d,startAngle:n,endAngle:S,payload:E,paddingAngle:Ry(m)*y})}));return n}({offset:r,pieSettings:t,displayedData:e,cells:n})}),UV={exports:{}},FV={};function VV(){if(kV)return FV;kV=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),f=Symbol.for("react.client.reference");function p(f){if("object"==typeof f&&null!==f){var p=f.$$typeof;switch(p){case e:switch(f=f.type){case n:case i:case r:case l:case u:case h:return f;default:switch(f=f&&f.$$typeof){case a:case s:case d:case c:case o:return f;default:return p}}case t:return p}}}return FV.ContextConsumer=o,FV.ContextProvider=a,FV.Element=e,FV.ForwardRef=s,FV.Fragment=n,FV.Lazy=d,FV.Memo=c,FV.Portal=t,FV.Profiler=i,FV.StrictMode=r,FV.Suspense=l,FV.SuspenseList=u,FV.isContextConsumer=function(e){return p(e)===o},FV.isContextProvider=function(e){return p(e)===a},FV.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===e},FV.isForwardRef=function(e){return p(e)===s},FV.isFragment=function(e){return p(e)===n},FV.isLazy=function(e){return p(e)===d},FV.isMemo=function(e){return p(e)===c},FV.isPortal=function(e){return p(e)===t},FV.isProfiler=function(e){return p(e)===i},FV.isStrictMode=function(e){return p(e)===r},FV.isSuspense=function(e){return p(e)===l},FV.isSuspenseList=function(e){return p(e)===u},FV.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===i||e===r||e===l||e===u||"object"==typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===c||e.$$typeof===a||e.$$typeof===o||e.$$typeof===s||e.$$typeof===f||void 0!==e.getModuleId)},FV.typeOf=p,FV}function zV(){return PV||(PV=1,UV.exports=VV()),UV.exports}var qV=zV(),BV=e=>"string"==typeof e?e:e?e.displayName||e.name||"Component":"",HV=null,$V=null,GV=e=>{if(e===HV&&Array.isArray($V))return $V;var t=[];return m.Children.forEach(e,e=>{By(e)||(qV.isFragment(e)?t=t.concat(GV(e.props.children)):t.push(e))}),$V=t,HV=e,t};function KV(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map(e=>BV(e)):[BV(t)],GV(e).forEach(e=>{var t=ky(e,"type.displayName")||ky(e,"type.name");t&&-1!==r.indexOf(t)&&n.push(e)}),n}var WV,JV,YV,XV={};function QV(){return YV?JV:(YV=1,JV=(WV||(WV=1,e=XV,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e.isPlainObject=function(e){var t;if("object"!=typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){const n=e[Symbol.toStringTag];return null!=n&&!!(null==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))?void 0:t.writable)&&e.toString()===`[object ${n}]`}let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}),XV).isPlainObject);var e}const ZV=r(QV());var ez,tz,nz,rz,iz;function oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function az(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oz(Object(n),!0).forEach(function(t){sz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function sz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lz(){return lz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lz.apply(null,arguments)}function uz(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var cz=(e,t,n,r,i)=>{var o,a=n-r;return o=Ny(ez||(ez=uz(["M ",",",""])),e,t),o+=Ny(tz||(tz=uz(["L ",",",""])),e+n,t),o+=Ny(nz||(nz=uz(["L ",",",""])),e+n-a/2,t+i),o+=Ny(rz||(rz=uz(["L ",",",""])),e+n-a/2-r,t+i),o+=Ny(iz||(iz=uz(["L ",","," Z"])),e,t)},dz={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hz=e=>{var t=ov(e,dz),{x:n,y:r,upperWidth:i,lowerWidth:o,height:a,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:c,isUpdateAnimationActive:d}=t,h=m.useRef(null),[f,p]=m.useState(-1),g=m.useRef(i),y=m.useRef(o),v=m.useRef(a),b=m.useRef(n),w=m.useRef(r),E=OO(e,"trapezoid-");if(m.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var e=h.current.getTotalLength();e&&p(e)}catch(t){}},[]),n!==+n||r!==+r||i!==+i||o!==+o||a!==+a||0===i&&0===o||0===a)return null;var S=Bm("recharts-trapezoid",s);if(!d)return m.createElement("g",null,m.createElement("path",lz({},Xm(t),{className:S,d:cz(n,r,i,o,a)})));var _=g.current,x=y.current,T=v.current,O=b.current,I=w.current,C="0px ".concat(-1===f?1:f,"px"),A="".concat(f,"px 0px"),k=eO(["strokeDasharray"],u,l);return m.createElement(TO,{animationId:E,key:E,canBegin:f>0,duration:u,easing:l,isActive:d,begin:c},e=>{var s=qy(_,i,e),l=qy(x,o,e),u=qy(T,a,e),c=qy(O,n,e),d=qy(I,r,e);h.current&&(g.current=s,y.current=l,v.current=u,b.current=c,w.current=d);var f=e>0?{transition:k,strokeDasharray:A}:{strokeDasharray:C};return m.createElement("path",lz({},Xm(t),{className:S,d:cz(c,d,s,l,u),ref:h,style:az(az({},f),t.style)}))})},fz=["option","shapeType","activeClassName"];function pz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function mz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pz(Object(n),!0).forEach(function(t){gz(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function gz(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yz(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return m.createElement(KO,n);case"trapezoid":return m.createElement(hz,n);case"sector":return m.createElement(yI,n);case"symbols":if(function(e){return"symbols"===e}(t))return m.createElement(ev,n);break;case"curve":return m.createElement(HT,n);default:return null}}function vz(e){var t,{option:n,shapeType:r,activeClassName:i="recharts-active-shape"}=e,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,fz);if(m.isValidElement(n))t=m.cloneElement(n,mz(mz({},o),function(e){return m.isValidElement(e)?e.props:e}(n)));else if("function"==typeof n)t=n(o,o.index);else if(ZV(n)&&"boolean"!=typeof n){var a=function(e,t){return mz(mz({},t),e)}(n,o);t=m.createElement(yz,{shapeType:r,elementProps:a})}else{var s=o;t=m.createElement(yz,{shapeType:r,elementProps:s})}return o.isActive?m.createElement(rg,{className:i},t):t}var bz,wz=(e,t,n)=>{var r=Wb();return(i,o)=>a=>{null==e||e(i,o,a),r(rj({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Ez=e=>{var t=Wb();return(n,r)=>i=>{null==e||e(n,r,i),t(ij())}},Sz=(e,t,n)=>{var r=Wb();return(i,o)=>a=>{null==e||e(i,o,a),r(aj({activeIndex:String(o),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function _z(e){var{tooltipEntrySettings:t}=e,n=Wb(),r=q_(),i=m.useRef(null);return m.useLayoutEffect(()=>{r||(null===i.current?n(ZM(t)):i.current!==t&&n(ej({prev:i.current,next:t})),i.current=t)},[t,n,r]),m.useLayoutEffect(()=>()=>{i.current&&(n(tj(i.current)),i.current=null)},[n]),null}function xz(e){var{legendPayload:t}=e,n=Wb(),r=q_(),i=m.useRef(null);return m.useLayoutEffect(()=>{r||(null===i.current?n(mT(t)):i.current!==t&&n(gT({prev:i.current,next:t})),i.current=t)},[n,r,t]),m.useLayoutEffect(()=>()=>{i.current&&(n(yT(i.current)),i.current=null)},[n]),null}function Tz(e){var{legendPayload:t}=e,n=Wb(),r=Qb(wx),i=m.useRef(null);return m.useLayoutEffect(()=>{"centric"!==r&&"radial"!==r||(null===i.current?n(mT(t)):i.current!==t&&n(gT({prev:i.current,next:t})),i.current=t)},[n,r,t]),m.useLayoutEffect(()=>()=>{i.current&&(n(yT(i.current)),i.current=null)},[n]),null}var Oz=null!==(bz=y["useId".toString()])&&void 0!==bz?bz:()=>{var[e]=m.useState(()=>Fy("uid-"));return e};var Iz=m.createContext(void 0),Cz=e=>{var t,n,r,{id:i,type:o,children:a}=e,s=(t="recharts-".concat(o),n=i,r=Oz(),n||(t?"".concat(t,"-").concat(r):r));return m.createElement(Iz.Provider,{value:s},a(s))},Az=gS({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:aS()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=KE(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:aS()},removeCartesianGraphicalItem:{reducer(e,t){var n=KE(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:aS()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:aS()},removePolarGraphicalItem:{reducer(e,t){var n=KE(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:aS()}}}),{addCartesianGraphicalItem:kz,replaceCartesianGraphicalItem:Pz,removeCartesianGraphicalItem:Nz,addPolarGraphicalItem:Rz,removePolarGraphicalItem:Dz}=Az.actions,Mz=Az.reducer,jz=e=>{var t=Wb(),n=m.useRef(null);return m.useLayoutEffect(()=>{null===n.current?t(kz(e)):n.current!==e&&t(Pz({prev:n.current,next:e})),n.current=e},[t,e]),m.useLayoutEffect(()=>()=>{n.current&&(t(Nz(n.current)),n.current=null)},[t]),null},Lz=m.memo(jz);function Uz(e){var t=Wb();return m.useLayoutEffect(()=>(t(Rz(e)),()=>{t(Dz(e))}),[t,e]),null}var Fz=["key"],Vz=["onMouseEnter","onClick","onMouseLeave"],zz=["id"],qz=["id"];function Bz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bz(Object(n),!0).forEach(function(t){$z(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gz(){return Gz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gz.apply(null,arguments)}function Kz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wz(e){var t=m.useMemo(()=>KV(e.children,UU),[e.children]),n=Qb(n=>jV(n,e.id,t));return null==n?null:m.createElement(Tz,{legendPayload:n})}var Jz=m.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:a,name:s,hide:l,tooltipType:u,id:c}=e,d={dataDefinedOnItem:r.map(e=>e.tooltipPayload),positions:r.map(e=>e.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:a,dataKey:t,nameKey:n,name:E_(s,t),hide:l,type:u,color:a,unit:"",graphicalItemId:c}};return m.createElement(_z,{tooltipEntrySettings:d})}),Yz=(e,t,n)=>{var{top:r,left:i,width:o,height:a}=t,s=sI(o,a),l=i+Vy(e.cx,o,o/2),u=r+Vy(e.cy,a,a/2),c=Vy(e.innerRadius,s,0),d=((e,t,n)=>Vy("function"==typeof t?t(e):t,n,.8*n))(n,e.outerRadius,s);return{cx:l,cy:u,innerRadius:c,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(o*o+a*a)/2}},Xz=(e,t)=>Ry(t-e)*Math.min(Math.abs(t-e),360);function Qz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:o,dataKey:a}=n;if(!r||!i||!t)return null;var s=Jm(n),l=Ym(i),u=Ym(o),c="object"==typeof i&&"offsetRadius"in i&&"number"==typeof i.offsetRadius&&i.offsetRadius||20,d=t.map((e,t)=>{var n,r,d=(e.startAngle+e.endAngle)/2,h=aI(e.cx,e.cy,e.outerRadius+c,d),f=Hz(Hz(Hz(Hz({},s),e),{},{stroke:"none"},l),{},{index:t,textAnchor:(n=h.x,r=e.cx,n>r?"start":n<r?"end":"middle")},h),p=Hz(Hz(Hz(Hz({},s),e),{},{fill:"none",stroke:e.fill},u),{},{index:t,points:[aI(e.cx,e.cy,e.outerRadius,d),h],key:"line"});return m.createElement(ZL,{zIndex:pR.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(t)},m.createElement(rg,null,o&&((e,t)=>{if(m.isValidElement(e))return m.cloneElement(e,t);if("function"==typeof e)return e(t);var n=Bm("recharts-pie-label-line","boolean"!=typeof e?e.className:""),{key:r}=t,i=Kz(t,Fz);return m.createElement(HT,Gz({},i,{type:"linear",className:n}))})(o,p),((e,t,n)=>{if(m.isValidElement(e))return m.cloneElement(e,t);var r=n;if("function"==typeof e&&(r=e(t),m.isValidElement(r)))return r;var i,o=Bm("recharts-pie-label-text",(i=e)&&"object"==typeof i&&"className"in i&&"string"==typeof i.className?i.className:"");return m.createElement(_F,Gz({},t,{alignmentBaseline:"middle",className:o}),r)})(i,f,l_(e,a))))});return m.createElement(rg,{className:"recharts-pie-labels"},d)}function Zz(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return"object"==typeof i&&null!=i&&"position"in i?m.createElement(uV,{label:i}):m.createElement(Qz,{sectors:t,props:n,showLabels:r})}function eq(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:a}=e,s=Qb(cL),l=Qb(hL),u=Qb(fL),{onMouseEnter:c,onClick:d,onMouseLeave:h}=i,f=Kz(i,Vz),p=wz(c,i.dataKey,a),g=Ez(h),y=Sz(d,i.dataKey,a);return null==t||0===t.length?null:m.createElement(m.Fragment,null,t.map((e,c)=>{if(0===(null==e?void 0:e.startAngle)&&0===(null==e?void 0:e.endAngle)&&1!==t.length)return null;var d=null==u||u===a,h=String(c)===s&&(null==l||i.dataKey===l)&&d,v=n&&h?n:s?r:null,b=Hz(Hz({},e),{},{stroke:e.stroke,tabIndex:-1,[C_]:c,[A_]:a});return m.createElement(rg,Gz({key:"sector-".concat(null==e?void 0:e.startAngle,"-").concat(null==e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(c),tabIndex:-1,className:"recharts-pie-sector"},nv(f,e,c),{onMouseEnter:p(e,c),onMouseLeave:g(e,c),onClick:y(e,c)}),m.createElement(vz,Gz({option:null!=o?o:v,index:c,shapeType:"sector",isActive:h},b)))}))}function tq(e){var{showLabels:t,sectors:n,children:r}=e,i=m.useMemo(()=>t&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,t]);return m.createElement(sV,{value:t?i:void 0},r)}function nq(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:c,onAnimationStart:d,onAnimationEnd:h}=t,f=OO(t,"recharts-pie-"),p=n.current,[g,y]=m.useState(!1),v=m.useCallback(()=>{"function"==typeof h&&h(),y(!1)},[h]),b=m.useCallback(()=>{"function"==typeof d&&d(),y(!0)},[d]);return m.createElement(tq,{showLabels:!g,sectors:i},m.createElement(TO,{animationId:f,begin:a,duration:s,isActive:o,easing:l,onAnimationStart:b,onAnimationEnd:v,key:f},e=>{var o=[],a=i&&i[0],s=null==a?void 0:a.startAngle;return null==i||i.forEach((t,n)=>{var r=p&&p[n],i=n>0?ky(t,"paddingAngle",0):0;if(r){var a=qy(r.endAngle-r.startAngle,t.endAngle-t.startAngle,e),l=Hz(Hz({},t),{},{startAngle:s+i,endAngle:s+a+i});o.push(l),s=l.endAngle}else{var{endAngle:u,startAngle:c}=t,d=qy(0,u-c,e),h=Hz(Hz({},t),{},{startAngle:s+i,endAngle:s+d+i});o.push(h),s=h.endAngle}}),n.current=o,m.createElement(rg,null,m.createElement(eq,{sectors:o,activeShape:u,inactiveShape:c,allOtherPieProps:t,shape:t.shape,id:r}))}),m.createElement(Zz,{showLabels:!g,sectors:i,props:t}),t.children)}var rq={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pR.area};function iq(e){var{id:t}=e,n=Kz(e,zz),{hide:r,className:i,rootTabIndex:o}=e,a=m.useMemo(()=>KV(e.children,UU),[e.children]),s=Qb(e=>LV(e,t,a)),l=m.useRef(null),u=Bm("recharts-pie",i);return r||null==s?(l.current=null,m.createElement(rg,{tabIndex:o,className:u})):m.createElement(ZL,{zIndex:e.zIndex},m.createElement(Jz,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),m.createElement(rg,{tabIndex:o,className:u},m.createElement(nq,{props:Hz(Hz({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function oq(e){var t=ov(e,rq),{id:n}=t,r=Kz(t,qz),i=Jm(r);return m.createElement(Cz,{id:n,type:"pie"},e=>m.createElement(m.Fragment,null,m.createElement(Uz,{type:"pie",id:e,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),m.createElement(Wz,Gz({},r,{id:e})),m.createElement(iq,Gz({},r,{id:e}))))}function aq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function sq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aq(Object(n),!0).forEach(function(t){lq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function lq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}oq.displayName="Pie";var uq=gS({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:aS()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.xAxis[n.id]&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:aS()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:aS()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:aS()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.yAxis[n.id]&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:aS()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:aS()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:aS()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;void 0!==e.zAxis[n.id]&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:aS()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:aS()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var o=i.widthHistory||[];if(3===o.length&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var a=[...o,r].slice(-3);e.yAxis[n]=sq(sq({},e.yAxis[n]),{},{width:r,widthHistory:a})}}}}),{addXAxis:cq,replaceXAxis:dq,removeXAxis:hq,addYAxis:fq,replaceYAxis:pq,removeYAxis:mq,addZAxis:gq,replaceZAxis:yq,removeZAxis:vq,updateYAxisWidth:bq}=uq.actions,wq=uq.reducer,Eq=aw([U_],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Sq=aw([Eq,S_,__],(e,t,n)=>{if(e&&null!=t&&null!=n)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),_q=()=>Qb(Sq),xq=(e,t,n)=>{var r=null!=n?n:e;if(!By(r))return Vy(r,t,0)};function Tq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Oq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tq(Object(n),!0).forEach(function(t){Iq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Iq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cq=e=>{var{chartData:t}=e,n=Wb(),r=q_();return m.useEffect(()=>r?()=>{}:(n(wU(t)),()=>{n(wU(void 0))}),[t,n,r]),null},Aq={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kq=gS({name:"brush",initialState:Aq,reducers:{setBrushSettings:(e,t)=>null==t.payload?Aq:t.payload}}),{setBrushSettings:Pq}=kq.actions,Nq=kq.reducer;class Rq{static create(e){return new Rq(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!==e){if(n)switch(n){case"start":default:return this.scale(e);case"middle":var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r;case"end":var i=this.bandwidth?this.bandwidth():0;return this.scale(e)+i}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}!function(e,t,n){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Rq,"EPS",1e-4);var Dq=gS({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=KE(e).dots.findIndex(e=>e===t.payload);-1!==n&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=KE(e).areas.findIndex(e=>e===t.payload);-1!==n&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=KE(e).lines.findIndex(e=>e===t.payload);-1!==n&&e.lines.splice(n,1)}}}),{addDot:Mq,removeDot:jq,addArea:Lq,removeArea:Uq,addLine:Fq,removeLine:Vq}=Dq.actions,zq=Dq.reducer,qq=m.createContext(void 0),Bq=e=>{var{children:t}=e,[n]=m.useState("".concat(Fy("recharts"),"-clip")),r=_q();if(null==r)return null;var{x:i,y:o,width:a,height:s}=r;return m.createElement(qq.Provider,{value:n},m.createElement("defs",null,m.createElement("clipPath",{id:n},m.createElement("rect",{x:i,y:o,height:s,width:a}))),t)};function Hq(e,t){if(t<1)return[];if(1===t)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];void 0!==i&&n.push(i)}return n}function $q(e,t,n){return function(e){var{width:t,height:n}=e,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,o=Math.atan(n/t),a=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(a)}({width:e.width+t.width,height:e.height+t.height},n)}function Gq(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var o=n();return e*(t-e*o/2-r)>=0&&e*(t+e*o/2-i)<=0}function Kq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wq(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kq(Object(n),!0).forEach(function(t){Jq(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jq(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e,t,n){var r,{tick:i,ticks:o,viewBox:a,minTickGap:s,orientation:l,interval:u,tickFormatter:c,unit:d,angle:h}=e;if(!o||!o.length||!i)return[];if(jy(u)||EO)return null!==(r=function(e,t){return Hq(e,t+1)}(o,jy(u)?u:0))&&void 0!==r?r:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?KU(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},g=(e,r)=>{var i="function"==typeof c?c(e.value,r):e.value;return"width"===p?$q(KU(i,{fontSize:t,letterSpacing:n}),m,h):KU(i,{fontSize:t,letterSpacing:n})[p]},y=o.length>=2?Ry(o[1].coordinate-o[0].coordinate):1,v=function(e,t,n){var r="width"===n,{x:i,y:o,width:a,height:s}=e;return 1===t?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}(a,y,p);return"equidistantPreserveStart"===u?function(e,t,n,r,i){for(var o,a=(r||[]).slice(),{start:s,end:l}=t,u=0,c=1,d=s,h=function(){var t=null==r?void 0:r[u];if(void 0===t)return{v:Hq(r,c)};var o,a=u,h=()=>(void 0===o&&(o=n(t,a)),o),f=t.coordinate,p=0===u||Gq(e,f,h,d,l);p||(u=0,d=s,c+=1),p&&(d=f+e*(h()/2+i),u+=c)};c<=a.length;)if(o=h())return o.v;return[]}(y,v,g,o,s):"equidistantPreserveEnd"===u?function(e,t,n,r,i){var o=(r||[]).slice().length;if(0===o)return[];for(var{start:a,end:s}=t,l=1;l<=o;l++){for(var u=(o-1)%l,c=a,d=!0,h=function(){var t,o=r[f],a=f,l=()=>(void 0===t&&(t=n(o,a)),t),h=o.coordinate,p=f===u||Gq(e,h,l,c,s);if(!p)return d=!1,1;p&&(c=h+e*(l()/2+i))},f=u;f<o&&!h();f+=l);if(d){for(var p=[],m=u;m<o;m+=l)p.push(r[m]);return p}}return[]}(y,v,g,o,s):(f="preserveStart"===u||"preserveStartEnd"===u?function(e,t,n,r,i,o){var a=(r||[]).slice(),s=a.length,{start:l,end:u}=t;if(o){var c=r[s-1],d=n(c,s-1),h=e*(c.coordinate+e*d/2-u);a[s-1]=c=Wq(Wq({},c),{},{tickCoord:h>0?c.coordinate-h*e:c.coordinate}),null!=c.tickCoord&&Gq(e,c.tickCoord,()=>d,l,u)&&(u=c.tickCoord-e*(d/2+i),a[s-1]=Wq(Wq({},c),{},{isShow:!0}))}for(var f=o?s-1:s,p=function(t){var r,o=a[t],s=()=>(void 0===r&&(r=n(o,t)),r);if(0===t){var c=e*(o.coordinate-e*s()/2-l);a[t]=o=Wq(Wq({},o),{},{tickCoord:c<0?o.coordinate-c*e:o.coordinate})}else a[t]=o=Wq(Wq({},o),{},{tickCoord:o.coordinate});null!=o.tickCoord&&Gq(e,o.tickCoord,s,l,u)&&(l=o.tickCoord+e*(s()/2+i),a[t]=Wq(Wq({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return a}(y,v,g,o,s,"preserveStartEnd"===u):function(e,t,n,r,i){for(var o=(r||[]).slice(),a=o.length,{start:s}=t,{end:l}=t,u=function(t){var r,u=o[t],c=()=>(void 0===r&&(r=n(u,t)),r);if(t===a-1){var d=e*(u.coordinate+e*c()/2-l);o[t]=u=Wq(Wq({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate})}else o[t]=u=Wq(Wq({},u),{},{tickCoord:u.coordinate});null!=u.tickCoord&&Gq(e,u.tickCoord,c,s,l)&&(l=u.tickCoord-e*(c()/2+i),o[t]=Wq(Wq({},u),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}(y,v,g,o,s),f.filter(e=>e.isShow))}var Xq=["axisLine","width","height","className","hide","ticks","axisType"];function Qq(){return Qq=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qq.apply(null,arguments)}function Zq(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zq(Object(n),!0).forEach(function(t){tB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zq(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nB={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pR.axis};function rB(e){var{x:t,y:n,width:r,height:i,orientation:o,mirror:a,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=eB(eB(eB({},l),Jm(s)),{},{fill:"none"});if("top"===o||"bottom"===o){var c=+("top"===o&&!a||"bottom"===o&&a);u=eB(eB({},u),{},{x1:t,y1:n+c*i,x2:t+r,y2:n+c*i})}else{var d=+("left"===o&&!a||"right"===o&&a);u=eB(eB({},u),{},{x1:t+d*r,y1:n,x2:t+d*r,y2:n+i})}return m.createElement("line",Qq({},u,{className:Bm("recharts-cartesian-axis-line",ky(s,"className"))}))}function iB(e){var t,{option:n,tickProps:r,value:i}=e,o=Bm(r.className,"recharts-cartesian-axis-tick-value");if(m.isValidElement(n))t=m.cloneElement(n,eB(eB({},r),{},{className:o}));else if("function"==typeof n)t=n(eB(eB({},r),{},{className:o}));else{var a="recharts-cartesian-axis-tick-value";"boolean"!=typeof n&&(a=Bm(a,null==n?void 0:n.className)),t=m.createElement(_F,Qq({},r,{className:a}),i)}return t}var oB=m.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:o,tickFormatter:a,unit:s,padding:l,tickTextProps:u,orientation:c,mirror:d,x:h,y:f,width:p,height:g,tickSize:y,tickMargin:v,fontSize:b,letterSpacing:w,getTicksConfig:E,events:S,axisType:_}=e,x=Yq(eB(eB({},E),{},{ticks:n}),b,w),T=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(c,d),O=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(c,d),I=Jm(E),C=Ym(r),A={};"object"==typeof i&&(A=i);var k=eB(eB({},I),{},{fill:"none"},A),P=x.map(e=>eB({entry:e},function(e,t,n,r,i,o,a,s,l){var u,c,d,h,f,p,m=s?-1:1,g=e.tickSize||a,y=jy(e.tickCoord)?e.tickCoord:e.coordinate;switch(o){case"top":u=c=e.coordinate,p=(d=(h=n+ +!s*i)-m*g)-m*l,f=y;break;case"left":d=h=e.coordinate,f=(u=(c=t+ +!s*r)-m*g)-m*l,p=y;break;case"right":d=h=e.coordinate,f=(u=(c=t+ +s*r)+m*g)+m*l,p=y;break;default:u=c=e.coordinate,p=(d=(h=n+ +s*i)+m*g)+m*l,f=y}return{line:{x1:u,y1:d,x2:c,y2:h},tick:{x:f,y:p}}}(e,h,f,p,g,c,y,d,v))),N=P.map(e=>{var{entry:t,line:n}=e;return m.createElement(rg,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(t.value,"-").concat(t.coordinate,"-").concat(t.tickCoord)},i&&m.createElement("line",Qq({},k,n,{className:Bm("recharts-cartesian-axis-tick-line",ky(i,"className"))})))}),R=P.map((e,t)=>{var{entry:n,tick:i}=e,c=eB(eB(eB(eB({textAnchor:T,verticalAnchor:O},I),{},{stroke:"none",fill:o},C),i),{},{index:t,payload:n,visibleTicksCount:x.length,tickFormatter:a,padding:l},u);return m.createElement(rg,Qq({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(n.value,"-").concat(n.coordinate,"-").concat(n.tickCoord)},nv(S,n,t)),r&&m.createElement(iB,{option:r,tickProps:c,value:"".concat("function"==typeof a?a(n.value,t):n.value).concat(s||"")}))});return m.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},R.length>0&&m.createElement(ZL,{zIndex:pR.label},m.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},R)),N.length>0&&m.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},N))}),aB=m.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:o,hide:a,ticks:s,axisType:l}=e,u=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,Xq),[c,d]=m.useState(""),[h,f]=m.useState(""),p=m.useRef(null);m.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=e,a=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>a&&(a=t.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+(i+o)+s+(n?r:0);return Math.round(l)}return 0})({ticks:p.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=m.useCallback(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=t;var n=t[0];if(n){var r=window.getComputedStyle(n),i=r.fontSize,o=r.letterSpacing;i===c&&o===h||(d(i),f(o))}}},[c,h]);return a||null!=r&&r<=0||null!=i&&i<=0?null:m.createElement(ZL,{zIndex:e.zIndex},m.createElement(rg,{className:Bm("recharts-cartesian-axis",o)},m.createElement(rB,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:Jm(e)}),m.createElement(oB,{ref:g,axisType:l,events:u,fontSize:c,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),m.createElement(NF,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},m.createElement(VF,{label:e.label,labelRef:e.labelRef}),e.children)))}),sB=m.forwardRef((e,t)=>{var n=ov(e,nB);return m.createElement(aB,Qq({},n,{ref:t}))});sB.displayName="CartesianAxis";var lB=["x1","y1","x2","y2","key"],uB=["offset"],cB=["xAxisId","yAxisId"],dB=["xAxisId","yAxisId"];function hB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hB(Object(n),!0).forEach(function(t){pB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function pB(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mB(){return mB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mB.apply(null,arguments)}function gB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var yB=e=>{var{fill:t}=e;if(!t||"none"===t)return null;var{fillOpacity:n,x:r,y:i,width:o,height:a,ry:s}=e;return m.createElement("rect",{x:r,y:i,ry:s,width:o,height:a,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function vB(e){var t,{option:n,lineItemProps:r}=e;if(m.isValidElement(n))t=m.cloneElement(n,r);else if("function"==typeof n)t=n(r);else{var i,{x1:o,y1:a,x2:s,y2:l,key:u}=r,c=null!==(i=Jm(gB(r,lB)))&&void 0!==i?i:{},{offset:d}=c,h=gB(c,uB);t=m.createElement("line",mB({},h,{x1:o,y1:a,x2:s,y2:l,fill:"none",key:u}))}return t}function bB(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=gB(e,cB),l=i.map((e,i)=>{var o=fB(fB({},s),{},{x1:t,y1:e,x2:t+n,y2:e,key:"line-".concat(i),index:i});return m.createElement(vB,{key:"line-".concat(i),option:r,lineItemProps:o})});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function wB(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:a}=e,s=gB(e,dB),l=i.map((e,i)=>{var o=fB(fB({},s),{},{x1:e,y1:t,x2:e,y2:t+n,key:"line-".concat(i),index:i});return m.createElement(vB,{option:r,lineItemProps:o,key:"line-".concat(i)})});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function EB(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:o,height:a,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||null==s)return null;var u=s.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var c=u.map((e,s)=>{var l=!u[s+1]?i+a-e:u[s+1]-e;if(l<=0)return null;var c=s%t.length;return m.createElement("rect",{key:"react-".concat(s),y:e,x:r,height:l,width:o,stroke:"none",fill:t[c],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},c)}function SB(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:o,width:a,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(e=>Math.round(e+i-i)).sort((e,t)=>e-t);i!==u[0]&&u.unshift(0);var c=u.map((e,t)=>{var l=!u[t+1]?i+a-e:u[t+1]-e;if(l<=0)return null;var c=t%n.length;return m.createElement("rect",{key:"react-".concat(t),x:e,y:o,width:l,height:s,stroke:"none",fill:n[c],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},c)}var _B=(e,t)=>{var{xAxis:n,width:r,height:i,offset:o}=e;return c_(Yq(fB(fB(fB({},nB),n),{},{ticks:d_(n),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,t)},xB=(e,t)=>{var{yAxis:n,width:r,height:i,offset:o}=e;return c_(Yq(fB(fB(fB({},nB),n),{},{ticks:d_(n),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,t)},TB={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pR.grid};function OB(e){var t=vx(),n=bx(),r=yx(),i=fB(fB({},ov(e,TB)),{},{x:jy(e.x)?e.x:r.left,y:jy(e.y)?e.y:r.top,width:jy(e.width)?e.width:r.width,height:jy(e.height)?e.height:r.height}),{xAxisId:o,yAxisId:a,x:s,y:l,width:u,height:c,syncWithTicks:d,horizontalValues:h,verticalValues:f}=i,p=q_(),g=Qb(e=>VM(e,"xAxis",o,p)),y=Qb(e=>VM(e,"yAxis",a,p));if(!(i_(u)&&i_(c)&&jy(s)&&jy(l)))return null;var v=i.verticalCoordinatesGenerator||_B,b=i.horizontalCoordinatesGenerator||xB,{horizontalPoints:w,verticalPoints:E}=i;if(!(w&&w.length||"function"!=typeof b)){var S=h&&h.length,_=b({yAxis:y?fB(fB({},y),{},{ticks:S?h:y.ticks}):void 0,width:null!=t?t:u,height:null!=n?n:c,offset:r},!!S||d);Q_(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(w=_)}if(!(E&&E.length||"function"!=typeof v)){var x=f&&f.length,T=v({xAxis:g?fB(fB({},g),{},{ticks:x?f:g.ticks}):void 0,width:null!=t?t:u,height:null!=n?n:c,offset:r},!!x||d);Q_(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(E=T)}return m.createElement(ZL,{zIndex:i.zIndex},m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(yB,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),m.createElement(EB,mB({},i,{horizontalPoints:w})),m.createElement(SB,mB({},i,{verticalPoints:E})),m.createElement(bB,mB({},i,{offset:r,horizontalPoints:w,xAxis:g,yAxis:y})),m.createElement(wB,mB({},i,{offset:r,verticalPoints:E,xAxis:g,yAxis:y}))))}OB.displayName="CartesianGrid";var IB=gS({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(e=>e.dataKey===r.dataKey&&e.direction===r.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(e=>e.dataKey!==r.dataKey||e.direction!==r.direction))}}}),{addErrorBar:CB,replaceErrorBar:AB,removeErrorBar:kB}=IB.actions,PB=IB.reducer,NB=["children"];var RB={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},DB=m.createContext(RB);function MB(e){var{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,NB);return m.createElement(DB.Provider,{value:n},t)}function jB(e,t){var n,r,i=Qb(t=>ZR(t,e)),o=Qb(e=>nD(e,t)),a=null!==(n=null==i?void 0:i.allowDataOverflow)&&void 0!==n?n:XR.allowDataOverflow,s=null!==(r=null==o?void 0:o.allowDataOverflow)&&void 0!==r?r:eD.allowDataOverflow;return{needClip:a||s,needClipX:a,needClipY:s}}function LB(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=_q(),{needClipX:o,needClipY:a,needClip:s}=jB(t,n);if(!s||!i)return null;var{x:l,y:u,width:c,height:d}=i;return m.createElement("clipPath",{id:"clipPath-".concat(r)},m.createElement("rect",{x:o?l:l-c/2,y:a?u:u-d/2,width:o?c:2*c,height:a?d:2*d}))}var UB,FB,VB={exports:{}},zB={};FB||(FB=1,VB.exports=function(){if(UB)return zB;UB=1;var e=p(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useSyncExternalStore,r=e.useRef,i=e.useEffect,o=e.useMemo,a=e.useDebugValue;return zB.useSyncExternalStoreWithSelector=function(e,s,l,u,c){var d=r(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=o(function(){function e(e){if(!i){if(i=!0,n=e,e=u(e),void 0!==c&&h.hasValue){var o=h.value;if(c(o,e))return r=o}return r=e}if(o=r,t(n,e))return o;var a=u(e);return void 0!==c&&c(o,a)?(n=e,o):(n=e,r=a)}var n,r,i=!1,o=void 0===l?null:l;return[function(){return e(s())},null===o?void 0:function(){return e(o())}]},[s,l,u,c]);var f=n(e,d[0],d[1]);return i(function(){h.hasValue=!0,h.value=f},[f]),a(f),f},zB}()),VB.exports;var qB={notify(){},get:()=>[]};var BB=(()=>!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement))(),HB=(()=>"undefined"!=typeof navigator&&"ReactNative"===navigator.product)(),$B=(()=>BB||HB?m.useLayoutEffect:m.useEffect)();function GB(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function KB(e,t){if(GB(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!GB(e[n[i]],t[n[i]]))return!1;return!0}var WB=Symbol.for("react-redux-context"),JB="undefined"!=typeof globalThis?globalThis:{};function YB(){if(!m.createContext)return{};const e=JB[WB]??(JB[WB]=new Map);let t=e.get(m.createContext);return t||(t=m.createContext(null),e.set(m.createContext,t)),t}var XB=YB();var QB=function(e){const{children:t,context:n,serverState:r,store:i}=e,o=m.useMemo(()=>{const e=function(e){let t,n=qB,r=0,i=!1;function o(){l.onStateChange&&l.onStateChange()}function a(){r++,t||(t=e.subscribe(o),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){!function(e){e()}(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function s(){r--,t&&0===r&&(t(),t=void 0,n.clear(),n=qB)}const l={addNestedSub:function(e){a();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),s())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return i},trySubscribe:function(){i||(i=!0,a())},tryUnsubscribe:function(){i&&(i=!1,s())},getListeners:()=>n};return l}(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}},[i,r]),a=m.useMemo(()=>i.getState(),[i]);$B(()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[o,a]);const s=n||XB;return m.createElement(s.Provider,{value:o},t)},ZB=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function eH(e,t){return null==e&&null==t||("number"==typeof e&&"number"==typeof t?e===t||e!=e&&t!=t:e===t)}function tH(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(ZB.has(r)){if(null==e[r]&&null==t[r])continue;if(!KB(e[r],t[r]))return!1}else if(!eH(e[r],t[r]))return!1;return!0}function nH(e,t){var n,r;return null!==(n=null===(r=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===r?void 0:r.xAxisId)&&void 0!==n?n:0}function rH(e,t){var n,r;return null!==(n=null===(r=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===r?void 0:r.yAxisId)&&void 0!==n?n:0}function iH(){return iH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iH.apply(null,arguments)}function oH(e){return m.createElement(vz,iH({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var aH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(n,r)=>{if(jy(e))return e;var i=jy(n)||By(n);return i?e(n,r):(i||function(){throw new Error("Invariant failed")}(),t)}},sH=aw([uD,(e,t)=>t],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),lH=aw([sH],e=>null==e?void 0:e.maxBarSize),uH=aw([wx,uD,nH,rH,(e,t,n)=>n],(e,t,n,r,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===n:t.yAxisId===r).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),cH=aw([uH,e=>e.rootProps.barSize,(e,t)=>{var n=wx(e),r=nH(e,t),i=rH(e,t);if(null!=r&&null!=i)return"horizontal"===n?MM(e,"xAxis",r):MM(e,"yAxis",i)}],(e,t,n)=>{var r=e.filter(qR),i=e.filter(e=>null==e.stackId),o=r.reduce((e,t)=>(e[t.stackId]||(e[t.stackId]=[]),e[t.stackId].push(t),e),{});return[...Object.entries(o).map(e=>{var[r,i]=e;return{stackId:r,dataKeys:i.map(e=>e.dataKey),barSize:xq(t,n,i[0].barSize)}}),...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:xq(t,n,e.barSize)}))]}),dH=(e,t,n)=>{var r,i,o=wx(e),a=nH(e,t),s=rH(e,t);if(null!=a&&null!=s)return"horizontal"===o?(r=BM(e,"xAxis",a,n),i=qM(e,"xAxis",a,n)):(r=BM(e,"yAxis",s,n),i=qM(e,"yAxis",s,n)),b_(r,i)},hH=aw([cH,aR,e=>e.rootProps.barGap,sR,(e,t,n)=>{var r,i,o=sH(e,t);if(null!=o){var a=nH(e,t),s=rH(e,t);if(null!=a&&null!=s){var l,u,c=wx(e),d=aR(e),{maxBarSize:h}=o,f=By(h)?d:h;return"horizontal"===c?(l=BM(e,"xAxis",a,n),u=qM(e,"xAxis",a,n)):(l=BM(e,"yAxis",s,n),u=qM(e,"yAxis",s,n)),null!==(r=null!==(i=b_(l,u,!0))&&void 0!==i?i:f)&&void 0!==r?r:0}}},dH,lH],(e,t,n,r,i,o,a)=>{var s=By(a)?t:a,l=function(e,t,n,r,i){var o=r.length;if(!(o<1)){var a,s=Vy(e,n,0,!0),l=[];if(r_(r[0].barSize)){var u=!1,c=n/o,d=r.reduce((e,t)=>e+(t.barSize||0),0);(d+=(o-1)*s)>=n&&(d-=(o-1)*s,s=0),d>=n&&c>0&&(u=!0,d=o*(c*=.9));var h={offset:((n-d)/2|0)-s,size:0};a=r.reduce((e,t)=>{var n,r=[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:h.offset+h.size+s,size:u?c:null!==(n=t.barSize)&&void 0!==n?n:0}}];return h=r[r.length-1].position,r},l)}else{var f=Vy(t,n,0,!0);n-2*f-(o-1)*s<=0&&(s=0);var p=(n-2*f-(o-1)*s)/o;p>1&&(p>>=0);var m=r_(i)?Math.min(p,i):p;a=r.reduce((e,t,n)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f+(p+s)*n+(p-m)/2,size:m}}],l)}return a}}(n,r,i!==o?i:o,e,s);return i!==o&&null!=l&&(l=l.map(e=>Oq(Oq({},e),{},{position:Oq(Oq({},e.position),{},{offset:e.position.offset-i/2})}))),l}),fH=aw([hH,sH],(e,t)=>{if(null!=e&&null!=t){var n=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=n)return n.position}}),pH=aw([(e,t,n)=>{var r=wx(e),i=nH(e,t),o=rH(e,t);if(null!=i&&null!=o)return"horizontal"===r?kD(e,"yAxis",o,n):kD(e,"xAxis",i,n)},sH],(e,t)=>{var n=VR(t);if(e&&null!=n&&null!=t){var{stackId:r}=t;if(null!=r){var i=e[r];if(i){var{stackedData:o}=i;if(o)return o.find(e=>e.key===n)}}}}),mH=aw([U_,V_,(e,t,n)=>{var r=nH(e,t);if(null!=r)return BM(e,"xAxis",r,n)},(e,t,n)=>{var r=rH(e,t);if(null!=r)return BM(e,"yAxis",r,n)},(e,t,n)=>{var r=nH(e,t);if(null!=r)return qM(e,"xAxis",r,n)},(e,t,n)=>{var r=rH(e,t);if(null!=r)return qM(e,"yAxis",r,n)},fH,wx,(e,t,n)=>n?dN(e):cN(e),dH,pH,sH,(e,t,n,r)=>r],(e,t,n,r,i,o,a,s,l,u,c,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=a&&null!=t&&("horizontal"===s||"vertical"===s)&&null!=n&&null!=r&&null!=i&&null!=o&&null!=u){var g,{data:y}=d;if(null!=(g=null!=y&&y.length>0?y:null==f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:o,xAxis:a,yAxis:s,xAxisTicks:l,yAxisTicks:u,stackedData:c,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:m}=e,g="horizontal"===t?s:a,y=c?g.scale.domain():null,v=(e=>{var{numericAxis:t}=e,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]})({numericAxis:g}),b=g.scale(v);return d.map((e,d)=>{var g,w,E,S,_,x;if(c){var T=c[d+m];if(null==T)return null;g=((e,t)=>{if(!t||2!==t.length||!jy(t[0])||!jy(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!jy(e[0])||e[0]<n)&&(i[0]=n),(!jy(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i})(T,y)}else g=l_(e,n),Array.isArray(g)||(g=[v,g]);var O=aH(r,FH)(g[1],d);if("horizontal"===t){var I,[C,A]=[s.scale(g[0]),s.scale(g[1])];w=m_({axis:a,ticks:l,bandSize:o,offset:i.offset,entry:e,index:d}),E=null!==(I=null!=A?A:C)&&void 0!==I?I:void 0,S=i.size;var k=C-A;if(_=Dy(k)?0:k,x={x:w,y:h.top,width:S,height:h.height},Math.abs(O)>0&&Math.abs(_)<Math.abs(O)){var P=Ry(_||O)*(Math.abs(O)-Math.abs(_));E-=P,_+=P}}else{var[N,R]=[a.scale(g[0]),a.scale(g[1])];if(w=N,E=m_({axis:s,ticks:u,bandSize:o,offset:i.offset,entry:e,index:d}),S=R-N,_=i.size,x={x:h.left,y:E,width:h.width,height:_},Math.abs(O)>0&&Math.abs(S)<Math.abs(O))S+=Ry(S||O)*(Math.abs(O)-Math.abs(S))}return null==w||null==E||null==S||null==_?null:IH(IH({},e),{},{stackedBarStart:b,x:w,y:E,width:S,height:_,value:c?g:g[1],payload:e,background:x,tooltipPosition:{x:w+S/2,y:E+_/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:s,barSettings:d,pos:a,parentViewBox:t,bandSize:u,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:c,displayedData:g,offset:e,cells:h,dataStartIndex:p})}}),gH=["index"];function yH(){return yH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yH.apply(null,arguments)}var vH=m.createContext(void 0),bH=e=>{var t,n=m.useContext(vH);return null!=n?n.stackId:null!=e?null==(t=e)?void 0:String(t):void 0},wH=e=>{var{index:t}=e,n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,gH),r=(e=>{var t=m.useContext(vH);if(null!=t){var{stackId:n}=t;return"url(#".concat(((e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t))(n,e),")")}})(t);return m.createElement(rg,yH({className:"recharts-bar-stack-layer",clipPath:r},n))},EH=["onMouseEnter","onMouseLeave","onClick"],SH=["value","background","tooltipPosition"],_H=["id"],xH=["onMouseEnter","onClick","onMouseLeave"];function TH(){return TH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TH.apply(null,arguments)}function OH(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function IH(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OH(Object(n),!0).forEach(function(t){CH(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OH(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function CH(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kH=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:o}=e;return[{inactive:o,dataKey:t,type:i,color:r,value:E_(n,t),payload:e}]},PH=m.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:o,hide:a,unit:s,tooltipType:l,id:u}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:E_(o,t),hide:a,type:l,color:i,unit:s,graphicalItemId:u}};return m.createElement(_z,{tooltipEntrySettings:c})});function NH(e){var t=Qb(cL),{data:n,dataKey:r,background:i,allOtherBarProps:o}=e,{onMouseEnter:a,onMouseLeave:s,onClick:l}=o,u=AH(o,EH),c=wz(a,r,o.id),d=Ez(s),h=Sz(l,r,o.id);if(!i||null==n)return null;var f,p,g=Ym(i);return m.createElement(ZL,{zIndex:(f=i,p=pR.barBackground,f&&"object"==typeof f&&"zIndex"in f&&"number"==typeof f.zIndex&&r_(f.zIndex)?f.zIndex:p)},n.map((e,n)=>{var{value:o,background:a,tooltipPosition:s}=e,l=AH(e,SH);if(!a)return null;var f=c(e,n),p=d(e,n),y=h(e,n),v=IH(IH(IH(IH(IH({option:i,isActive:String(n)===t},l),{},{fill:"#eee"},a),g),nv(u,e,n)),{},{onMouseEnter:f,onMouseLeave:p,onClick:y,dataKey:r,index:n,className:"recharts-bar-background-rectangle"});return m.createElement(oH,TH({key:"background-bar-".concat(n)},v))}))}function RH(e){var{showLabels:t,children:n,rects:r}=e,i=null==r?void 0:r.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return IH(IH({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return m.createElement(oV,{value:t?i:void 0},n)}function DH(e){var{shape:t,activeBar:n,baseProps:r,entry:i,index:o,dataKey:a}=e,s=Qb(cL),l=Qb(hL),u=n&&String(o)===s&&(null==l||a===l),c=u?n:t;return u?m.createElement(ZL,{zIndex:pR.activeBar},m.createElement(oH,TH({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a}))):m.createElement(oH,TH({},r,{name:String(r.name)},i,{isActive:u,option:c,index:o,dataKey:a}))}function MH(e){var{shape:t,baseProps:n,entry:r,index:i,dataKey:o}=e;return m.createElement(oH,TH({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:i,dataKey:o}))}function jH(e){var t,{data:n,props:r}=e,i=null!==(t=Jm(r))&&void 0!==t?t:{},{id:o}=i,a=AH(i,_H),{shape:s,dataKey:l,activeBar:u}=r,{onMouseEnter:c,onClick:d,onMouseLeave:h}=r,f=AH(r,xH),p=wz(c,l,o),g=Ez(h),y=Sz(d,l,o);return n?m.createElement(m.Fragment,null,n.map((e,t)=>m.createElement(wH,TH({index:t,key:"rectangle-".concat(null==e?void 0:e.x,"-").concat(null==e?void 0:e.y,"-").concat(null==e?void 0:e.value,"-").concat(t),className:"recharts-bar-rectangle"},nv(f,e,t),{onMouseEnter:p(e,t),onMouseLeave:g(e,t),onClick:y(e,t)}),u?m.createElement(DH,{shape:s,activeBar:u,baseProps:a,entry:e,index:t,dataKey:l}):m.createElement(MH,{shape:s,baseProps:a,entry:e,index:t,dataKey:l})))):null}function LH(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:o,animationBegin:a,animationDuration:s,animationEasing:l,onAnimationEnd:u,onAnimationStart:c}=t,d=n.current,h=OO(t,"recharts-bar-"),[f,p]=m.useState(!1),g=!f,y=m.useCallback(()=>{"function"==typeof u&&u(),p(!1)},[u]),v=m.useCallback(()=>{"function"==typeof c&&c(),p(!0)},[c]);return m.createElement(RH,{showLabels:g,rects:r},m.createElement(TO,{animationId:h,begin:a,duration:s,isActive:o,easing:l,onAnimationEnd:y,onAnimationStart:v,key:h},e=>{var o=1===e?r:null==r?void 0:r.map((t,n)=>{var r=d&&d[n];if(r)return IH(IH({},t),{},{x:qy(r.x,t.x,e),y:qy(r.y,t.y,e),width:qy(r.width,t.width,e),height:qy(r.height,t.height,e)});if("horizontal"===i){var o=qy(0,t.height,e),a=qy(t.stackedBarStart,t.y,e);return IH(IH({},t),{},{y:a,height:o})}var s=qy(0,t.width,e),l=qy(t.stackedBarStart,t.x,e);return IH(IH({},t),{},{width:s,x:l})});return e>0&&(n.current=null!=o?o:null),null==o?null:m.createElement(rg,null,m.createElement(jH,{props:t,data:o}))}),m.createElement(uV,{label:t.label}),t.children)}function UH(e){var t=m.useRef(null);return m.createElement(LH,{previousRectanglesRef:t,props:e})}var FH=0,VH=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:l_(e,t)}};class zH extends m.PureComponent{render(){var{hide:e,data:t,dataKey:n,className:r,xAxisId:i,yAxisId:o,needClip:a,background:s,id:l}=this.props;if(e||null==t)return null;var u=Bm("recharts-bar",r),c=l;return m.createElement(rg,{className:u,id:l},a&&m.createElement("defs",null,m.createElement(LB,{clipPathId:c,xAxisId:i,yAxisId:o})),m.createElement(rg,{className:"recharts-bar-rectangles",clipPath:a?"url(#clipPath-".concat(c,")"):void 0},m.createElement(NH,{data:t,dataKey:n,background:s,allOtherBarProps:this.props}),m.createElement(UH,this.props)))}}var qH={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:FH,xAxisId:0,yAxisId:0,zIndex:pR.bar};function BH(e){var t,{xAxisId:n,yAxisId:r,hide:i,legendType:o,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d}=e,{needClip:h}=jB(n,r),f=Ex(),p=q_(),g=KV(e.children,UU),y=Qb(t=>mH(t,e.id,p,g));if("vertical"!==f&&"horizontal"!==f)return null;var v=null==y?void 0:y[0];return t=null==v||null==v.height||null==v.width?0:"vertical"===f?v.height/2:v.width/2,m.createElement(MB,{xAxisId:n,yAxisId:r,data:y,dataPointFormatter:VH,errorBarOffset:t},m.createElement(zH,TH({},e,{layout:f,needClip:h,data:y,xAxisId:n,yAxisId:r,hide:i,legendType:o,minPointSize:a,activeBar:s,animationBegin:l,animationDuration:u,animationEasing:c,isAnimationActive:d})))}function HH(e){var t=ov(e,qH),n=bH(t.stackId),r=q_();return m.createElement(Cz,{id:t.id,type:"bar"},e=>m.createElement(m.Fragment,null,m.createElement(xz,{legendPayload:kH(t)}),m.createElement(PH,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:e}),m.createElement(Lz,{type:"bar",id:e,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),m.createElement(ZL,{zIndex:t.zIndex},m.createElement(BH,TH({},t,{id:e})))))}var $H=m.memo(HH,tH);$H.displayName="Bar";var GH=["domain","range"],KH=["domain","range"];function WH(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function JH(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function YH(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=WH(e,GH),{domain:o,range:a}=t,s=WH(t,KH);return!!JH(n,o)&&(!!JH(r,a)&&tH(i,s))}var XH=["dangerouslySetInnerHTML","ticks","scale"],QH=["id","scale"];function ZH(){return ZH=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZH.apply(null,arguments)}function e$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function t$(e){var t=Wb(),n=m.useRef(null);return m.useLayoutEffect(()=>{null===n.current?t(cq(e)):n.current!==e&&t(dq({prev:n.current,next:e})),n.current=e},[e,t]),m.useLayoutEffect(()=>()=>{n.current&&(t(hq(n.current)),n.current=null)},[t]),null}var n$=e=>{var{xAxisId:t,className:n}=e,r=Qb(V_),i=q_(),o="xAxis",a=Qb(e=>zM(e,o,t,i)),s=Qb(e=>AM(e,t)),l=Qb(e=>NM(e,t)),u=Qb(e=>QR(e,t));if(null==s||null==l||null==u)return null;var{dangerouslySetInnerHTML:c,ticks:d,scale:h}=e,f=e$(e,XH),{id:p,scale:g}=u,y=e$(u,QH);return m.createElement(sB,ZH({},f,y,{x:l.x,y:l.y,width:s.width,height:s.height,className:Bm("recharts-".concat(o," ").concat(o),n),viewBox:r,ticks:a,axisType:o}))},r$={allowDataOverflow:XR.allowDataOverflow,allowDecimals:XR.allowDecimals,allowDuplicatedCategory:XR.allowDuplicatedCategory,angle:XR.angle,axisLine:nB.axisLine,height:XR.height,hide:!1,includeHidden:XR.includeHidden,interval:XR.interval,minTickGap:XR.minTickGap,mirror:XR.mirror,orientation:XR.orientation,padding:XR.padding,reversed:XR.reversed,scale:XR.scale,tick:XR.tick,tickCount:XR.tickCount,tickLine:nB.tickLine,tickSize:nB.tickSize,type:XR.type,xAxisId:0},i$=e=>{var t=ov(e,r$);return m.createElement(m.Fragment,null,m.createElement(t$,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),m.createElement(n$,t))},o$=m.memo(i$,YH);o$.displayName="XAxis";var a$=["dangerouslySetInnerHTML","ticks","scale"],s$=["id","scale"];function l$(){return l$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l$.apply(null,arguments)}function u$(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c$(e){var t=Wb(),n=m.useRef(null);return m.useLayoutEffect(()=>{null===n.current?t(fq(e)):n.current!==e&&t(pq({prev:n.current,next:e})),n.current=e},[e,t]),m.useLayoutEffect(()=>()=>{n.current&&(t(mq(n.current)),n.current=null)},[t]),null}var d$=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,o=m.useRef(null),a=m.useRef(null),s=Qb(V_),l=q_(),u=Wb(),c="yAxis",d=Qb(e=>DM(e,t)),h=Qb(e=>RM(e,t)),f=Qb(e=>zM(e,c,t,l)),p=Qb(e=>tD(e,t));if(m.useLayoutEffect(()=>{if("auto"===r&&d&&!MF(i)&&!m.isValidElement(i)&&null!=p){var e=o.current;if(e){var n=e.getCalculatedWidth();Math.round(d.width)!==Math.round(n)&&u(bq({id:t,width:n}))}}},[f,d,u,i,t,r,p]),null==d||null==h||null==p)return null;var{dangerouslySetInnerHTML:g,ticks:y,scale:v}=e,b=u$(e,a$),{id:w,scale:E}=p,S=u$(p,s$);return m.createElement(sB,l$({},b,S,{ref:o,labelRef:a,x:h.x,y:h.y,tickTextProps:"auto"===r?{width:void 0}:{width:r},width:d.width,height:d.height,className:Bm("recharts-".concat(c," ").concat(c),n),viewBox:s,ticks:f,axisType:c}))},h$={allowDataOverflow:eD.allowDataOverflow,allowDecimals:eD.allowDecimals,allowDuplicatedCategory:eD.allowDuplicatedCategory,angle:eD.angle,axisLine:nB.axisLine,hide:!1,includeHidden:eD.includeHidden,interval:eD.interval,minTickGap:eD.minTickGap,mirror:eD.mirror,orientation:eD.orientation,padding:eD.padding,reversed:eD.reversed,scale:eD.scale,tick:eD.tick,tickCount:eD.tickCount,tickLine:nB.tickLine,tickSize:nB.tickSize,type:eD.type,width:eD.width,yAxisId:0},f$=e=>{var t=ov(e,h$);return m.createElement(m.Fragment,null,m.createElement(c$,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),m.createElement(d$,t))},p$=m.memo(f$,YH);p$.displayName="YAxis";var m$=aw([(e,t)=>t,wx,LR,$R,tL,oL,kL,U_],(e,t,n,r,i,o,a,s)=>{if(e&&t&&r&&i&&o)return"horizontal"===t||"vertical"===t?((e,t,n,r,i,o,a)=>{if(e&&n&&r&&i&&function(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}(e,a)){var s=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=OL(s,o,i,n,r),u=((e,t,n,r)=>{var i=t.find(e=>e&&e.index===n);if(i){if("horizontal"===e)return{x:i.coordinate,y:r.chartY};if("vertical"===e)return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}})(e,t,r,i,o,a,s):FL(e,t,n,r,i,o,a)}),g$=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},y$=tS("mouseClick"),v$=WS();v$.startListening({actionCreator:y$,effect:(e,t)=>{var n=e.payload,r=m$(t.getState(),g$(n));null!=(null==r?void 0:r.activeIndex)&&t.dispatch(lj({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var b$=tS("mouseMove"),w$=WS(),E$=null;function S$(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"==typeof t&&null!==t?"<<CHILDREN>>":t}w$.startListening({actionCreator:b$,effect:(e,t)=>{var n=e.payload;null!==E$&&cancelAnimationFrame(E$);var r=g$(n);E$=requestAnimationFrame(()=>{var e=t.getState();if("axis"===JM(e,e.tooltip.settings.shared)){var n=m$(e,r);null!=(null==n?void 0:n.activeIndex)?t.dispatch(sj({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate})):t.dispatch(oj())}E$=null})}});var _$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x$=gS({name:"rootProps",initialState:_$,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(n=t.payload.barGap)&&void 0!==n?n:_$.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),T$=x$.reducer,{updateOptions:O$}=x$.actions,I$=gS({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:C$}=I$.actions,A$=I$.reducer,k$=tS("keyDown"),P$=tS("focus"),N$=WS();N$.startListening({actionCreator:k$,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var o=yj(r,Nj(n),ID(n),Xj(n)),a=null==o?-1:Number(o);if(Number.isFinite(a)&&!(a<0)){var s=oL(n);if("Enter"!==i){var l=a+("ArrowRight"===i?1:-1)*("left-to-right"===$M(n)?1:-1);if(!(null==s||l>=s.length||l<0)){var u=DL(n,"axis","hover",String(l));t.dispatch(cj({active:!0,activeIndex:l.toString(),activeCoordinate:u}))}}else{var c=DL(n,"axis","hover",String(r.index));t.dispatch(cj({active:!r.active,activeIndex:r.index,activeCoordinate:c}))}}}}}}),N$.startListening({actionCreator:P$,effect:(e,t)=>{var n=t.getState();if(!1!==n.rootProps.accessibilityLayer){var{keyboardInteraction:r}=n.tooltip;if(!r.active&&null==r.index){var i=DL(n,"axis","hover",String("0"));t.dispatch(cj({active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var R$=tS("externalEvent"),D$=WS(),M$=new Map;D$.startListening({actionCreator:R$,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(null!=n){r.persist();var i=r.type,o=M$.get(i);void 0!==o&&cancelAnimationFrame(o);var a=requestAnimationFrame(()=>{try{var e=t.getState(),o={activeCoordinate:gL(e),activeDataKey:hL(e),activeIndex:cL(e),activeLabel:dL(e),activeTooltipIndex:cL(e),isTooltipActive:yL(e)};n(o,r)}finally{M$.delete(i)}});M$.set(i,a)}}});var j$=aw([Ej],e=>e.tooltipItemPayloads),L$=aw([j$,wj,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(e=>e.settings.graphicalItemId===r);if(null!=i){var{positions:o}=i;if(null!=o)return t(o,n)}}),U$=tS("touchMove"),F$=WS();F$.startListening({actionCreator:U$,effect:(e,t)=>{var n=e.payload;if(null!=n.touches&&0!==n.touches.length){var r=t.getState(),i=JM(r,r.tooltip.settings.shared);if("axis"===i){var o=n.touches[0];if(null==o)return;var a=m$(r,g$({clientX:o.clientX,clientY:o.clientY,currentTarget:n.currentTarget}));null!=(null==a?void 0:a.activeIndex)&&t.dispatch(sj({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if("item"===i){var s,l=n.touches[0];if(null==document.elementFromPoint||null==l)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var c=u.getAttribute(C_),d=null!==(s=u.getAttribute(A_))&&void 0!==s?s:void 0,h=Aj(r).find(e=>e.id===d);if(null==c||null==h||null==d)return;var{dataKey:f}=h,p=L$(r,c,d);t.dispatch(rj({activeDataKey:f,activeIndex:c,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var V$=Uw({brush:Nq,cartesianAxis:wq,chartData:_U,errorBars:PB,graphicalItems:Mz,layout:t_,legend:vT,options:gU,polarAxis:OV,polarOptions:A$,referenceElements:zq,rootProps:T$,tooltip:dj,zIndex:QL});function z$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=q_(),o=m.useRef(null);if(i)return n;null==o.current&&(o.current=function(e){return uS({reducer:V$,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([v$.middleware,w$.middleware,N$.middleware,D$.middleware,F$.middleware]),enhancers:e=>{var t=e;return"function"==typeof e&&(t=e()),t.concat(lS({type:"raf"}))},devTools:{serialize:{replacer:S$},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(t,r));var a=Gb;return m.createElement(QB,{context:a,store:o.current},n)}function q$(e){var{layout:t,margin:n}=e,r=Wb(),i=q_();return m.useEffect(()=>{i||(r(QS(t)),r(XS(n)))},[r,i,t,n]),null}var B$=m.memo(q$,tH);function H$(e){var t=Wb();return m.useEffect(()=>{t(O$(e))},[t,e]),null}function $$(e){var{zIndex:t,isPanorama:n}=e,r=m.useRef(null),i=Wb();return m.useLayoutEffect(()=>(r.current&&i(YL({zIndex:t,element:r.current,isPanorama:n})),()=>{i(XL({zIndex:t,isPanorama:n}))}),[i,t,n]),m.createElement("g",{tabIndex:-1,ref:r})}function G$(e){var{children:t,isPanorama:n}=e,r=Qb(zL);if(!r||0===r.length)return t;var i=r.filter(e=>e<0),o=r.filter(e=>e>0);return m.createElement(m.Fragment,null,i.map(e=>m.createElement($$,{key:e,zIndex:e,isPanorama:n})),t,o.map(e=>m.createElement($$,{key:e,zIndex:e,isPanorama:n})))}var K$=["children"];function W$(){return W$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W$.apply(null,arguments)}var J$={width:"100%",height:"100%",display:"block"},Y$=m.forwardRef((e,t)=>{var n=vx(),r=bx(),i=RT();if(!i_(n)||!i_(r))return null;var o,a,{children:s,otherAttributes:l,title:u,desc:c}=e;return null!=l&&(o="number"==typeof l.tabIndex?l.tabIndex:i?0:void 0,a="string"==typeof l.role?l.role:i?"application":void 0),m.createElement(eg,W$({},l,{title:u,desc:c,role:a,tabIndex:o,width:n,height:r,style:J$,ref:t}),s)}),X$=e=>{var{children:t}=e,n=Qb(H_);if(!n)return null;var{width:r,height:i,y:o,x:a}=n;return m.createElement(eg,{width:r,height:i,x:a,y:o},t)},Q$=m.forwardRef((e,t)=>{var{children:n}=e,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,K$);return q_()?m.createElement(X$,null,m.createElement(G$,{isPanorama:!0},n)):m.createElement(Y$,W$({ref:t},r),m.createElement(G$,{isPanorama:!1},n))});function Z$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eG(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z$(Object(n),!0).forEach(function(t){tG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nG(){return nG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nG.apply(null,arguments)}var rG=()=>(AU(),null);function iG(e){if("number"==typeof e)return e;if("string"==typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var oG=m.forwardRef((e,t)=>{var n,r,i=m.useRef(null),[o,a]=m.useState({containerWidth:iG(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:iG(null===(r=e.style)||void 0===r?void 0:r.height)}),s=m.useCallback((e,t)=>{a(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),l=m.useCallback(e=>{if("function"==typeof t&&t(e),null!=e&&"undefined"!=typeof ResizeObserver){var{width:n,height:r}=e.getBoundingClientRect();s(n,r);var o=new ResizeObserver(e=>{var{width:t,height:n}=e[0].contentRect;s(t,n)});o.observe(e),i.current=o}},[t,s]);return m.useEffect(()=>()=>{var e=i.current;null!=e&&e.disconnect()},[s]),m.createElement(m.Fragment,null,m.createElement(Sx,{width:o.containerWidth,height:o.containerHeight}),m.createElement("div",nG({ref:l},e)))}),aG=m.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,o]=m.useState({containerWidth:iG(n),containerHeight:iG(r)}),a=m.useCallback((e,t)=>{o(n=>{var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}})},[]),s=m.useCallback(e=>{if("function"==typeof t&&t(e),null!=e){var{width:n,height:r}=e.getBoundingClientRect();a(n,r)}},[t,a]);return m.createElement(m.Fragment,null,m.createElement(Sx,{width:i.containerWidth,height:i.containerHeight}),m.createElement("div",nG({ref:s},e)))}),sG=m.forwardRef((e,t)=>{var{width:n,height:r}=e;return m.createElement(m.Fragment,null,m.createElement(Sx,{width:n,height:r}),m.createElement("div",nG({ref:t},e)))}),lG=m.forwardRef((e,t)=>{var{width:n,height:r}=e;return My(n)||My(r)?m.createElement(aG,nG({},e,{ref:t})):m.createElement(sG,nG({},e,{ref:t}))});var uG=m.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:a,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:c,onMouseMove:d,onMouseUp:h,onTouchEnd:f,onTouchMove:p,onTouchStart:g,style:y,width:v,responsive:b,dispatchTouchEvents:w=!0}=e,E=m.useRef(null),S=Wb(),[_,x]=m.useState(null),[T,O]=m.useState(null),I=function(){var e=Wb(),[t,n]=m.useState(null),r=Qb(x_);return m.useEffect(()=>{if(null!=t){var n=t.getBoundingClientRect().width/t.offsetWidth;r_(n)&&n!==r&&e(e_(n))}},[t,e,r]),n}(),C=dx(),A=(null==C?void 0:C.width)>0?C.width:v,k=(null==C?void 0:C.height)>0?C.height:i,P=m.useCallback(e=>{I(e),"function"==typeof t&&t(e),x(e),O(e),null!=e&&(E.current=e)},[I,t,x,O]),N=m.useCallback(e=>{S(y$(e)),S(R$({handler:o,reactEvent:e}))},[S,o]),R=m.useCallback(e=>{S(b$(e)),S(R$({handler:u,reactEvent:e}))},[S,u]),D=m.useCallback(e=>{S(oj()),S(R$({handler:c,reactEvent:e}))},[S,c]),M=m.useCallback(e=>{S(b$(e)),S(R$({handler:d,reactEvent:e}))},[S,d]),j=m.useCallback(()=>{S(P$())},[S]),L=m.useCallback(e=>{S(k$(e.key))},[S]),U=m.useCallback(e=>{S(R$({handler:a,reactEvent:e}))},[S,a]),F=m.useCallback(e=>{S(R$({handler:s,reactEvent:e}))},[S,s]),V=m.useCallback(e=>{S(R$({handler:l,reactEvent:e}))},[S,l]),z=m.useCallback(e=>{S(R$({handler:h,reactEvent:e}))},[S,h]),q=m.useCallback(e=>{S(R$({handler:g,reactEvent:e}))},[S,g]),B=m.useCallback(e=>{w&&S(U$(e)),S(R$({handler:p,reactEvent:e}))},[S,w,p]),H=m.useCallback(e=>{S(R$({handler:f,reactEvent:e}))},[S,f]),$=function(e){return!0===e?oG:lG}(b);return m.createElement(lU.Provider,{value:_},m.createElement(ig.Provider,{value:T},m.createElement($,{width:null!=A?A:null==y?void 0:y.width,height:null!=k?k:null==y?void 0:y.height,className:Bm("recharts-wrapper",r),style:eG({position:"relative",cursor:"default",width:A,height:k},y),onClick:N,onContextMenu:U,onDoubleClick:F,onFocus:j,onKeyDown:L,onMouseDown:V,onMouseEnter:R,onMouseLeave:D,onMouseMove:M,onMouseUp:z,onTouchEnd:H,onTouchMove:B,onTouchStart:q,ref:P},m.createElement(rG,null),n)))}),cG=["width","height","responsive","children","className","style","compact","title","desc"];var dG=m.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:o,className:a,style:s,compact:l,title:u,desc:c}=e,d=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,cG),h=Jm(d);return l?m.createElement(m.Fragment,null,m.createElement(Sx,{width:n,height:r}),m.createElement(Q$,{otherAttributes:h,title:u,desc:c},o)):m.createElement(uG,{className:a,style:s,width:n,height:r,responsive:null!=i&&i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},m.createElement(Q$,{otherAttributes:h,title:u,desc:c,ref:t},m.createElement(Bq,null,o)))});function hG(){return hG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hG.apply(null,arguments)}var fG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},pG=m.forwardRef(function(e,t){var n,r=ov(e.categoricalChartProps,fG),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:a,tooltipPayloadSearcher:s,eventEmitter:void 0};return m.createElement(z$,{preloadedState:{options:u},reduxStoreName:null!==(n=l.id)&&void 0!==n?n:i},m.createElement(Cq,{chartData:l.data}),m.createElement(B$,{layout:r.layout,margin:r.margin}),m.createElement(H$,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),m.createElement(dG,hG({},r,{ref:t})))}),mG=["axis","item"],gG=m.forwardRef((e,t)=>m.createElement(pG,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mG,tooltipPayloadSearcher:pU,categoricalChartProps:e,ref:t}));function yG(e){var t=Wb();return m.useEffect(()=>{t(C$(e))},[t,e]),null}var vG=["layout"];function bG(){return bG=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bG.apply(null,arguments)}var wG={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},EG=m.forwardRef(function(e,t){var n,r=ov(e.categoricalChartProps,wG),{layout:i}=r,o=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(r,vG),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,c={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return m.createElement(z$,{preloadedState:{options:c},reduxStoreName:null!==(n=r.id)&&void 0!==n?n:a},m.createElement(Cq,{chartData:r.data}),m.createElement(B$,{layout:i,margin:r.margin}),m.createElement(H$,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),m.createElement(yG,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),m.createElement(dG,bG({},o,{ref:t})))});function SG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SG(Object(n),!0).forEach(function(t){xG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xG(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var TG=["item"],OG=_G(_G({},wG),{},{layout:"centric",startAngle:0,endAngle:360}),IG=m.forwardRef((e,t)=>{var n=ov(e,OG);return m.createElement(EG,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:TG,tooltipPayloadSearcher:pU,categoricalChartProps:n,ref:t})});const CG=({accounts:e,transactions:t})=>{const n=m.useMemo(()=>{const n=e.reduce((e,t)=>e+t.balance,0),r=new Date,i=r.getMonth(),o=r.getFullYear(),a=t.filter(e=>{const t=new Date(e.date);return t.getMonth()===i&&t.getFullYear()===o}),s=a.filter(e=>"INCOME"===e.type).reduce((e,t)=>e+t.amount,0),l=a.filter(e=>"EXPENSE"===e.type).reduce((e,t)=>e+t.amount,0);return{totalBalance:n,monthlyIncome:s,monthlyExpenses:l,savingsRate:s>0?(s-l)/s*100:0}},[e,t]),r=m.useMemo(()=>{const e=[];for(let n=5;n>=0;n--){const r=new Date;r.setMonth(r.getMonth()-n);const i=`${r.getMonth()+1}`,o=r.getMonth(),a=r.getFullYear(),s=t.filter(e=>{const t=new Date(e.date);return t.getMonth()===o&&t.getFullYear()===a});e.push({name:i,"":s.filter(e=>"INCOME"===e.type).reduce((e,t)=>e+t.amount,0),"":s.filter(e=>"EXPENSE"===e.type).reduce((e,t)=>e+t.amount,0)})}return e},[t]),i=m.useMemo(()=>{const e={};return t.filter(e=>"EXPENSE"===e.type).forEach(t=>{e[t.categoryId]=(e[t.categoryId]||0)+t.amount}),Object.entries(e).map(([e,t])=>{const n=Om.find(t=>t.id===e);return{name:(null==n?void 0:n.name)||"",value:t,color:(null==n?void 0:n.color.replace("bg-",""))||"gray-500"}}).sort((e,t)=>t.value-e.value)},[t]),o=["#10b981","#6366f1","#f59e0b","#ef4444","#ec4899","#8b5cf6"];return c.jsxs("div",{className:"p-4 md:p-8 max-w-7xl mx-auto space-y-6",children:[c.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:""}),c.jsx("p",{className:"text-slate-500",children:""})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"text-sm font-medium text-slate-400 uppercase tracking-wider",children:""}),c.jsxs("p",{className:"text-4xl font-black "+(n.totalBalance>=0?"text-emerald-600":"text-red-600"),children:["$",n.totalBalance.toLocaleString()]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsx(AG,{label:"",value:n.monthlyIncome,icon:"fa-arrow-up",color:"emerald"}),c.jsx(AG,{label:"",value:n.monthlyExpenses,icon:"fa-arrow-down",color:"rose"}),c.jsx(AG,{label:"",value:n.savingsRate.toFixed(1)+"%",icon:"fa-piggy-bank",color:"indigo"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[c.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-chart-line text-emerald-500"})," "]}),c.jsx("div",{className:"h-80",children:c.jsx(fx,{width:"100%",height:"100%",children:c.jsxs(gG,{data:r,children:[c.jsx(OB,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),c.jsx(o$,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),c.jsx(p$,{axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12}}),c.jsx(LU,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#f8fafc"}}),c.jsx($H,{dataKey:"",fill:"#10b981",radius:[4,4,0,0]}),c.jsx($H,{dataKey:"",fill:"#f43f5e",radius:[4,4,0,0]})]})})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[c.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-pie-chart text-indigo-500"})," "]}),c.jsx("div",{className:"h-64 mb-4",children:c.jsx(fx,{width:"100%",height:"100%",children:c.jsxs(IG,{children:[c.jsx(oq,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:i.map((e,t)=>c.jsx(UU,{fill:o[t%o.length]},`cell-${t}`))}),c.jsx(LU,{})]})})}),c.jsx("div",{className:"space-y-3 max-h-40 overflow-y-auto",children:i.map((e,t)=>c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:o[t%o.length]}}),c.jsx("span",{className:"text-sm text-slate-600",children:e.name})]}),c.jsxs("span",{className:"text-sm font-semibold",children:["$",e.value.toLocaleString()]})]},t))})]})]})]})},AG=({label:e,value:t,icon:n,color:r})=>c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-slate-100 flex items-center gap-5",children:[c.jsx("div",{className:`w-14 h-14 rounded-xl ${{emerald:"bg-emerald-50 text-emerald-600",rose:"bg-rose-50 text-rose-600",indigo:"bg-indigo-50 text-indigo-600"}[r]} flex items-center justify-center text-xl`,children:c.jsx("i",{className:`fas ${n}`})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-slate-400",children:e}),c.jsx("p",{className:"text-2xl font-bold text-slate-800",children:"number"==typeof t?`$${t.toLocaleString()}`:t})]})]}),kG=({accounts:e,onUpdate:t,userId:n})=>{const[r,i]=m.useState(!1),[o,a]=m.useState(null),[s,l]=m.useState({name:"",type:"",balance:0,currency:"TWD",color:"#10b981"}),u=()=>{a(null),i(!1),l({name:"",type:"",balance:0,currency:"TWD",color:"#10b981"})};return c.jsxs("div",{className:"p-6 md:p-10 max-w-6xl mx-auto pb-24 md:pb-10",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-10",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-slate-800",children:""}),c.jsx("p",{className:"text-slate-500 font-medium",children:""})]}),c.jsxs("button",{onClick:()=>i(!0),className:"bg-slate-900 hover:bg-slate-800 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-xl shadow-slate-200 flex items-center gap-2 group",children:[c.jsx("i",{className:"fas fa-plus group-hover:rotate-90 transition-transform"})," "]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(n=>c.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-sm border border-slate-100 group hover:shadow-xl hover:shadow-slate-200/50 transition-all relative overflow-hidden",children:[c.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 -mr-8 -mt-8 rounded-full opacity-10",style:{backgroundColor:n.color}}),c.jsxs("div",{className:"flex justify-between items-start mb-6",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center text-white text-lg shadow-sm",style:{backgroundColor:n.color},children:c.jsx("i",{className:"fas "+(""===n.type?"fa-credit-card":""===n.type?"fa-chart-line":"fa-university")})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-bold text-slate-800",children:n.name}),c.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:n.type})]})]}),c.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx("button",{onClick:()=>(e=>{l(e),a(e.id),i(!0)})(n),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",children:c.jsx("i",{className:"fas fa-pencil-alt"})}),c.jsx("button",{onClick:()=>(async n=>{confirm("")&&(Tm||await Um(n),t(e.filter(e=>e.id!==n)))})(n.id),className:"p-2 text-slate-400 hover:text-rose-500 transition-colors",children:c.jsx("i",{className:"fas fa-trash-alt"})})]})]}),c.jsxs("div",{className:"mt-auto",children:[c.jsx("p",{className:"text-xs font-bold text-slate-400 mb-1 uppercase tracking-tighter",children:""}),c.jsxs("div",{className:"flex items-baseline gap-1",children:[c.jsx("span",{className:"text-sm font-bold text-slate-400",children:n.currency}),c.jsx("p",{className:"text-3xl font-black tracking-tight "+(n.balance>=0?"text-slate-900":"text-rose-600"),children:n.balance.toLocaleString()})]})]})]},n.id))}),r&&c.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-[2rem] p-10 w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-300",children:[c.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-8",children:o?"":""}),c.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),s.name){if(o){const r={...s,id:o};Tm||await Lm(n,r),t(e.map(e=>e.id===o?r:e))}else{const r={id:Date.now().toString(),name:s.name,type:s.type,balance:Number(s.balance),currency:"TWD",color:s.color};Tm||await Lm(n,r),t([...e,r])}u()}},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("input",{type:"text",value:s.name,onChange:e=>l({...s,name:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-slate-900/5 focus:border-slate-900 transition-all font-bold",placeholder:"...",required:!0})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsxs("select",{value:s.type,onChange:e=>l({...s,type:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-slate-900/5 font-bold bg-white",children:[c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""}),c.jsx("option",{value:"",children:""})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("input",{type:"number",value:s.balance,onChange:e=>l({...s,balance:Number(e.target.value)}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-slate-900/5 font-bold",placeholder:"0"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),c.jsx("div",{className:"flex flex-wrap gap-3",children:["#10b981","#6366f1","#f59e0b","#ef4444","#ec4899","#8b5cf6","#475569"].map(e=>c.jsx("button",{type:"button",onClick:()=>l({...s,color:e}),className:"w-10 h-10 rounded-full transition-all border-4 "+(s.color===e?"border-slate-900 scale-110 shadow-lg":"border-transparent"),style:{backgroundColor:e}},e))})]}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[c.jsx("button",{type:"button",onClick:u,className:"flex-1 py-4 rounded-2xl font-bold text-slate-500 hover:bg-slate-50 transition-all",children:""}),c.jsx("button",{type:"submit",className:"flex-1 py-4 bg-slate-900 hover:bg-slate-800 text-white rounded-2xl font-bold shadow-xl shadow-slate-200 transition-all",children:""})]})]})]})})]})},PG=({transactions:e,accounts:t,onUpdate:n,userId:r})=>{var i,o;const[a,s]=m.useState(!1),[l,u]=m.useState({accountId:(null==(i=t[0])?void 0:i.id)||"",categoryId:(null==(o=Om[0])?void 0:o.id)||"",amount:0,type:"EXPENSE",date:(new Date).toISOString().split("T")[0],note:""});return c.jsxs("div",{className:"p-6 md:p-10 max-w-6xl mx-auto pb-24 md:pb-10",children:[c.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-10",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-black text-slate-800",children:""}),c.jsx("p",{className:"text-slate-500 font-medium",children:""})]}),c.jsxs("button",{onClick:()=>s(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-3 rounded-2xl font-bold transition-all shadow-xl shadow-indigo-100 flex items-center gap-2 group",children:[c.jsx("i",{className:"fas fa-plus group-hover:rotate-90 transition-transform"})," "]})]}),c.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-100 overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"bg-slate-50/50 border-b border-slate-100",children:[c.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),c.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),c.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),c.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em]",children:""}),c.jsx("th",{className:"px-8 py-5 text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] text-right",children:""}),c.jsx("th",{className:"px-8 py-5 w-20"})]})}),c.jsxs("tbody",{className:"divide-y divide-slate-50",children:[e.sort((e,t)=>t.date.localeCompare(e.date)).map(r=>{const i=(o=r.categoryId,Om.find(e=>e.id===o));var o;const a=(e=>t.find(t=>t.id===e))(r.accountId);return c.jsxs("tr",{className:"hover:bg-slate-50/30 transition-colors group",children:[c.jsx("td",{className:"px-8 py-5 text-sm font-bold text-slate-500",children:r.date}),c.jsx("td",{className:"px-8 py-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:`w-10 h-10 rounded-xl ${null==i?void 0:i.color} flex items-center justify-center text-white text-sm shadow-sm`,children:c.jsx("i",{className:`fas ${null==i?void 0:i.icon}`})}),c.jsx("span",{className:"text-sm font-bold text-slate-800",children:null==i?void 0:i.name})]})}),c.jsx("td",{className:"px-8 py-5",children:c.jsx("span",{className:"px-3 py-1 rounded-full bg-slate-100 text-[10px] font-black text-slate-500 uppercase",children:(null==a?void 0:a.name)||""})}),c.jsx("td",{className:"px-8 py-5 text-sm text-slate-400 font-medium truncate max-w-[150px]",children:r.note||""}),c.jsxs("td",{className:"px-8 py-5 text-lg font-black text-right tracking-tight "+("INCOME"===r.type?"text-emerald-500":"text-rose-500"),children:["INCOME"===r.type?"+":"-",r.amount.toLocaleString()]}),c.jsx("td",{className:"px-8 py-5 text-right",children:c.jsx("button",{onClick:()=>(async t=>{confirm("")&&(Tm||await zm(t),n(e.filter(e=>e.id!==t)))})(r.id),className:"p-2 text-slate-200 hover:text-rose-500 transition-colors",children:c.jsx("i",{className:"fas fa-trash-alt"})})})]},r.id)}),0===e.length&&c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-8 py-20 text-center",children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center text-slate-200 text-2xl",children:c.jsx("i",{className:"fas fa-inbox"})}),c.jsx("p",{className:"text-slate-300 font-bold",children:""})]})})})]})]})})}),a&&c.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-[2rem] p-10 w-full max-w-lg shadow-2xl animate-in fade-in zoom-in duration-300 overflow-y-auto max-h-[90vh]",children:[c.jsx("h3",{className:"text-2xl font-black text-slate-900 mb-8",children:""}),c.jsxs("form",{onSubmit:async i=>{var o,a;if(i.preventDefault(),!l.amount||!l.accountId||!l.categoryId)return;const c={accountId:l.accountId,categoryId:l.categoryId,amount:Number(l.amount),type:l.type,date:l.date,note:l.note||""};Tm||await Vm(r,c);const d={...c,id:Date.now().toString()};n([d,...e]),s(!1),u({accountId:(null==(o=t[0])?void 0:o.id)||"",categoryId:(null==(a=Om[0])?void 0:a.id)||"",amount:0,type:"EXPENSE",date:(new Date).toISOString().split("T")[0],note:""})},className:"space-y-6",children:[c.jsxs("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl mb-8",children:[c.jsxs("button",{type:"button",onClick:()=>u({...l,type:"EXPENSE"}),className:"flex-1 py-3 rounded-xl text-xs font-black transition-all "+("EXPENSE"===l.type?"bg-white text-rose-500 shadow-sm":"text-slate-400"),children:[c.jsx("i",{className:"fas fa-arrow-down mr-2"}),""]}),c.jsxs("button",{type:"button",onClick:()=>u({...l,type:"INCOME"}),className:"flex-1 py-3 rounded-xl text-xs font-black transition-all "+("INCOME"===l.type?"bg-white text-emerald-500 shadow-sm":"text-slate-400"),children:[c.jsx("i",{className:"fas fa-arrow-up mr-2"}),""]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("input",{type:"number",value:l.amount,onChange:e=>u({...l,amount:Number(e.target.value)}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500 font-bold",placeholder:"0",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("input",{type:"date",value:l.date,onChange:e=>u({...l,date:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 focus:border-indigo-500 font-bold bg-white",required:!0})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:""}),c.jsx("div",{className:"grid grid-cols-4 gap-3",children:Om.filter(e=>e.type===l.type).map(e=>c.jsxs("button",{type:"button",onClick:()=>u({...l,categoryId:e.id}),className:"p-3 rounded-2xl flex flex-col items-center gap-2 border-4 transition-all "+(l.categoryId===e.id?"border-indigo-600 bg-indigo-50":"border-transparent bg-slate-50 hover:bg-slate-100"),children:[c.jsx("div",{className:`w-10 h-10 rounded-xl ${e.color} flex items-center justify-center text-white text-sm shadow-sm`,children:c.jsx("i",{className:`fas ${e.icon}`})}),c.jsx("span",{className:"text-[10px] font-black text-slate-600 whitespace-nowrap",children:e.name})]},e.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("select",{value:l.accountId,onChange:e=>u({...l,accountId:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 font-bold bg-white",children:t.map(e=>c.jsxs("option",{value:e.id,children:[e.name," ($",e.balance.toLocaleString(),")"]},e.id))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsx("input",{type:"text",value:l.note,onChange:e=>u({...l,note:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-indigo-500/5 font-bold",placeholder:""})]}),c.jsxs("div",{className:"flex gap-4 pt-4",children:[c.jsx("button",{type:"button",onClick:()=>s(!1),className:"flex-1 py-4 font-bold text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",children:""}),c.jsx("button",{type:"submit",className:"flex-1 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold shadow-xl shadow-indigo-100 transition-all",children:""})]})]})]})})]})},NG=({onLogin:e})=>{const[t,n]=m.useState(""),[r,i]=m.useState(""),[o,a]=m.useState(""),s=Re();return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-md p-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-2xl flex items-center justify-center text-white text-3xl mx-auto mb-4 shadow-lg shadow-emerald-100",children:c.jsx("i",{className:"fas fa-chart-pie"})}),c.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"FinVue AI"}),c.jsx("p",{className:"text-slate-500 mt-2",children:""})]}),c.jsxs("form",{onSubmit:async n=>{n.preventDefault();try{const n=await Rm(t,r);n?(e(n),s("/")):a("")}catch(i){a(i.message||"")}},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),c.jsx("input",{type:"email",className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-slate-700",placeholder:"name@example.com",value:t,onChange:e=>n(e.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),c.jsx("input",{type:"password",className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-slate-700",placeholder:"",value:r,onChange:e=>i(e.target.value),required:!0})]}),o&&c.jsx("p",{className:"text-rose-500 text-sm font-medium text-center",children:o}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{type:"submit",className:"w-full bg-slate-900 hover:bg-slate-800 text-white py-4 rounded-2xl font-bold text-lg shadow-xl shadow-slate-200 transition-all transform active:scale-95",children:""}),c.jsxs("button",{type:"button",onClick:async()=>{try{const t=await Rm("demo@example.com","password123");t&&(e(t),s("/"))}catch(t){a("")}},className:"w-full bg-emerald-50 hover:bg-emerald-100 text-emerald-700 py-3 rounded-2xl font-bold transition-all border border-emerald-200 flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fas fa-bolt text-emerald-500"}),""]})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[c.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase mb-2",children:""}),c.jsxs("p",{className:"text-sm text-slate-600",children:[": ",c.jsx("span",{className:"font-mono font-bold",children:"demo@example.com"})]}),c.jsxs("p",{className:"text-sm text-slate-600",children:[": ",c.jsx("span",{className:"font-mono font-bold",children:"password123"})]})]}),c.jsxs("p",{className:"text-center mt-8 text-slate-500",children:[" ",c.jsx(bt,{to:"/register",className:"text-emerald-600 font-bold hover:underline",children:""})]})]})})},RG=({onRegister:e})=>{const[t,n]=m.useState(""),[r,i]=m.useState(""),[o,a]=m.useState(""),s=Re();return c.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-md p-10",children:[c.jsxs("div",{className:"text-center mb-10",children:[c.jsx("div",{className:"w-16 h-16 bg-emerald-500 rounded-2xl flex items-center justify-center text-white text-3xl mx-auto mb-4 shadow-lg shadow-emerald-100",children:c.jsx("i",{className:"fas fa-user-plus"})}),c.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:""}),c.jsx("p",{className:"text-slate-500 mt-2",children:""})]}),c.jsxs("form",{onSubmit:async n=>{n.preventDefault();try{const n=await Dm(r,o,t);e(n),s("/")}catch(i){}},className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),c.jsx("input",{type:"text",className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-slate-700",placeholder:"",value:t,onChange:e=>n(e.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),c.jsx("input",{type:"email",className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-slate-700",placeholder:"name@example.com",value:r,onChange:e=>i(e.target.value),required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:""}),c.jsx("input",{type:"password",className:"w-full px-5 py-4 rounded-2xl border border-slate-200 focus:outline-none focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 transition-all text-slate-700",placeholder:" 8 ",value:o,onChange:e=>a(e.target.value),required:!0})]}),c.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-4 rounded-2xl font-bold text-lg shadow-xl shadow-emerald-100 transition-all transform active:scale-95",children:""})]}),c.jsxs("p",{className:"text-center mt-8 text-slate-500",children:[" ",c.jsx(bt,{to:"/login",className:"text-emerald-600 font-bold hover:underline",children:""})]})]})})};var DG={};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let MG,jG;function LG(e,t,n,r){var i,o;if(!(null==e?void 0:e.baseUrl)){const e={geminiUrl:MG,vertexUrl:jG};return t?null!==(i=e.vertexUrl)&&void 0!==i?i:n:null!==(o=e.geminiUrl)&&void 0!==o?o:r}return e.baseUrl}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UG{}function FG(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function VG(e,t,n){for(let o=0;o<t.length-1;o++){const r=t[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(!(i in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[i]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[i])){const r=e[i];if(Array.isArray(n))for(let e=0;e<r.length;e++){VG(r[e],t.slice(o+1),n[e])}else for(const e of r)VG(e,t.slice(o+1),n)}return}if(r.endsWith("[0]")){const i=r.slice(0,-3);i in e||(e[i]=[{}]);return void VG(e[i][0],t.slice(o+1),n)}e[r]&&"object"==typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],i=e[r];if(void 0!==i){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===i)return;if("object"!=typeof i||"object"!=typeof n||null===i||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(i,n)}else if("_self"!==r||"object"!=typeof n||null===n||Array.isArray(n))e[r]=n;else{const t=n;Object.assign(e,t)}}function zG(e,t,n=void 0){try{if(1===t.length&&"_self"===t[0])return e;for(let r=0;r<t.length;r++){if("object"!=typeof e||null===e)return n;const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in e){const i=e[o];return Array.isArray(i)?i.map(e=>zG(e,t.slice(r+1),n)):n}return n}e=e[i]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function qG(e,t,n,r,i){if(r>=t.length)return;if("object"!=typeof e||null===e)return;const o=t[r];if(o.endsWith("[]")){const a=o.slice(0,-2),s=e;if(a in s&&Array.isArray(s[a]))for(const e of s[a])qG(e,t,n,r+1,i)}else if("*"===o){if("object"==typeof e&&null!==e&&!Array.isArray(e)){const t=e,o=Object.keys(t).filter(e=>!e.startsWith("_")&&!i.has(e)),a={};for(const e of o)a[e]=t[e];for(const[e,i]of Object.entries(a)){const o=[];for(const t of n.slice(r))"*"===t?o.push(e):o.push(t);VG(t,o,i)}for(const e of o)delete t[e]}}else{o in e&&qG(e[o],t,n,r+1,i)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BG(e){if("string"!=typeof e)throw new Error("fromImageBytes must be a string");return e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HG(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response","generateVideoResponse"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["video"]);null!=n&&VG(t,["video"],function(e){const t={},n=zG(e,["uri"]);null!=n&&VG(t,["uri"],n);const r=zG(e,["encodedVideo"]);null!=r&&VG(t,["videoBytes"],BG(r));const i=zG(e,["encoding"]);null!=i&&VG(t,["mimeType"],i);return t}(n));return t}(e))),VG(t,["generatedVideos"],e)}const r=zG(e,["raiMediaFilteredCount"]);null!=r&&VG(t,["raiMediaFilteredCount"],r);const i=zG(e,["raiMediaFilteredReasons"]);null!=i&&VG(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function $G(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["_self"]);null!=n&&VG(t,["video"],function(e){const t={},n=zG(e,["gcsUri"]);null!=n&&VG(t,["uri"],n);const r=zG(e,["bytesBase64Encoded"]);null!=r&&VG(t,["videoBytes"],BG(r));const i=zG(e,["mimeType"]);null!=i&&VG(t,["mimeType"],i);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(n));return t}(e))),VG(t,["generatedVideos"],e)}const r=zG(e,["raiMediaFilteredCount"]);null!=r&&VG(t,["raiMediaFilteredCount"],r);const i=zG(e,["raiMediaFilteredReasons"]);null!=i&&VG(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function GG(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["parent"]);null!=r&&VG(t,["parent"],r);const i=zG(e,["documentName"]);null!=i&&VG(t,["documentName"],i);return t}(a)),t}function KG(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["parent"]);null!=r&&VG(t,["parent"],r);const i=zG(e,["documentName"]);null!=i&&VG(t,["documentName"],i);return t}(a)),t}var WG,JG,YG,XG,QG,ZG,eK,tK,nK,rK,iK,oK,aK,sK,lK,uK,cK,dK,hK,fK,pK,mK,gK,yK,vK,bK,wK,EK,SK,_K,xK,TK,OK,IK,CK,AK,kK,PK,NK,RK,DK,MK,jK,LK,UK,FK,VK,zK,qK,BK,HK,$K,GK,KK,WK,JK,YK,XK,QK,ZK,eW,tW,nW,rW,iW,oW,aW,sW,lW,uW,cW,dW,hW,fW,pW,mW,gW,yW,vW,bW,wW,EW,SW,_W,xW,TW,OW,IW,CW,AW,kW,PW,NW,RW,DW,MW,jW,LW,UW,FW,VW,zW,qW,BW,HW,$W,GW,KW,WW,JW,YW,XW,QW,ZW;(JG=WG||(WG={})).OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",JG.OUTCOME_OK="OUTCOME_OK",JG.OUTCOME_FAILED="OUTCOME_FAILED",JG.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED",(XG=YG||(YG={})).LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",XG.PYTHON="PYTHON",(ZG=QG||(QG={})).SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",ZG.SILENT="SILENT",ZG.WHEN_IDLE="WHEN_IDLE",ZG.INTERRUPT="INTERRUPT",(tK=eK||(eK={})).TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",tK.STRING="STRING",tK.NUMBER="NUMBER",tK.INTEGER="INTEGER",tK.BOOLEAN="BOOLEAN",tK.ARRAY="ARRAY",tK.OBJECT="OBJECT",tK.NULL="NULL",(rK=nK||(nK={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",rK.MODE_DYNAMIC="MODE_DYNAMIC",(oK=iK||(iK={})).API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",oK.SIMPLE_SEARCH="SIMPLE_SEARCH",oK.ELASTIC_SEARCH="ELASTIC_SEARCH",(sK=aK||(aK={})).AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",sK.NO_AUTH="NO_AUTH",sK.API_KEY_AUTH="API_KEY_AUTH",sK.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",sK.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",sK.OAUTH="OAUTH",sK.OIDC_AUTH="OIDC_AUTH",(uK=lK||(lK={})).HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",uK.HTTP_IN_QUERY="HTTP_IN_QUERY",uK.HTTP_IN_HEADER="HTTP_IN_HEADER",uK.HTTP_IN_PATH="HTTP_IN_PATH",uK.HTTP_IN_BODY="HTTP_IN_BODY",uK.HTTP_IN_COOKIE="HTTP_IN_COOKIE",(dK=cK||(cK={})).PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",dK.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",dK.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",dK.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",dK.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",dK.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",dK.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH",(fK=hK||(hK={})).THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",fK.LOW="LOW",fK.MEDIUM="MEDIUM",fK.HIGH="HIGH",fK.MINIMAL="MINIMAL",(mK=pK||(pK={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",mK.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",mK.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",mK.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",mK.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",mK.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",mK.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",mK.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",mK.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",mK.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",mK.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK",(yK=gK||(gK={})).HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",yK.SEVERITY="SEVERITY",yK.PROBABILITY="PROBABILITY",(bK=vK||(vK={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",bK.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",bK.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",bK.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",bK.BLOCK_NONE="BLOCK_NONE",bK.OFF="OFF",(EK=wK||(wK={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",EK.STOP="STOP",EK.MAX_TOKENS="MAX_TOKENS",EK.SAFETY="SAFETY",EK.RECITATION="RECITATION",EK.LANGUAGE="LANGUAGE",EK.OTHER="OTHER",EK.BLOCKLIST="BLOCKLIST",EK.PROHIBITED_CONTENT="PROHIBITED_CONTENT",EK.SPII="SPII",EK.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",EK.IMAGE_SAFETY="IMAGE_SAFETY",EK.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",EK.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",EK.NO_IMAGE="NO_IMAGE",EK.IMAGE_RECITATION="IMAGE_RECITATION",EK.IMAGE_OTHER="IMAGE_OTHER",(_K=SK||(SK={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",_K.NEGLIGIBLE="NEGLIGIBLE",_K.LOW="LOW",_K.MEDIUM="MEDIUM",_K.HIGH="HIGH",(TK=xK||(xK={})).HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",TK.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",TK.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",TK.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",TK.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH",(IK=OK||(OK={})).URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",IK.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",IK.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",IK.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",IK.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE",(AK=CK||(CK={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",AK.SAFETY="SAFETY",AK.OTHER="OTHER",AK.BLOCKLIST="BLOCKLIST",AK.PROHIBITED_CONTENT="PROHIBITED_CONTENT",AK.IMAGE_SAFETY="IMAGE_SAFETY",AK.MODEL_ARMOR="MODEL_ARMOR",AK.JAILBREAK="JAILBREAK",(PK=kK||(kK={})).TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",PK.ON_DEMAND="ON_DEMAND",PK.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT",(RK=NK||(NK={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",RK.TEXT="TEXT",RK.IMAGE="IMAGE",RK.AUDIO="AUDIO",(MK=DK||(DK={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",MK.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",MK.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",MK.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",(LK=jK||(jK={})).TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",LK.TUNING_MODE_FULL="TUNING_MODE_FULL",LK.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER",(FK=UK||(UK={})).ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",FK.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",FK.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",FK.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",FK.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",FK.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",FK.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO",(zK=VK||(VK={})).JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",zK.JOB_STATE_QUEUED="JOB_STATE_QUEUED",zK.JOB_STATE_PENDING="JOB_STATE_PENDING",zK.JOB_STATE_RUNNING="JOB_STATE_RUNNING",zK.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",zK.JOB_STATE_FAILED="JOB_STATE_FAILED",zK.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",zK.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",zK.JOB_STATE_PAUSED="JOB_STATE_PAUSED",zK.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",zK.JOB_STATE_UPDATING="JOB_STATE_UPDATING",zK.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED",(BK=qK||(qK={})).TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",BK.TUNING_TASK_I2V="TUNING_TASK_I2V",BK.TUNING_TASK_T2V="TUNING_TASK_T2V",BK.TUNING_TASK_R2V="TUNING_TASK_R2V",($K=HK||(HK={})).MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",$K.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",$K.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",$K.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",$K.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH",(KK=GK||(GK={})).FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",KK.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",KK.BALANCED="BALANCED",KK.PRIORITIZE_COST="PRIORITIZE_COST",(JK=WK||(WK={})).UNSPECIFIED="UNSPECIFIED",JK.BLOCKING="BLOCKING",JK.NON_BLOCKING="NON_BLOCKING",(XK=YK||(YK={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",XK.MODE_DYNAMIC="MODE_DYNAMIC",(ZK=QK||(QK={})).ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",ZK.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER",(tW=eW||(eW={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",tW.AUTO="AUTO",tW.ANY="ANY",tW.NONE="NONE",tW.VALIDATED="VALIDATED",(rW=nW||(nW={})).BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",rW.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",rW.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",rW.BLOCK_NONE="BLOCK_NONE",(oW=iW||(iW={})).DONT_ALLOW="DONT_ALLOW",oW.ALLOW_ADULT="ALLOW_ADULT",oW.ALLOW_ALL="ALLOW_ALL",(sW=aW||(aW={})).auto="auto",sW.en="en",sW.ja="ja",sW.ko="ko",sW.hi="hi",sW.zh="zh",sW.pt="pt",sW.es="es",(uW=lW||(lW={})).MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",uW.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",uW.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",uW.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",uW.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC",(dW=cW||(cW={})).CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",dW.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",dW.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",dW.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH",(fW=hW||(hW={})).SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",fW.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",fW.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",fW.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT",(mW=pW||(pW={})).EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",mW.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",mW.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",mW.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",mW.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",mW.EDIT_MODE_STYLE="EDIT_MODE_STYLE",mW.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",mW.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE",(yW=gW||(gW={})).FOREGROUND="FOREGROUND",yW.BACKGROUND="BACKGROUND",yW.PROMPT="PROMPT",yW.SEMANTIC="SEMANTIC",yW.INTERACTIVE="INTERACTIVE",(bW=vW||(vW={})).ASSET="ASSET",bW.STYLE="STYLE",(EW=wW||(wW={})).INSERT="INSERT",EW.REMOVE="REMOVE",EW.REMOVE_STATIC="REMOVE_STATIC",EW.OUTPAINT="OUTPAINT",(_W=SW||(SW={})).OPTIMIZED="OPTIMIZED",_W.LOSSLESS="LOSSLESS",(TW=xW||(xW={})).SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",TW.PREFERENCE_TUNING="PREFERENCE_TUNING",(IW=OW||(OW={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",IW.STATE_PENDING="STATE_PENDING",IW.STATE_ACTIVE="STATE_ACTIVE",IW.STATE_FAILED="STATE_FAILED",(AW=CW||(CW={})).STATE_UNSPECIFIED="STATE_UNSPECIFIED",AW.PROCESSING="PROCESSING",AW.ACTIVE="ACTIVE",AW.FAILED="FAILED",(PW=kW||(kW={})).SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",PW.UPLOADED="UPLOADED",PW.GENERATED="GENERATED",(RW=NW||(NW={})).TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",RW.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",RW.RESPONSE_REJECTED="RESPONSE_REJECTED",RW.NEED_MORE_INPUT="NEED_MORE_INPUT",(MW=DW||(DW={})).MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",MW.TEXT="TEXT",MW.IMAGE="IMAGE",MW.VIDEO="VIDEO",MW.AUDIO="AUDIO",MW.DOCUMENT="DOCUMENT",(LW=jW||(jW={})).VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",LW.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",LW.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS",(FW=UW||(UW={})).START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",FW.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",FW.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW",(zW=VW||(VW={})).END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",zW.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",zW.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW",(BW=qW||(qW={})).ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",BW.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",BW.NO_INTERRUPTION="NO_INTERRUPTION",($W=HW||(HW={})).TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",$W.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",$W.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT",(KW=GW||(GW={})).SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",KW.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",KW.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",KW.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",KW.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",KW.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",KW.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",KW.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",KW.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",KW.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",KW.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",KW.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",KW.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR",(JW=WW||(WW={})).MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",JW.QUALITY="QUALITY",JW.DIVERSITY="DIVERSITY",JW.VOCALIZATION="VOCALIZATION",(XW=YW||(YW={})).PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",XW.PLAY="PLAY",XW.PAUSE="PAUSE",XW.STOP="STOP",XW.RESET_CONTEXT="RESET_CONTEXT";class eJ{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class tJ{get text(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let l="",u=!1;const c=[];for(const d of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||"thoughtSignature"===e||null===t&&void 0===t||c.push(e);if("string"==typeof d.text){if("boolean"==typeof d.thought&&d.thought)continue;u=!0,l+=d.text}}return c.length,u?l:void 0}get data(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;let l="";const u=[];for(const c of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"==typeof c.inlineData.data&&(l+=atob(c.inlineData.data))}return u.length,l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const l=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length;const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class nJ{}class rJ{}class iJ{}class oJ{}class aJ{}class sJ{}class lJ{}class uJ{}class cJ{}class dJ{}class hJ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new hJ;let r;const i=e;return r=t?$G(i):HG(i),Object.assign(n,r),n}}class fJ{}class pJ{}class mJ{}class gJ{}class yJ{}class vJ{}class bJ{}class wJ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new wJ,r=GG(e);return Object.assign(n,r),n}}class EJ{}class SJ{}class _J{}class xJ{}class TJ{get text(){var e,t,n;let r="",i=!1;const o=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&o.push(e);if("string"==typeof a.text){if("boolean"==typeof a.thought&&a.thought)continue;i=!0,r+=a.text}}return o.length,i?r:void 0}get data(){var e,t,n;let r="";const i=[];for(const o of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(o))"inlineData"!==e&&null!==t&&i.push(e);o.inlineData&&"string"==typeof o.inlineData.data&&(r+=atob(o.inlineData.data))}return i.length,r.length>0?btoa(r):void 0}}class OJ{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class IJ{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const n=new IJ,r=KG(e);return Object.assign(n,r),n}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CJ(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function AJ(e,t){const n=CJ(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function kJ(e){return Array.isArray(e)?e.map(e=>PJ(e)):[PJ(e)]}function PJ(e){if("object"==typeof e&&null!==e)return e;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof e)}function NJ(e){const t=PJ(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function RJ(e){const t=PJ(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function DJ(e){if(null==e)throw new Error("PartUnion is required");if("object"==typeof e)return e;if("string"==typeof e)return{text:e};throw new Error("Unsupported part type: "+typeof e)}function MJ(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(e=>DJ(e)):[DJ(e)]}function jJ(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function LJ(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function UJ(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function FJ(e){if(null==e)throw new Error("ContentUnion is required");return jJ(e)?e:{role:"user",parts:MJ(e)}}function VJ(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=FJ(e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=FJ(t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>FJ(e)):[FJ(t)]}function zJ(e){if(null==e||Array.isArray(e)&&0===e.length)throw new Error("contents are required");if(!Array.isArray(e)){if(LJ(e)||UJ(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[FJ(e)]}const t=[],n=[],r=jJ(e[0]);for(const i of e){const e=jJ(i);if(e!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)t.push(i);else{if(LJ(i)||UJ(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||t.push({role:"user",parts:MJ(n)}),t}function qJ(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;null!=o&&2==o.length&&("null"===o[0].type?(t.nullable=!0,e=o[1]):"null"===o[1].type&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(eK).includes(n[0].toUpperCase())?n[0].toUpperCase():eK.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(eK).includes(e.toUpperCase())?e.toUpperCase():eK.TYPE_UNSPECIFIED})}}(e.type,t);for(const[a,s]of Object.entries(e))if(null!=s)if("type"==a){if("null"===s)throw new Error("type: null can not be the only possible type for the field.");if(s instanceof Array)continue;t.type=Object.values(eK).includes(s.toUpperCase())?s.toUpperCase():eK.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=qJ(s);else if(r.includes(a)){const e=[];for(const n of s)"null"!=n.type?e.push(qJ(n)):t.nullable=!0;t[a]=e}else if(i.includes(a)){const e={};for(const[t,n]of Object.entries(s))e[t]=qJ(n);t[a]=e}else{if("additionalProperties"===a)continue;t[a]=s}return t}function BJ(e){return qJ(e)}function HJ(e){if("object"==typeof e)return e;if("string"==typeof e)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error("Unsupported speechConfig type: "+typeof e)}function $J(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function GJ(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=qJ(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=qJ(t.response));return e}function KJ(e){if(null==e)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function WJ(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}(e,t,"cachedContents")}function JJ(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function YJ(e){return BG(e)}function XJ(e){var t;let n;var r;if(null!=(r=e)&&"object"==typeof r&&"name"in r&&(n=e.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(e)&&(n=e.uri,void 0===n)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(e)&&(n=null===(t=e.video)||void 0===t?void 0:t.uri,void 0===n))){if("string"==typeof e&&(n=e),void 0===n)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const e=n.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${n}`);n=e[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function QJ(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function ZJ(e){for(const t of["models","tunedModels","publisherModels"])if(eY(e,t))return e[t];return[]}function eY(e,t){return null!==e&&"object"==typeof e&&t in e}function tY(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function nY(e,t){let n;if("string"==typeof t)if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else{if(!t.startsWith("bq://"))throw new Error(`Unsupported string source for Vertex AI: ${t}`);n={format:"bigquery",bigqueryUri:t}}else{if(!t.startsWith("files/"))throw new Error(`Unsupported string source for Gemini API: ${t}`);n={fileName:t}}else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(i>0||1!==r)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||1!==i)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function rY(e){if("object"!=typeof e||null===e)return{};const t=e,n=t.inlinedResponses;if("object"!=typeof n||null===n)return e;const r=n.inlinedResponses;if(!Array.isArray(r)||0===r.length)return e;let i=!1;for(const o of r){if("object"!=typeof o||null===o)continue;const e=o.response;if("object"!=typeof e||null===e)continue;if(void 0!==e.embedding){i=!0;break}}return i&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function iY(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function oY(e){return"BATCH_STATE_UNSPECIFIED"===e?"JOB_STATE_UNSPECIFIED":"BATCH_STATE_PENDING"===e?"JOB_STATE_PENDING":"BATCH_STATE_RUNNING"===e?"JOB_STATE_RUNNING":"BATCH_STATE_SUCCEEDED"===e?"JOB_STATE_SUCCEEDED":"BATCH_STATE_FAILED"===e?"JOB_STATE_FAILED":"BATCH_STATE_CANCELLED"===e?"JOB_STATE_CANCELLED":"BATCH_STATE_EXPIRED"===e?"JOB_STATE_EXPIRED":e}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aY(e){const t={},n=zG(e,["responsesFile"]);null!=n&&VG(t,["fileName"],n);const r=zG(e,["inlinedResponses","inlinedResponses"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["response"]);null!=n&&VG(t,["response"],function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["content"]);null!=n&&VG(t,["content"],n);const r=zG(e,["citationMetadata"]);null!=r&&VG(t,["citationMetadata"],function(e){const t={},n=zG(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["citations"],e)}return t}(r));const i=zG(e,["tokenCount"]);null!=i&&VG(t,["tokenCount"],i);const o=zG(e,["finishReason"]);null!=o&&VG(t,["finishReason"],o);const a=zG(e,["avgLogprobs"]);null!=a&&VG(t,["avgLogprobs"],a);const s=zG(e,["groundingMetadata"]);null!=s&&VG(t,["groundingMetadata"],s);const l=zG(e,["index"]);null!=l&&VG(t,["index"],l);const u=zG(e,["logprobsResult"]);null!=u&&VG(t,["logprobsResult"],u);const c=zG(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["safetyRatings"],e)}const d=zG(e,["urlContextMetadata"]);null!=d&&VG(t,["urlContextMetadata"],d);return t}(e))),VG(t,["candidates"],e)}const i=zG(e,["modelVersion"]);null!=i&&VG(t,["modelVersion"],i);const o=zG(e,["promptFeedback"]);null!=o&&VG(t,["promptFeedback"],o);const a=zG(e,["responseId"]);null!=a&&VG(t,["responseId"],a);const s=zG(e,["usageMetadata"]);null!=s&&VG(t,["usageMetadata"],s);return t}(n));const r=zG(e,["error"]);null!=r&&VG(t,["error"],r);return t}(e))),VG(t,["inlinedResponses"],e)}const i=zG(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["inlinedEmbedContentResponses"],e)}return t}function sY(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata","displayName"]);null!=r&&VG(t,["displayName"],r);const i=zG(e,["metadata","state"]);null!=i&&VG(t,["state"],oY(i));const o=zG(e,["metadata","createTime"]);null!=o&&VG(t,["createTime"],o);const a=zG(e,["metadata","endTime"]);null!=a&&VG(t,["endTime"],a);const s=zG(e,["metadata","updateTime"]);null!=s&&VG(t,["updateTime"],s);const l=zG(e,["metadata","model"]);null!=l&&VG(t,["model"],l);const u=zG(e,["metadata","output"]);return null!=u&&VG(t,["dest"],aY(rY(u))),t}function lY(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["displayName"]);null!=r&&VG(t,["displayName"],r);const i=zG(e,["state"]);null!=i&&VG(t,["state"],oY(i));const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["createTime"]);null!=a&&VG(t,["createTime"],a);const s=zG(e,["startTime"]);null!=s&&VG(t,["startTime"],s);const l=zG(e,["endTime"]);null!=l&&VG(t,["endTime"],l);const u=zG(e,["updateTime"]);null!=u&&VG(t,["updateTime"],u);const c=zG(e,["model"]);null!=c&&VG(t,["model"],c);const d=zG(e,["inputConfig"]);null!=d&&VG(t,["src"],function(e){const t={},n=zG(e,["instancesFormat"]);null!=n&&VG(t,["format"],n);const r=zG(e,["gcsSource","uris"]);null!=r&&VG(t,["gcsUri"],r);const i=zG(e,["bigquerySource","inputUri"]);null!=i&&VG(t,["bigqueryUri"],i);return t}(d));const h=zG(e,["outputConfig"]);null!=h&&VG(t,["dest"],function(e){const t={},n=zG(e,["predictionsFormat"]);null!=n&&VG(t,["format"],n);const r=zG(e,["gcsDestination","outputUriPrefix"]);null!=r&&VG(t,["gcsUri"],r);const i=zG(e,["bigqueryDestination","outputUri"]);return null!=i&&VG(t,["bigqueryUri"],i),t}(rY(h)));const f=zG(e,["completionStats"]);return null!=f&&VG(t,["completionStats"],f),t}function uY(e,t){const n={};if(void 0!==zG(t,["format"]))throw new Error("format parameter is not supported in Gemini API.");if(void 0!==zG(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==zG(t,["bigqueryUri"]))throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=zG(t,["fileName"]);null!=r&&VG(n,["fileName"],r);const i=zG(t,["inlinedRequests"]);if(null!=i){let t=i;Array.isArray(t)&&(t=t.map(t=>function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["request","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>cY(e))),VG(n,["request","contents"],e)}const o=zG(t,["metadata"]);null!=o&&VG(n,["metadata"],o);const a=zG(t,["config"]);null!=a&&VG(n,["request","generationConfig"],function(e,t,n){const r={},i=zG(t,["systemInstruction"]);void 0!==n&&null!=i&&VG(n,["systemInstruction"],cY(FJ(i)));const o=zG(t,["temperature"]);null!=o&&VG(r,["temperature"],o);const a=zG(t,["topP"]);null!=a&&VG(r,["topP"],a);const s=zG(t,["topK"]);null!=s&&VG(r,["topK"],s);const l=zG(t,["candidateCount"]);null!=l&&VG(r,["candidateCount"],l);const u=zG(t,["maxOutputTokens"]);null!=u&&VG(r,["maxOutputTokens"],u);const c=zG(t,["stopSequences"]);null!=c&&VG(r,["stopSequences"],c);const d=zG(t,["responseLogprobs"]);null!=d&&VG(r,["responseLogprobs"],d);const h=zG(t,["logprobs"]);null!=h&&VG(r,["logprobs"],h);const f=zG(t,["presencePenalty"]);null!=f&&VG(r,["presencePenalty"],f);const p=zG(t,["frequencyPenalty"]);null!=p&&VG(r,["frequencyPenalty"],p);const m=zG(t,["seed"]);null!=m&&VG(r,["seed"],m);const g=zG(t,["responseMimeType"]);null!=g&&VG(r,["responseMimeType"],g);const y=zG(t,["responseSchema"]);null!=y&&VG(r,["responseSchema"],BJ(y));const v=zG(t,["responseJsonSchema"]);null!=v&&VG(r,["responseJsonSchema"],v);if(void 0!==zG(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==zG(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=zG(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["category"]);null!=n&&VG(t,["category"],n);if(void 0!==zG(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=zG(e,["threshold"]);null!=r&&VG(t,["threshold"],r);return t}(e))),VG(n,["safetySettings"],e)}const w=zG(t,["tools"]);if(void 0!==n&&null!=w){let e=KJ(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["functionDeclarations"],e)}if(void 0!==zG(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zG(e,["googleSearchRetrieval"]);null!=r&&VG(t,["googleSearchRetrieval"],r);const i=zG(e,["computerUse"]);null!=i&&VG(t,["computerUse"],i);const o=zG(e,["fileSearch"]);null!=o&&VG(t,["fileSearch"],o);const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);if(void 0!==zG(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=zG(e,["googleMaps"]);null!=s&&VG(t,["googleMaps"],function(e){const t={};if(void 0!==zG(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=zG(e,["enableWidget"]);null!=n&&VG(t,["enableWidget"],n);return t}(s));const l=zG(e,["googleSearch"]);null!=l&&VG(t,["googleSearch"],function(e){const t={};if(void 0!==zG(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==zG(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=zG(e,["timeRangeFilter"]);null!=n&&VG(t,["timeRangeFilter"],n);return t}(l));const u=zG(e,["urlContext"]);null!=u&&VG(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(GJ(e)))),VG(n,["tools"],e)}const E=zG(t,["toolConfig"]);void 0!==n&&null!=E&&VG(n,["toolConfig"],function(e){const t={},n=zG(e,["functionCallingConfig"]);null!=n&&VG(t,["functionCallingConfig"],function(e){const t={},n=zG(e,["mode"]);null!=n&&VG(t,["mode"],n);const r=zG(e,["allowedFunctionNames"]);null!=r&&VG(t,["allowedFunctionNames"],r);if(void 0!==zG(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=zG(e,["retrievalConfig"]);null!=r&&VG(t,["retrievalConfig"],r);return t}(E));if(void 0!==zG(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const S=zG(t,["cachedContent"]);void 0!==n&&null!=S&&VG(n,["cachedContent"],WJ(e,S));const _=zG(t,["responseModalities"]);null!=_&&VG(r,["responseModalities"],_);const x=zG(t,["mediaResolution"]);null!=x&&VG(r,["mediaResolution"],x);const T=zG(t,["speechConfig"]);null!=T&&VG(r,["speechConfig"],HJ(T));if(void 0!==zG(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=zG(t,["thinkingConfig"]);null!=O&&VG(r,["thinkingConfig"],O);const I=zG(t,["imageConfig"]);null!=I&&VG(r,["imageConfig"],function(e){const t={},n=zG(e,["aspectRatio"]);null!=n&&VG(t,["aspectRatio"],n);const r=zG(e,["imageSize"]);null!=r&&VG(t,["imageSize"],r);if(void 0!==zG(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==zG(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(I));const C=zG(t,["enableEnhancedCivicAnswers"]);null!=C&&VG(r,["enableEnhancedCivicAnswers"],C);return r}(e,a,zG(n,["request"],{})));return n}(e,t))),VG(n,["requests","requests"],t)}return n}function cY(e){const t={},n=zG(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["mediaResolution"]);null!=n&&VG(t,["mediaResolution"],n);const r=zG(e,["codeExecutionResult"]);null!=r&&VG(t,["codeExecutionResult"],r);const i=zG(e,["executableCode"]);null!=i&&VG(t,["executableCode"],i);const o=zG(e,["fileData"]);null!=o&&VG(t,["fileData"],function(e){const t={};if(void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zG(e,["fileUri"]);null!=n&&VG(t,["fileUri"],n);const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(o));const a=zG(e,["functionCall"]);null!=a&&VG(t,["functionCall"],function(e){const t={},n=zG(e,["id"]);null!=n&&VG(t,["id"],n);const r=zG(e,["args"]);null!=r&&VG(t,["args"],r);const i=zG(e,["name"]);null!=i&&VG(t,["name"],i);if(void 0!==zG(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==zG(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=zG(e,["functionResponse"]);null!=s&&VG(t,["functionResponse"],s);const l=zG(e,["inlineData"]);null!=l&&VG(t,["inlineData"],function(e){const t={},n=zG(e,["data"]);if(null!=n&&VG(t,["data"],n),void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}(l));const u=zG(e,["text"]);null!=u&&VG(t,["text"],u);const c=zG(e,["thought"]);null!=c&&VG(t,["thought"],c);const d=zG(e,["thoughtSignature"]);null!=d&&VG(t,["thoughtSignature"],d);const h=zG(e,["videoMetadata"]);null!=h&&VG(t,["videoMetadata"],h);return t}(e))),VG(t,["parts"],e)}const r=zG(e,["role"]);return null!=r&&VG(t,["role"],r),t}function dY(e,t){const n=zG(e,["displayName"]);void 0!==t&&null!=n&&VG(t,["displayName"],n);const r=zG(e,["dest"]);return void 0!==t&&null!=r&&VG(t,["outputConfig"],function(e){const t={},n=zG(e,["format"]);null!=n&&VG(t,["predictionsFormat"],n);const r=zG(e,["gcsUri"]);null!=r&&VG(t,["gcsDestination","outputUriPrefix"],r);const i=zG(e,["bigqueryUri"]);if(null!=i&&VG(t,["bigqueryDestination","outputUri"],i),void 0!==zG(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==zG(e,["inlinedResponses"]))throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(void 0!==zG(e,["inlinedEmbedContentResponses"]))throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}(function(e){if("string"!=typeof e)return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}(r))),{}}function hY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["src"]);null!=i&&VG(n,["batch","inputConfig"],uY(e,nY(e,i)));const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["displayName"]);if(void 0!==t&&null!=n&&VG(t,["batch","displayName"],n),void 0!==zG(e,["dest"]))throw new Error("dest parameter is not supported in Gemini API.")}(o,n),n}function fY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["model"],CJ(e,r));const i=zG(t,["src"]);null!=i&&VG(n,["inputConfig"],function(e){const t={},n=zG(e,["format"]);null!=n&&VG(t,["instancesFormat"],n);const r=zG(e,["gcsUri"]);null!=r&&VG(t,["gcsSource","uris"],r);const i=zG(e,["bigqueryUri"]);if(null!=i&&VG(t,["bigquerySource","inputUri"],i),void 0!==zG(e,["fileName"]))throw new Error("fileName parameter is not supported in Vertex AI.");if(void 0!==zG(e,["inlinedRequests"]))throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}(nY(e,i)));const o=zG(t,["config"]);return null!=o&&dY(o,n),n}function pY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["src"]);null!=i&&VG(n,["batch","inputConfig"],function(e,t){const n={},r=zG(t,["fileName"]);null!=r&&VG(n,["file_name"],r);const i=zG(t,["inlinedRequests"]);null!=i&&VG(n,["requests"],function(e,t){const n={},r=zG(t,["contents"]);if(null!=r){let t=VJ(e,r);Array.isArray(t)&&(t=t.map(e=>e)),VG(n,["requests[]","request","content"],t)}const i=zG(t,["config"]);null!=i&&(VG(n,["_self"],function(e,t){const n={},r=zG(e,["taskType"]);void 0!==t&&null!=r&&VG(t,["requests[]","taskType"],r);const i=zG(e,["title"]);void 0!==t&&null!=i&&VG(t,["requests[]","title"],i);const o=zG(e,["outputDimensionality"]);void 0!==t&&null!=o&&VG(t,["requests[]","outputDimensionality"],o);if(void 0!==zG(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==zG(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}(i,n)),function(e,t){for(const[n,r]of Object.entries(t)){const t=n.split("."),i=r.split("."),o=new Set;let a=-1;for(let e=0;e<t.length;e++)if("*"===t[e]){a=e;break}if(-1!==a&&i.length>a)for(let e=a;e<i.length;e++){const t=i[e];"*"===t||t.endsWith("[]")||t.endsWith("[0]")||o.add(t)}qG(e,t,i,0,o)}}(n,{"requests[].*":"requests[].request.*"}));return n}(e,i));return n}(e,i));const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["displayName"]);void 0!==t&&null!=n&&VG(t,["batch","displayName"],n)}(o,n),n}function mY(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);if(void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r),void 0!==zG(e,["filter"]))throw new Error("filter parameter is not supported in Gemini API.")}(n,t),t}function gY(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r);const i=zG(e,["filter"]);void 0!==t&&null!=i&&VG(t,["_query","filter"],i)}(n,t),t}(ZW=QW||(QW={})).PAGED_ITEM_BATCH_JOBS="batchJobs",ZW.PAGED_ITEM_MODELS="models",ZW.PAGED_ITEM_TUNING_JOBS="tuningJobs",ZW.PAGED_ITEM_FILES="files",ZW.PAGED_ITEM_CACHED_CONTENTS="cachedContents",ZW.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",ZW.PAGED_ITEM_DOCUMENTS="documents";class yY{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=null==t?void 0:t.sdkHttpResponse,this.idxInternal=0;let o={config:{}};o=n&&0!==Object.keys(n).length?"object"==typeof n?Object.assign({},n):n:{config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=null!==(i=null===(r=o.config)||void 0===r?void 0:r.pageSize)&&void 0!==i?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vY extends UG{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new yY(QW.PAGED_ITEM_BATCH_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.create=async e=>(this.apiClient.isVertexAI()&&(e.config=this.formatDestination(e.src,e.config)),this.createInternal(e)),this.createEmbeddings=async e=>{if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(e)}}createInlinedGenerateContentRequest(e){const t=hY(this.apiClient,e),n=FG("{model}:batchGenerateContent",t._url),r=t.batch.inputConfig.requests,i=r.requests,o=[];for(const a of i){const e=Object.assign({},a);if(e.systemInstruction){const t=e.systemInstruction;delete e.systemInstruction;const n=e.request;n.systemInstruction=t,e.request=n}o.push(e)}return r.requests=o,delete t.config,delete t._url,delete t._query,{path:n,body:t}}getGcsUri(e){return"string"==typeof e?e.startsWith("gs://")?e:void 0:!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0?e.gcsUri[0]:void 0}getBigqueryUri(e){return"string"==typeof e?e.startsWith("bq://")?e:void 0:Array.isArray(e)?void 0:e.bigqueryUri}formatDestination(e,t){const n=t?Object.assign({},t):{},r=Date.now().toString();if(n.displayName||(n.displayName=`genaiBatchJob_${r}`),void 0===n.dest){const t=this.getGcsUri(e),i=this.getBigqueryUri(e);if(t)t.endsWith(".jsonl")?n.dest=`${t.slice(0,-6)}/dest`:n.dest=`${t}_dest_${r}`;else{if(!i)throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.");n.dest=`${i}_dest_${r}`}}return n}async createInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=fY(this.apiClient,e);return a=FG("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>lY(e))}{const t=hY(this.apiClient,e);return a=FG("{model}:batchGenerateContent",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>sY(e))}}async createEmbeddingsInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=pY(this.apiClient,e);return i=FG("{model}:asyncBatchEmbedContent",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>sY(e))}}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);return a=FG("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>lY(e))}{const t=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);return a=FG("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>sY(e))}}async cancel(e){var t,n,r,i;let o="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);o=FG("batchPredictionJobs/{name}:cancel",r._url),a=r._query,delete r._url,delete r._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}else{const t=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);o=FG("batches/{name}:cancel",t._url),a=t._query,delete t._url,delete t._query,await this.apiClient.request({path:o,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal})}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=gY(e);return a=FG("batchPredictionJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["batchPredictionJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>lY(e))),VG(t,["batchJobs"],e)}return t}(e),n=new xJ;return Object.assign(n,t),n})}{const t=mY(e);return a=FG("batches",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["operations"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>sY(e))),VG(t,["batchJobs"],e)}return t}(e),n=new xJ;return Object.assign(n,t),n})}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);return a=FG("batchPredictionJobs/{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);return null!=o&&VG(t,["error"],o),t}(e))}{const t=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],iY(e,r)),n}(this.apiClient,e);return a=FG("batches/{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);return null!=o&&VG(t,["error"],o),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bY(e){const t={},n=zG(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["mediaResolution"]);null!=n&&VG(t,["mediaResolution"],n);const r=zG(e,["codeExecutionResult"]);null!=r&&VG(t,["codeExecutionResult"],r);const i=zG(e,["executableCode"]);null!=i&&VG(t,["executableCode"],i);const o=zG(e,["fileData"]);null!=o&&VG(t,["fileData"],function(e){const t={};if(void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zG(e,["fileUri"]);null!=n&&VG(t,["fileUri"],n);const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(o));const a=zG(e,["functionCall"]);null!=a&&VG(t,["functionCall"],function(e){const t={},n=zG(e,["id"]);null!=n&&VG(t,["id"],n);const r=zG(e,["args"]);null!=r&&VG(t,["args"],r);const i=zG(e,["name"]);null!=i&&VG(t,["name"],i);if(void 0!==zG(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==zG(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=zG(e,["functionResponse"]);null!=s&&VG(t,["functionResponse"],s);const l=zG(e,["inlineData"]);null!=l&&VG(t,["inlineData"],function(e){const t={},n=zG(e,["data"]);if(null!=n&&VG(t,["data"],n),void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}(l));const u=zG(e,["text"]);null!=u&&VG(t,["text"],u);const c=zG(e,["thought"]);null!=c&&VG(t,["thought"],c);const d=zG(e,["thoughtSignature"]);null!=d&&VG(t,["thoughtSignature"],d);const h=zG(e,["videoMetadata"]);null!=h&&VG(t,["videoMetadata"],h);return t}(e))),VG(t,["parts"],e)}const r=zG(e,["role"]);return null!=r&&VG(t,["role"],r),t}function wY(e,t){const n=zG(e,["ttl"]);void 0!==t&&null!=n&&VG(t,["ttl"],n);const r=zG(e,["expireTime"]);void 0!==t&&null!=r&&VG(t,["expireTime"],r);const i=zG(e,["displayName"]);void 0!==t&&null!=i&&VG(t,["displayName"],i);const o=zG(e,["contents"]);if(void 0!==t&&null!=o){let e=zJ(o);Array.isArray(e)&&(e=e.map(e=>bY(e))),VG(t,["contents"],e)}const a=zG(e,["systemInstruction"]);void 0!==t&&null!=a&&VG(t,["systemInstruction"],bY(FJ(a)));const s=zG(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["functionDeclarations"],e)}if(void 0!==zG(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zG(e,["googleSearchRetrieval"]);null!=r&&VG(t,["googleSearchRetrieval"],r);const i=zG(e,["computerUse"]);null!=i&&VG(t,["computerUse"],i);const o=zG(e,["fileSearch"]);null!=o&&VG(t,["fileSearch"],o);const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);if(void 0!==zG(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=zG(e,["googleMaps"]);null!=s&&VG(t,["googleMaps"],function(e){const t={};if(void 0!==zG(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=zG(e,["enableWidget"]);null!=n&&VG(t,["enableWidget"],n);return t}(s));const l=zG(e,["googleSearch"]);null!=l&&VG(t,["googleSearch"],function(e){const t={};if(void 0!==zG(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==zG(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=zG(e,["timeRangeFilter"]);null!=n&&VG(t,["timeRangeFilter"],n);return t}(l));const u=zG(e,["urlContext"]);null!=u&&VG(t,["urlContext"],u);return t}(e))),VG(t,["tools"],e)}const l=zG(e,["toolConfig"]);if(void 0!==t&&null!=l&&VG(t,["toolConfig"],function(e){const t={},n=zG(e,["functionCallingConfig"]);null!=n&&VG(t,["functionCallingConfig"],function(e){const t={},n=zG(e,["mode"]);null!=n&&VG(t,["mode"],n);const r=zG(e,["allowedFunctionNames"]);null!=r&&VG(t,["allowedFunctionNames"],r);if(void 0!==zG(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=zG(e,["retrievalConfig"]);null!=r&&VG(t,["retrievalConfig"],r);return t}(l)),void 0!==zG(e,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}function EY(e,t){const n=zG(e,["ttl"]);void 0!==t&&null!=n&&VG(t,["ttl"],n);const r=zG(e,["expireTime"]);void 0!==t&&null!=r&&VG(t,["expireTime"],r);const i=zG(e,["displayName"]);void 0!==t&&null!=i&&VG(t,["displayName"],i);const o=zG(e,["contents"]);if(void 0!==t&&null!=o){let e=zJ(o);Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["contents"],e)}const a=zG(e,["systemInstruction"]);void 0!==t&&null!=a&&VG(t,["systemInstruction"],FJ(a));const s=zG(e,["tools"]);if(void 0!==t&&null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zG(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zG(e,["description"]);null!=n&&VG(t,["description"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["parameters"]);null!=i&&VG(t,["parameters"],i);const o=zG(e,["parametersJsonSchema"]);null!=o&&VG(t,["parametersJsonSchema"],o);const a=zG(e,["response"]);null!=a&&VG(t,["response"],a);const s=zG(e,["responseJsonSchema"]);null!=s&&VG(t,["responseJsonSchema"],s);return t}(e))),VG(t,["functionDeclarations"],e)}const r=zG(e,["retrieval"]);null!=r&&VG(t,["retrieval"],r);const i=zG(e,["googleSearchRetrieval"]);null!=i&&VG(t,["googleSearchRetrieval"],i);const o=zG(e,["computerUse"]);null!=o&&VG(t,["computerUse"],o);if(void 0!==zG(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);const s=zG(e,["enterpriseWebSearch"]);null!=s&&VG(t,["enterpriseWebSearch"],s);const l=zG(e,["googleMaps"]);null!=l&&VG(t,["googleMaps"],l);const u=zG(e,["googleSearch"]);null!=u&&VG(t,["googleSearch"],u);const c=zG(e,["urlContext"]);null!=c&&VG(t,["urlContext"],c);return t}(e))),VG(t,["tools"],e)}const l=zG(e,["toolConfig"]);void 0!==t&&null!=l&&VG(t,["toolConfig"],l);const u=zG(e,["kmsKeyName"]);return void 0!==t&&null!=u&&VG(t,["encryption_spec","kmsKeyName"],u),{}}function SY(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r)}(n,t),t}function _Y(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r)}(n,t),t}function xY(e,t){const n={},r=zG(t,["name"]);null!=r&&VG(n,["_url","name"],WJ(e,r));const i=zG(t,["config"]);return null!=i&&function(e,t){const n=zG(e,["ttl"]);void 0!==t&&null!=n&&VG(t,["ttl"],n);const r=zG(e,["expireTime"]);void 0!==t&&null!=r&&VG(t,["expireTime"],r)}(i,n),n}function TY(e,t){const n={},r=zG(t,["name"]);null!=r&&VG(n,["_url","name"],WJ(e,r));const i=zG(t,["config"]);return null!=i&&function(e,t){const n=zG(e,["ttl"]);void 0!==t&&null!=n&&VG(t,["ttl"],n);const r=zG(e,["expireTime"]);void 0!==t&&null!=r&&VG(t,["expireTime"],r)}(i,n),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OY extends UG{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new yY(QW.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["model"],AJ(e,r));const i=zG(t,["config"]);return null!=i&&EY(i,n),n}(this.apiClient,e);return a=FG("cachedContents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["model"],AJ(e,r));const i=zG(t,["config"]);return null!=i&&wY(i,n),n}(this.apiClient,e);return a=FG("cachedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],WJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],WJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],WJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new mJ;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=zG(t,["name"]);return null!=r&&VG(n,["_url","name"],WJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new mJ;return Object.assign(n,t),n})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=TY(this.apiClient,e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>e)}{const t=xY(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>e)}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=_Y(e);return a=FG("cachedContents",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["cachedContents"],e)}return t}(e),n=new gJ;return Object.assign(n,t),n})}{const t=SY(e);return a=FG("cachedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["cachedContents"],e)}return t}(e),n=new gJ;return Object.assign(n,t),n})}}}function IY(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function CY(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function AY(e){return this instanceof AY?(this.v=e,this):new AY(e)}function kY(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{!function(e){e.value instanceof AY?Promise.resolve(e.value.v).then(l,u):c(o[0][2],e)}(i[e](t))}catch(eF){c(o[0][3],eF)}}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function PY(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=CY(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){(function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)})(r,i,(t=e[n](t)).done,t.value)})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function NY(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&RY(n)}function RY(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts)if(void 0===t||0===Object.keys(t).length)return!1;return!0}function DY(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&"model"===e[r].role;)i.push(e[r]),o&&!RY(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class MY{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new jY(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class jY{constructor(e,t,n,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(i)}async sendMessage(e){var t;await this.sendPromise;const n=FJ(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,i;const o=await r,a=null===(t=null===(e=o.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=o.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(i=s.slice(l))&&void 0!==i?i:[]);const c=a?[a]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=FJ(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,n)}getHistory(e=!1){const t=e?DY(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return kY(this,arguments,function*(){var n,r,i,o,a,s;const l=[];try{for(var u,c=!0,d=PY(e);!(n=(u=yield AY(d.next())).done);c=!0){o=u.value,c=!1;const e=o;if(NY(e)){const t=null===(s=null===(a=e.candidates)||void 0===a?void 0:a[0])||void 0===s?void 0:s.content;void 0!==t&&l.push(t)}yield yield AY(e)}}catch(h){r={error:h}}finally{try{c||n||!(i=d.return)||(yield AY(i.call(d)))}finally{if(r)throw r.error}}this.recordHistory(t,l)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...DY(n)):this.history.push(e),this.history.push(...r)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LY extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,LY.prototype)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UY(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r)}(n,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class FY extends UG{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new yY(QW.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>e)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UY(e);return i=FG("files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["files"],e)}return t}(e),n=new EJ;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["file"]);return null!=n&&VG(t,["file"],n),t}(e);return i=FG("upload/v1beta/files",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new SJ;return Object.assign(n,t),n})}}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","file"],XJ(n)),t}(e);return i=FG("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","file"],XJ(n)),t}(e);return i=FG("files/{file}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new _J;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VY(e){const t={},n=zG(e,["data"]);if(null!=n&&VG(t,["data"],n),void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}function zY(e){const t={},n=zG(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["mediaResolution"]);null!=n&&VG(t,["mediaResolution"],n);const r=zG(e,["codeExecutionResult"]);null!=r&&VG(t,["codeExecutionResult"],r);const i=zG(e,["executableCode"]);null!=i&&VG(t,["executableCode"],i);const o=zG(e,["fileData"]);null!=o&&VG(t,["fileData"],function(e){const t={};if(void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zG(e,["fileUri"]);null!=n&&VG(t,["fileUri"],n);const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(o));const a=zG(e,["functionCall"]);null!=a&&VG(t,["functionCall"],function(e){const t={},n=zG(e,["id"]);null!=n&&VG(t,["id"],n);const r=zG(e,["args"]);null!=r&&VG(t,["args"],r);const i=zG(e,["name"]);null!=i&&VG(t,["name"],i);if(void 0!==zG(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==zG(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=zG(e,["functionResponse"]);null!=s&&VG(t,["functionResponse"],s);const l=zG(e,["inlineData"]);null!=l&&VG(t,["inlineData"],VY(l));const u=zG(e,["text"]);null!=u&&VG(t,["text"],u);const c=zG(e,["thought"]);null!=c&&VG(t,["thought"],c);const d=zG(e,["thoughtSignature"]);null!=d&&VG(t,["thoughtSignature"],d);const h=zG(e,["videoMetadata"]);null!=h&&VG(t,["videoMetadata"],h);return t}(e))),VG(t,["parts"],e)}const r=zG(e,["role"]);return null!=r&&VG(t,["role"],r),t}function qY(e,t){const n=zG(e,["generationConfig"]);void 0!==t&&null!=n&&VG(t,["setup","generationConfig"],n);const r=zG(e,["responseModalities"]);void 0!==t&&null!=r&&VG(t,["setup","generationConfig","responseModalities"],r);const i=zG(e,["temperature"]);void 0!==t&&null!=i&&VG(t,["setup","generationConfig","temperature"],i);const o=zG(e,["topP"]);void 0!==t&&null!=o&&VG(t,["setup","generationConfig","topP"],o);const a=zG(e,["topK"]);void 0!==t&&null!=a&&VG(t,["setup","generationConfig","topK"],a);const s=zG(e,["maxOutputTokens"]);void 0!==t&&null!=s&&VG(t,["setup","generationConfig","maxOutputTokens"],s);const l=zG(e,["mediaResolution"]);void 0!==t&&null!=l&&VG(t,["setup","generationConfig","mediaResolution"],l);const u=zG(e,["seed"]);void 0!==t&&null!=u&&VG(t,["setup","generationConfig","seed"],u);const c=zG(e,["speechConfig"]);void 0!==t&&null!=c&&VG(t,["setup","generationConfig","speechConfig"],$J(c));const d=zG(e,["thinkingConfig"]);void 0!==t&&null!=d&&VG(t,["setup","generationConfig","thinkingConfig"],d);const h=zG(e,["enableAffectiveDialog"]);void 0!==t&&null!=h&&VG(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=zG(e,["systemInstruction"]);void 0!==t&&null!=f&&VG(t,["setup","systemInstruction"],zY(FJ(f)));const p=zG(e,["tools"]);if(void 0!==t&&null!=p){let e=KJ(p);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["functionDeclarations"],e)}if(void 0!==zG(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zG(e,["googleSearchRetrieval"]);null!=r&&VG(t,["googleSearchRetrieval"],r);const i=zG(e,["computerUse"]);null!=i&&VG(t,["computerUse"],i);const o=zG(e,["fileSearch"]);null!=o&&VG(t,["fileSearch"],o);const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);if(void 0!==zG(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=zG(e,["googleMaps"]);null!=s&&VG(t,["googleMaps"],function(e){const t={};if(void 0!==zG(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=zG(e,["enableWidget"]);return null!=n&&VG(t,["enableWidget"],n),t}(s));const l=zG(e,["googleSearch"]);null!=l&&VG(t,["googleSearch"],function(e){const t={};if(void 0!==zG(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==zG(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=zG(e,["timeRangeFilter"]);return null!=n&&VG(t,["timeRangeFilter"],n),t}(l));const u=zG(e,["urlContext"]);null!=u&&VG(t,["urlContext"],u);return t}(GJ(e)))),VG(t,["setup","tools"],e)}const m=zG(e,["sessionResumption"]);void 0!==t&&null!=m&&VG(t,["setup","sessionResumption"],function(e){const t={},n=zG(e,["handle"]);null!=n&&VG(t,["handle"],n);if(void 0!==zG(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(m));const g=zG(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&VG(t,["setup","inputAudioTranscription"],g);const y=zG(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&VG(t,["setup","outputAudioTranscription"],y);const v=zG(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&VG(t,["setup","realtimeInputConfig"],v);const b=zG(e,["contextWindowCompression"]);void 0!==t&&null!=b&&VG(t,["setup","contextWindowCompression"],b);const w=zG(e,["proactivity"]);if(void 0!==t&&null!=w&&VG(t,["setup","proactivity"],w),void 0!==zG(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return{}}function BY(e,t){const n=zG(e,["generationConfig"]);void 0!==t&&null!=n&&VG(t,["setup","generationConfig"],function(e){const t={},n=zG(e,["modelSelectionConfig"]);null!=n&&VG(t,["modelConfig"],n);const r=zG(e,["responseJsonSchema"]);null!=r&&VG(t,["responseJsonSchema"],r);const i=zG(e,["audioTimestamp"]);null!=i&&VG(t,["audioTimestamp"],i);const o=zG(e,["candidateCount"]);null!=o&&VG(t,["candidateCount"],o);const a=zG(e,["enableAffectiveDialog"]);null!=a&&VG(t,["enableAffectiveDialog"],a);const s=zG(e,["frequencyPenalty"]);null!=s&&VG(t,["frequencyPenalty"],s);const l=zG(e,["logprobs"]);null!=l&&VG(t,["logprobs"],l);const u=zG(e,["maxOutputTokens"]);null!=u&&VG(t,["maxOutputTokens"],u);const c=zG(e,["mediaResolution"]);null!=c&&VG(t,["mediaResolution"],c);const d=zG(e,["presencePenalty"]);null!=d&&VG(t,["presencePenalty"],d);const h=zG(e,["responseLogprobs"]);null!=h&&VG(t,["responseLogprobs"],h);const f=zG(e,["responseMimeType"]);null!=f&&VG(t,["responseMimeType"],f);const p=zG(e,["responseModalities"]);null!=p&&VG(t,["responseModalities"],p);const m=zG(e,["responseSchema"]);null!=m&&VG(t,["responseSchema"],m);const g=zG(e,["routingConfig"]);null!=g&&VG(t,["routingConfig"],g);const y=zG(e,["seed"]);null!=y&&VG(t,["seed"],y);const v=zG(e,["speechConfig"]);null!=v&&VG(t,["speechConfig"],v);const b=zG(e,["stopSequences"]);null!=b&&VG(t,["stopSequences"],b);const w=zG(e,["temperature"]);null!=w&&VG(t,["temperature"],w);const E=zG(e,["thinkingConfig"]);null!=E&&VG(t,["thinkingConfig"],E);const S=zG(e,["topK"]);null!=S&&VG(t,["topK"],S);const _=zG(e,["topP"]);if(null!=_&&VG(t,["topP"],_),void 0!==zG(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(n));const r=zG(e,["responseModalities"]);void 0!==t&&null!=r&&VG(t,["setup","generationConfig","responseModalities"],r);const i=zG(e,["temperature"]);void 0!==t&&null!=i&&VG(t,["setup","generationConfig","temperature"],i);const o=zG(e,["topP"]);void 0!==t&&null!=o&&VG(t,["setup","generationConfig","topP"],o);const a=zG(e,["topK"]);void 0!==t&&null!=a&&VG(t,["setup","generationConfig","topK"],a);const s=zG(e,["maxOutputTokens"]);void 0!==t&&null!=s&&VG(t,["setup","generationConfig","maxOutputTokens"],s);const l=zG(e,["mediaResolution"]);void 0!==t&&null!=l&&VG(t,["setup","generationConfig","mediaResolution"],l);const u=zG(e,["seed"]);void 0!==t&&null!=u&&VG(t,["setup","generationConfig","seed"],u);const c=zG(e,["speechConfig"]);void 0!==t&&null!=c&&VG(t,["setup","generationConfig","speechConfig"],$J(c));const d=zG(e,["thinkingConfig"]);void 0!==t&&null!=d&&VG(t,["setup","generationConfig","thinkingConfig"],d);const h=zG(e,["enableAffectiveDialog"]);void 0!==t&&null!=h&&VG(t,["setup","generationConfig","enableAffectiveDialog"],h);const f=zG(e,["systemInstruction"]);void 0!==t&&null!=f&&VG(t,["setup","systemInstruction"],FJ(f));const p=zG(e,["tools"]);if(void 0!==t&&null!=p){let e=KJ(p);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zG(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zG(e,["description"]);null!=n&&VG(t,["description"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["parameters"]);null!=i&&VG(t,["parameters"],i);const o=zG(e,["parametersJsonSchema"]);null!=o&&VG(t,["parametersJsonSchema"],o);const a=zG(e,["response"]);null!=a&&VG(t,["response"],a);const s=zG(e,["responseJsonSchema"]);return null!=s&&VG(t,["responseJsonSchema"],s),t}(e))),VG(t,["functionDeclarations"],e)}const r=zG(e,["retrieval"]);null!=r&&VG(t,["retrieval"],r);const i=zG(e,["googleSearchRetrieval"]);null!=i&&VG(t,["googleSearchRetrieval"],i);const o=zG(e,["computerUse"]);null!=o&&VG(t,["computerUse"],o);if(void 0!==zG(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);const s=zG(e,["enterpriseWebSearch"]);null!=s&&VG(t,["enterpriseWebSearch"],s);const l=zG(e,["googleMaps"]);null!=l&&VG(t,["googleMaps"],l);const u=zG(e,["googleSearch"]);null!=u&&VG(t,["googleSearch"],u);const c=zG(e,["urlContext"]);null!=c&&VG(t,["urlContext"],c);return t}(GJ(e)))),VG(t,["setup","tools"],e)}const m=zG(e,["sessionResumption"]);void 0!==t&&null!=m&&VG(t,["setup","sessionResumption"],m);const g=zG(e,["inputAudioTranscription"]);void 0!==t&&null!=g&&VG(t,["setup","inputAudioTranscription"],g);const y=zG(e,["outputAudioTranscription"]);void 0!==t&&null!=y&&VG(t,["setup","outputAudioTranscription"],y);const v=zG(e,["realtimeInputConfig"]);void 0!==t&&null!=v&&VG(t,["setup","realtimeInputConfig"],v);const b=zG(e,["contextWindowCompression"]);void 0!==t&&null!=b&&VG(t,["setup","contextWindowCompression"],b);const w=zG(e,["proactivity"]);void 0!==t&&null!=w&&VG(t,["setup","proactivity"],w);const E=zG(e,["explicitVadSignal"]);return void 0!==t&&null!=E&&VG(t,["setup","explicitVadSignal"],E),{}}function HY(e){const t={},n=zG(e,["media"]);if(null!=n){let e=kJ(n);Array.isArray(e)&&(e=e.map(e=>VY(e))),VG(t,["mediaChunks"],e)}const r=zG(e,["audio"]);null!=r&&VG(t,["audio"],VY(RJ(r)));const i=zG(e,["audioStreamEnd"]);null!=i&&VG(t,["audioStreamEnd"],i);const o=zG(e,["video"]);null!=o&&VG(t,["video"],VY(NJ(o)));const a=zG(e,["text"]);null!=a&&VG(t,["text"],a);const s=zG(e,["activityStart"]);null!=s&&VG(t,["activityStart"],s);const l=zG(e,["activityEnd"]);return null!=l&&VG(t,["activityEnd"],l),t}function $Y(e){const t={},n=zG(e,["media"]);if(null!=n){let e=kJ(n);Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["mediaChunks"],e)}const r=zG(e,["audio"]);null!=r&&VG(t,["audio"],RJ(r));const i=zG(e,["audioStreamEnd"]);null!=i&&VG(t,["audioStreamEnd"],i);const o=zG(e,["video"]);null!=o&&VG(t,["video"],NJ(o));const a=zG(e,["text"]);null!=a&&VG(t,["text"],a);const s=zG(e,["activityStart"]);null!=s&&VG(t,["activityStart"],s);const l=zG(e,["activityEnd"]);return null!=l&&VG(t,["activityEnd"],l),t}function GY(e){const t={},n=zG(e,["setupComplete"]);null!=n&&VG(t,["setupComplete"],n);const r=zG(e,["serverContent"]);null!=r&&VG(t,["serverContent"],r);const i=zG(e,["toolCall"]);null!=i&&VG(t,["toolCall"],i);const o=zG(e,["toolCallCancellation"]);null!=o&&VG(t,["toolCallCancellation"],o);const a=zG(e,["usageMetadata"]);null!=a&&VG(t,["usageMetadata"],function(e){const t={},n=zG(e,["promptTokenCount"]);null!=n&&VG(t,["promptTokenCount"],n);const r=zG(e,["cachedContentTokenCount"]);null!=r&&VG(t,["cachedContentTokenCount"],r);const i=zG(e,["candidatesTokenCount"]);null!=i&&VG(t,["responseTokenCount"],i);const o=zG(e,["toolUsePromptTokenCount"]);null!=o&&VG(t,["toolUsePromptTokenCount"],o);const a=zG(e,["thoughtsTokenCount"]);null!=a&&VG(t,["thoughtsTokenCount"],a);const s=zG(e,["totalTokenCount"]);null!=s&&VG(t,["totalTokenCount"],s);const l=zG(e,["promptTokensDetails"]);if(null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["promptTokensDetails"],e)}const u=zG(e,["cacheTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["cacheTokensDetails"],e)}const c=zG(e,["candidatesTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["responseTokensDetails"],e)}const d=zG(e,["toolUsePromptTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["toolUsePromptTokensDetails"],e)}const h=zG(e,["trafficType"]);null!=h&&VG(t,["trafficType"],h);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(a));const s=zG(e,["goAway"]);null!=s&&VG(t,["goAway"],s);const l=zG(e,["sessionResumptionUpdate"]);null!=l&&VG(t,["sessionResumptionUpdate"],l);const u=zG(e,["voiceActivityDetectionSignal"]);return null!=u&&VG(t,["voiceActivityDetectionSignal"],u),t}function KY(e){const t={},n=zG(e,["content"]);null!=n&&VG(t,["content"],n);const r=zG(e,["citationMetadata"]);null!=r&&VG(t,["citationMetadata"],function(e){const t={},n=zG(e,["citationSources"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["citations"],e)}return t}(r));const i=zG(e,["tokenCount"]);null!=i&&VG(t,["tokenCount"],i);const o=zG(e,["finishReason"]);null!=o&&VG(t,["finishReason"],o);const a=zG(e,["avgLogprobs"]);null!=a&&VG(t,["avgLogprobs"],a);const s=zG(e,["groundingMetadata"]);null!=s&&VG(t,["groundingMetadata"],s);const l=zG(e,["index"]);null!=l&&VG(t,["index"],l);const u=zG(e,["logprobsResult"]);null!=u&&VG(t,["logprobsResult"],u);const c=zG(e,["safetyRatings"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["safetyRatings"],e)}const d=zG(e,["urlContextMetadata"]);return null!=d&&VG(t,["urlContextMetadata"],d),t}function WY(e){const t={},n=zG(e,["values"]);null!=n&&VG(t,["values"],n);const r=zG(e,["statistics"]);return null!=r&&VG(t,["statistics"],function(e){const t={},n=zG(e,["truncated"]);null!=n&&VG(t,["truncated"],n);const r=zG(e,["token_count"]);null!=r&&VG(t,["tokenCount"],r);return t}(r)),t}function JY(e){const t={},n=zG(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["mediaResolution"]);null!=n&&VG(t,["mediaResolution"],n);const r=zG(e,["codeExecutionResult"]);null!=r&&VG(t,["codeExecutionResult"],r);const i=zG(e,["executableCode"]);null!=i&&VG(t,["executableCode"],i);const o=zG(e,["fileData"]);null!=o&&VG(t,["fileData"],function(e){const t={};if(void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zG(e,["fileUri"]);null!=n&&VG(t,["fileUri"],n);const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(o));const a=zG(e,["functionCall"]);null!=a&&VG(t,["functionCall"],function(e){const t={},n=zG(e,["id"]);null!=n&&VG(t,["id"],n);const r=zG(e,["args"]);null!=r&&VG(t,["args"],r);const i=zG(e,["name"]);null!=i&&VG(t,["name"],i);if(void 0!==zG(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==zG(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=zG(e,["functionResponse"]);null!=s&&VG(t,["functionResponse"],s);const l=zG(e,["inlineData"]);null!=l&&VG(t,["inlineData"],function(e){const t={},n=zG(e,["data"]);if(null!=n&&VG(t,["data"],n),void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}(l));const u=zG(e,["text"]);null!=u&&VG(t,["text"],u);const c=zG(e,["thought"]);null!=c&&VG(t,["thought"],c);const d=zG(e,["thoughtSignature"]);null!=d&&VG(t,["thoughtSignature"],d);const h=zG(e,["videoMetadata"]);null!=h&&VG(t,["videoMetadata"],h);return t}(e))),VG(t,["parts"],e)}const r=zG(e,["role"]);return null!=r&&VG(t,["role"],r),t}function YY(e,t){const n=zG(e,["systemInstruction"]);void 0!==t&&null!=n&&VG(t,["systemInstruction"],FJ(n));const r=zG(e,["tools"]);if(void 0!==t&&null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>AX(e))),VG(t,["tools"],e)}const i=zG(e,["generationConfig"]);return void 0!==t&&null!=i&&VG(t,["generationConfig"],function(e){const t={},n=zG(e,["modelSelectionConfig"]);null!=n&&VG(t,["modelConfig"],n);const r=zG(e,["responseJsonSchema"]);null!=r&&VG(t,["responseJsonSchema"],r);const i=zG(e,["audioTimestamp"]);null!=i&&VG(t,["audioTimestamp"],i);const o=zG(e,["candidateCount"]);null!=o&&VG(t,["candidateCount"],o);const a=zG(e,["enableAffectiveDialog"]);null!=a&&VG(t,["enableAffectiveDialog"],a);const s=zG(e,["frequencyPenalty"]);null!=s&&VG(t,["frequencyPenalty"],s);const l=zG(e,["logprobs"]);null!=l&&VG(t,["logprobs"],l);const u=zG(e,["maxOutputTokens"]);null!=u&&VG(t,["maxOutputTokens"],u);const c=zG(e,["mediaResolution"]);null!=c&&VG(t,["mediaResolution"],c);const d=zG(e,["presencePenalty"]);null!=d&&VG(t,["presencePenalty"],d);const h=zG(e,["responseLogprobs"]);null!=h&&VG(t,["responseLogprobs"],h);const f=zG(e,["responseMimeType"]);null!=f&&VG(t,["responseMimeType"],f);const p=zG(e,["responseModalities"]);null!=p&&VG(t,["responseModalities"],p);const m=zG(e,["responseSchema"]);null!=m&&VG(t,["responseSchema"],m);const g=zG(e,["routingConfig"]);null!=g&&VG(t,["routingConfig"],g);const y=zG(e,["seed"]);null!=y&&VG(t,["seed"],y);const v=zG(e,["speechConfig"]);null!=v&&VG(t,["speechConfig"],v);const b=zG(e,["stopSequences"]);null!=b&&VG(t,["stopSequences"],b);const w=zG(e,["temperature"]);null!=w&&VG(t,["temperature"],w);const E=zG(e,["thinkingConfig"]);null!=E&&VG(t,["thinkingConfig"],E);const S=zG(e,["topK"]);null!=S&&VG(t,["topK"],S);const _=zG(e,["topP"]);null!=_&&VG(t,["topP"],_);if(void 0!==zG(e,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}(i)),{}}function XY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>JY(e))),VG(n,["contents"],e)}const o=zG(t,["config"]);return null!=o&&function(e){if(void 0!==zG(e,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==zG(e,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==zG(e,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.")}(o),n}function QY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["prompt"]);null!=i&&VG(n,["instances[0]","prompt"],i);const o=zG(t,["referenceImages"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["referenceImage"]);null!=n&&VG(t,["referenceImage"],bX(n));const r=zG(e,["referenceId"]);null!=r&&VG(t,["referenceId"],r);const i=zG(e,["referenceType"]);null!=i&&VG(t,["referenceType"],i);const o=zG(e,["maskImageConfig"]);null!=o&&VG(t,["maskImageConfig"],function(e){const t={},n=zG(e,["maskMode"]);null!=n&&VG(t,["maskMode"],n);const r=zG(e,["segmentationClasses"]);null!=r&&VG(t,["maskClasses"],r);const i=zG(e,["maskDilation"]);null!=i&&VG(t,["dilation"],i);return t}(o));const a=zG(e,["controlImageConfig"]);null!=a&&VG(t,["controlImageConfig"],function(e){const t={},n=zG(e,["controlType"]);null!=n&&VG(t,["controlType"],n);const r=zG(e,["enableControlImageComputation"]);return null!=r&&VG(t,["computeControl"],r),t}(a));const s=zG(e,["styleImageConfig"]);null!=s&&VG(t,["styleImageConfig"],s);const l=zG(e,["subjectImageConfig"]);null!=l&&VG(t,["subjectImageConfig"],l);return t}(e))),VG(n,["instances[0]","referenceImages"],e)}const a=zG(t,["config"]);return null!=a&&function(e,t){const n=zG(e,["outputGcsUri"]);void 0!==t&&null!=n&&VG(t,["parameters","storageUri"],n);const r=zG(e,["negativePrompt"]);void 0!==t&&null!=r&&VG(t,["parameters","negativePrompt"],r);const i=zG(e,["numberOfImages"]);void 0!==t&&null!=i&&VG(t,["parameters","sampleCount"],i);const o=zG(e,["aspectRatio"]);void 0!==t&&null!=o&&VG(t,["parameters","aspectRatio"],o);const a=zG(e,["guidanceScale"]);void 0!==t&&null!=a&&VG(t,["parameters","guidanceScale"],a);const s=zG(e,["seed"]);void 0!==t&&null!=s&&VG(t,["parameters","seed"],s);const l=zG(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&VG(t,["parameters","safetySetting"],l);const u=zG(e,["personGeneration"]);void 0!==t&&null!=u&&VG(t,["parameters","personGeneration"],u);const c=zG(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&VG(t,["parameters","includeSafetyAttributes"],c);const d=zG(e,["includeRaiReason"]);void 0!==t&&null!=d&&VG(t,["parameters","includeRaiReason"],d);const h=zG(e,["language"]);void 0!==t&&null!=h&&VG(t,["parameters","language"],h);const f=zG(e,["outputMimeType"]);void 0!==t&&null!=f&&VG(t,["parameters","outputOptions","mimeType"],f);const p=zG(e,["outputCompressionQuality"]);void 0!==t&&null!=p&&VG(t,["parameters","outputOptions","compressionQuality"],p);const m=zG(e,["addWatermark"]);void 0!==t&&null!=m&&VG(t,["parameters","addWatermark"],m);const g=zG(e,["labels"]);void 0!==t&&null!=g&&VG(t,["labels"],g);const y=zG(e,["editMode"]);void 0!==t&&null!=y&&VG(t,["parameters","editMode"],y);const v=zG(e,["baseSteps"]);void 0!==t&&null!=v&&VG(t,["parameters","editConfig","baseSteps"],v)}(a,n),n}function ZY(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let t=VJ(e,i);Array.isArray(t)&&(t=t.map(e=>e)),VG(n,["requests[]","content"],t)}const o=zG(t,["config"]);null!=o&&function(e,t){const n=zG(e,["taskType"]);void 0!==t&&null!=n&&VG(t,["requests[]","taskType"],n);const r=zG(e,["title"]);void 0!==t&&null!=r&&VG(t,["requests[]","title"],r);const i=zG(e,["outputDimensionality"]);if(void 0!==t&&null!=i&&VG(t,["requests[]","outputDimensionality"],i),void 0!==zG(e,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==zG(e,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.")}(o,n);const a=zG(t,["model"]);return void 0!==a&&VG(n,["requests[]","model"],CJ(e,a)),n}function eX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let t=VJ(e,i);Array.isArray(t)&&(t=t.map(e=>e)),VG(n,["instances[]","content"],t)}const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["taskType"]);void 0!==t&&null!=n&&VG(t,["instances[]","task_type"],n);const r=zG(e,["title"]);void 0!==t&&null!=r&&VG(t,["instances[]","title"],r);const i=zG(e,["outputDimensionality"]);void 0!==t&&null!=i&&VG(t,["parameters","outputDimensionality"],i);const o=zG(e,["mimeType"]);void 0!==t&&null!=o&&VG(t,["instances[]","mimeType"],o);const a=zG(e,["autoTruncate"]);void 0!==t&&null!=a&&VG(t,["parameters","autoTruncate"],a)}(o,n),n}function tX(e,t,n){const r={},i=zG(t,["systemInstruction"]);void 0!==n&&null!=i&&VG(n,["systemInstruction"],JY(FJ(i)));const o=zG(t,["temperature"]);null!=o&&VG(r,["temperature"],o);const a=zG(t,["topP"]);null!=a&&VG(r,["topP"],a);const s=zG(t,["topK"]);null!=s&&VG(r,["topK"],s);const l=zG(t,["candidateCount"]);null!=l&&VG(r,["candidateCount"],l);const u=zG(t,["maxOutputTokens"]);null!=u&&VG(r,["maxOutputTokens"],u);const c=zG(t,["stopSequences"]);null!=c&&VG(r,["stopSequences"],c);const d=zG(t,["responseLogprobs"]);null!=d&&VG(r,["responseLogprobs"],d);const h=zG(t,["logprobs"]);null!=h&&VG(r,["logprobs"],h);const f=zG(t,["presencePenalty"]);null!=f&&VG(r,["presencePenalty"],f);const p=zG(t,["frequencyPenalty"]);null!=p&&VG(r,["frequencyPenalty"],p);const m=zG(t,["seed"]);null!=m&&VG(r,["seed"],m);const g=zG(t,["responseMimeType"]);null!=g&&VG(r,["responseMimeType"],g);const y=zG(t,["responseSchema"]);null!=y&&VG(r,["responseSchema"],BJ(y));const v=zG(t,["responseJsonSchema"]);if(null!=v&&VG(r,["responseJsonSchema"],v),void 0!==zG(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==zG(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=zG(t,["safetySettings"]);if(void 0!==n&&null!=b){let e=b;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["category"]);null!=n&&VG(t,["category"],n);if(void 0!==zG(e,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=zG(e,["threshold"]);null!=r&&VG(t,["threshold"],r);return t}(e))),VG(n,["safetySettings"],e)}const w=zG(t,["tools"]);if(void 0!==n&&null!=w){let e=KJ(w);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["functionDeclarations"],e)}if(void 0!==zG(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zG(e,["googleSearchRetrieval"]);null!=r&&VG(t,["googleSearchRetrieval"],r);const i=zG(e,["computerUse"]);null!=i&&VG(t,["computerUse"],i);const o=zG(e,["fileSearch"]);null!=o&&VG(t,["fileSearch"],o);const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);if(void 0!==zG(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=zG(e,["googleMaps"]);null!=s&&VG(t,["googleMaps"],function(e){const t={};if(void 0!==zG(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=zG(e,["enableWidget"]);null!=n&&VG(t,["enableWidget"],n);return t}(s));const l=zG(e,["googleSearch"]);null!=l&&VG(t,["googleSearch"],function(e){const t={};if(void 0!==zG(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==zG(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=zG(e,["timeRangeFilter"]);null!=n&&VG(t,["timeRangeFilter"],n);return t}(l));const u=zG(e,["urlContext"]);null!=u&&VG(t,["urlContext"],u);return t}(GJ(e)))),VG(n,["tools"],e)}const E=zG(t,["toolConfig"]);if(void 0!==n&&null!=E&&VG(n,["toolConfig"],function(e){const t={},n=zG(e,["functionCallingConfig"]);null!=n&&VG(t,["functionCallingConfig"],function(e){const t={},n=zG(e,["mode"]);null!=n&&VG(t,["mode"],n);const r=zG(e,["allowedFunctionNames"]);if(null!=r&&VG(t,["allowedFunctionNames"],r),void 0!==zG(e,["streamFunctionCallArguments"]))throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}(n));const r=zG(e,["retrievalConfig"]);null!=r&&VG(t,["retrievalConfig"],r);return t}(E)),void 0!==zG(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const S=zG(t,["cachedContent"]);void 0!==n&&null!=S&&VG(n,["cachedContent"],WJ(e,S));const _=zG(t,["responseModalities"]);null!=_&&VG(r,["responseModalities"],_);const x=zG(t,["mediaResolution"]);null!=x&&VG(r,["mediaResolution"],x);const T=zG(t,["speechConfig"]);if(null!=T&&VG(r,["speechConfig"],HJ(T)),void 0!==zG(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const O=zG(t,["thinkingConfig"]);null!=O&&VG(r,["thinkingConfig"],O);const I=zG(t,["imageConfig"]);null!=I&&VG(r,["imageConfig"],function(e){const t={},n=zG(e,["aspectRatio"]);null!=n&&VG(t,["aspectRatio"],n);const r=zG(e,["imageSize"]);null!=r&&VG(t,["imageSize"],r);if(void 0!==zG(e,["outputMimeType"]))throw new Error("outputMimeType parameter is not supported in Gemini API.");if(void 0!==zG(e,["outputCompressionQuality"]))throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}(I));const C=zG(t,["enableEnhancedCivicAnswers"]);return null!=C&&VG(r,["enableEnhancedCivicAnswers"],C),r}function nX(e,t,n){const r={},i=zG(t,["systemInstruction"]);void 0!==n&&null!=i&&VG(n,["systemInstruction"],FJ(i));const o=zG(t,["temperature"]);null!=o&&VG(r,["temperature"],o);const a=zG(t,["topP"]);null!=a&&VG(r,["topP"],a);const s=zG(t,["topK"]);null!=s&&VG(r,["topK"],s);const l=zG(t,["candidateCount"]);null!=l&&VG(r,["candidateCount"],l);const u=zG(t,["maxOutputTokens"]);null!=u&&VG(r,["maxOutputTokens"],u);const c=zG(t,["stopSequences"]);null!=c&&VG(r,["stopSequences"],c);const d=zG(t,["responseLogprobs"]);null!=d&&VG(r,["responseLogprobs"],d);const h=zG(t,["logprobs"]);null!=h&&VG(r,["logprobs"],h);const f=zG(t,["presencePenalty"]);null!=f&&VG(r,["presencePenalty"],f);const p=zG(t,["frequencyPenalty"]);null!=p&&VG(r,["frequencyPenalty"],p);const m=zG(t,["seed"]);null!=m&&VG(r,["seed"],m);const g=zG(t,["responseMimeType"]);null!=g&&VG(r,["responseMimeType"],g);const y=zG(t,["responseSchema"]);null!=y&&VG(r,["responseSchema"],BJ(y));const v=zG(t,["responseJsonSchema"]);null!=v&&VG(r,["responseJsonSchema"],v);const b=zG(t,["routingConfig"]);null!=b&&VG(r,["routingConfig"],b);const w=zG(t,["modelSelectionConfig"]);null!=w&&VG(r,["modelConfig"],w);const E=zG(t,["safetySettings"]);if(void 0!==n&&null!=E){let e=E;Array.isArray(e)&&(e=e.map(e=>e)),VG(n,["safetySettings"],e)}const S=zG(t,["tools"]);if(void 0!==n&&null!=S){let e=KJ(S);Array.isArray(e)&&(e=e.map(e=>AX(GJ(e)))),VG(n,["tools"],e)}const _=zG(t,["toolConfig"]);void 0!==n&&null!=_&&VG(n,["toolConfig"],_);const x=zG(t,["labels"]);void 0!==n&&null!=x&&VG(n,["labels"],x);const T=zG(t,["cachedContent"]);void 0!==n&&null!=T&&VG(n,["cachedContent"],WJ(e,T));const O=zG(t,["responseModalities"]);null!=O&&VG(r,["responseModalities"],O);const I=zG(t,["mediaResolution"]);null!=I&&VG(r,["mediaResolution"],I);const C=zG(t,["speechConfig"]);null!=C&&VG(r,["speechConfig"],HJ(C));const A=zG(t,["audioTimestamp"]);null!=A&&VG(r,["audioTimestamp"],A);const k=zG(t,["thinkingConfig"]);null!=k&&VG(r,["thinkingConfig"],k);const P=zG(t,["imageConfig"]);if(null!=P&&VG(r,["imageConfig"],function(e){const t={},n=zG(e,["aspectRatio"]);null!=n&&VG(t,["aspectRatio"],n);const r=zG(e,["imageSize"]);null!=r&&VG(t,["imageSize"],r);const i=zG(e,["outputMimeType"]);null!=i&&VG(t,["imageOutputOptions","mimeType"],i);const o=zG(e,["outputCompressionQuality"]);null!=o&&VG(t,["imageOutputOptions","compressionQuality"],o);return t}(P)),void 0!==zG(t,["enableEnhancedCivicAnswers"]))throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return r}function rX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>JY(e))),VG(n,["contents"],e)}const o=zG(t,["config"]);return null!=o&&VG(n,["generationConfig"],tX(e,o,n)),n}function iX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>e)),VG(n,["contents"],e)}const o=zG(t,["config"]);return null!=o&&VG(n,["generationConfig"],nX(e,o,n)),n}function oX(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>KY(e))),VG(t,["candidates"],e)}const i=zG(e,["modelVersion"]);null!=i&&VG(t,["modelVersion"],i);const o=zG(e,["promptFeedback"]);null!=o&&VG(t,["promptFeedback"],o);const a=zG(e,["responseId"]);null!=a&&VG(t,["responseId"],a);const s=zG(e,["usageMetadata"]);return null!=s&&VG(t,["usageMetadata"],s),t}function aX(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["candidates"],e)}const i=zG(e,["createTime"]);null!=i&&VG(t,["createTime"],i);const o=zG(e,["modelVersion"]);null!=o&&VG(t,["modelVersion"],o);const a=zG(e,["promptFeedback"]);null!=a&&VG(t,["promptFeedback"],a);const s=zG(e,["responseId"]);null!=s&&VG(t,["responseId"],s);const l=zG(e,["usageMetadata"]);return null!=l&&VG(t,["usageMetadata"],l),t}function sX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["prompt"]);null!=i&&VG(n,["instances[0]","prompt"],i);const o=zG(t,["config"]);return null!=o&&function(e,t){if(void 0!==zG(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==zG(e,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const n=zG(e,["numberOfImages"]);void 0!==t&&null!=n&&VG(t,["parameters","sampleCount"],n);const r=zG(e,["aspectRatio"]);void 0!==t&&null!=r&&VG(t,["parameters","aspectRatio"],r);const i=zG(e,["guidanceScale"]);if(void 0!==t&&null!=i&&VG(t,["parameters","guidanceScale"],i),void 0!==zG(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=zG(e,["safetyFilterLevel"]);void 0!==t&&null!=o&&VG(t,["parameters","safetySetting"],o);const a=zG(e,["personGeneration"]);void 0!==t&&null!=a&&VG(t,["parameters","personGeneration"],a);const s=zG(e,["includeSafetyAttributes"]);void 0!==t&&null!=s&&VG(t,["parameters","includeSafetyAttributes"],s);const l=zG(e,["includeRaiReason"]);void 0!==t&&null!=l&&VG(t,["parameters","includeRaiReason"],l);const u=zG(e,["language"]);void 0!==t&&null!=u&&VG(t,["parameters","language"],u);const c=zG(e,["outputMimeType"]);void 0!==t&&null!=c&&VG(t,["parameters","outputOptions","mimeType"],c);const d=zG(e,["outputCompressionQuality"]);if(void 0!==t&&null!=d&&VG(t,["parameters","outputOptions","compressionQuality"],d),void 0!==zG(e,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==zG(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const h=zG(e,["imageSize"]);if(void 0!==t&&null!=h&&VG(t,["parameters","sampleImageSize"],h),void 0!==zG(e,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.")}(o,n),n}function lX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["prompt"]);null!=i&&VG(n,["instances[0]","prompt"],i);const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["outputGcsUri"]);void 0!==t&&null!=n&&VG(t,["parameters","storageUri"],n);const r=zG(e,["negativePrompt"]);void 0!==t&&null!=r&&VG(t,["parameters","negativePrompt"],r);const i=zG(e,["numberOfImages"]);void 0!==t&&null!=i&&VG(t,["parameters","sampleCount"],i);const o=zG(e,["aspectRatio"]);void 0!==t&&null!=o&&VG(t,["parameters","aspectRatio"],o);const a=zG(e,["guidanceScale"]);void 0!==t&&null!=a&&VG(t,["parameters","guidanceScale"],a);const s=zG(e,["seed"]);void 0!==t&&null!=s&&VG(t,["parameters","seed"],s);const l=zG(e,["safetyFilterLevel"]);void 0!==t&&null!=l&&VG(t,["parameters","safetySetting"],l);const u=zG(e,["personGeneration"]);void 0!==t&&null!=u&&VG(t,["parameters","personGeneration"],u);const c=zG(e,["includeSafetyAttributes"]);void 0!==t&&null!=c&&VG(t,["parameters","includeSafetyAttributes"],c);const d=zG(e,["includeRaiReason"]);void 0!==t&&null!=d&&VG(t,["parameters","includeRaiReason"],d);const h=zG(e,["language"]);void 0!==t&&null!=h&&VG(t,["parameters","language"],h);const f=zG(e,["outputMimeType"]);void 0!==t&&null!=f&&VG(t,["parameters","outputOptions","mimeType"],f);const p=zG(e,["outputCompressionQuality"]);void 0!==t&&null!=p&&VG(t,["parameters","outputOptions","compressionQuality"],p);const m=zG(e,["addWatermark"]);void 0!==t&&null!=m&&VG(t,["parameters","addWatermark"],m);const g=zG(e,["labels"]);void 0!==t&&null!=g&&VG(t,["labels"],g);const y=zG(e,["imageSize"]);void 0!==t&&null!=y&&VG(t,["parameters","sampleImageSize"],y);const v=zG(e,["enhancePrompt"]);void 0!==t&&null!=v&&VG(t,["parameters","enhancePrompt"],v)}(o,n),n}function uX(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["_self"]);null!=n&&VG(t,["image"],function(e){const t={},n=zG(e,["bytesBase64Encoded"]);null!=n&&VG(t,["imageBytes"],YJ(n));const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(n));const r=zG(e,["raiFilteredReason"]);null!=r&&VG(t,["raiFilteredReason"],r);const i=zG(e,["_self"]);null!=i&&VG(t,["safetyAttributes"],TX(i));return t}(e))),VG(t,["generatedImages"],e)}const i=zG(e,["positivePromptSafetyAttributes"]);return null!=i&&VG(t,["positivePromptSafetyAttributes"],TX(i)),t}function cX(e,t){const n=zG(e,["numberOfVideos"]);if(void 0!==t&&null!=n&&VG(t,["parameters","sampleCount"],n),void 0!==zG(e,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==zG(e,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const r=zG(e,["durationSeconds"]);if(void 0!==t&&null!=r&&VG(t,["parameters","durationSeconds"],r),void 0!==zG(e,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=zG(e,["aspectRatio"]);void 0!==t&&null!=i&&VG(t,["parameters","aspectRatio"],i);const o=zG(e,["resolution"]);void 0!==t&&null!=o&&VG(t,["parameters","resolution"],o);const a=zG(e,["personGeneration"]);if(void 0!==t&&null!=a&&VG(t,["parameters","personGeneration"],a),void 0!==zG(e,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const s=zG(e,["negativePrompt"]);void 0!==t&&null!=s&&VG(t,["parameters","negativePrompt"],s);const l=zG(e,["enhancePrompt"]);if(void 0!==t&&null!=l&&VG(t,["parameters","enhancePrompt"],l),void 0!==zG(e,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");const u=zG(e,["lastFrame"]);void 0!==t&&null!=u&&VG(t,["instances[0]","lastFrame"],vX(u));const c=zG(e,["referenceImages"]);if(void 0!==t&&null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["image"]);null!=n&&VG(t,["image"],vX(n));const r=zG(e,["referenceType"]);null!=r&&VG(t,["referenceType"],r);return t}(e))),VG(t,["instances[0]","referenceImages"],e)}if(void 0!==zG(e,["mask"]))throw new Error("mask parameter is not supported in Gemini API.");if(void 0!==zG(e,["compressionQuality"]))throw new Error("compressionQuality parameter is not supported in Gemini API.");return{}}function dX(e,t){const n=zG(e,["numberOfVideos"]);void 0!==t&&null!=n&&VG(t,["parameters","sampleCount"],n);const r=zG(e,["outputGcsUri"]);void 0!==t&&null!=r&&VG(t,["parameters","storageUri"],r);const i=zG(e,["fps"]);void 0!==t&&null!=i&&VG(t,["parameters","fps"],i);const o=zG(e,["durationSeconds"]);void 0!==t&&null!=o&&VG(t,["parameters","durationSeconds"],o);const a=zG(e,["seed"]);void 0!==t&&null!=a&&VG(t,["parameters","seed"],a);const s=zG(e,["aspectRatio"]);void 0!==t&&null!=s&&VG(t,["parameters","aspectRatio"],s);const l=zG(e,["resolution"]);void 0!==t&&null!=l&&VG(t,["parameters","resolution"],l);const u=zG(e,["personGeneration"]);void 0!==t&&null!=u&&VG(t,["parameters","personGeneration"],u);const c=zG(e,["pubsubTopic"]);void 0!==t&&null!=c&&VG(t,["parameters","pubsubTopic"],c);const d=zG(e,["negativePrompt"]);void 0!==t&&null!=d&&VG(t,["parameters","negativePrompt"],d);const h=zG(e,["enhancePrompt"]);void 0!==t&&null!=h&&VG(t,["parameters","enhancePrompt"],h);const f=zG(e,["generateAudio"]);void 0!==t&&null!=f&&VG(t,["parameters","generateAudio"],f);const p=zG(e,["lastFrame"]);void 0!==t&&null!=p&&VG(t,["instances[0]","lastFrame"],bX(p));const m=zG(e,["referenceImages"]);if(void 0!==t&&null!=m){let e=m;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["image"]);null!=n&&VG(t,["image"],bX(n));const r=zG(e,["referenceType"]);null!=r&&VG(t,["referenceType"],r);return t}(e))),VG(t,["instances[0]","referenceImages"],e)}const g=zG(e,["mask"]);void 0!==t&&null!=g&&VG(t,["instances[0]","mask"],function(e){const t={},n=zG(e,["image"]);null!=n&&VG(t,["_self"],bX(n));const r=zG(e,["maskMode"]);null!=r&&VG(t,["maskMode"],r);return t}(g));const y=zG(e,["compressionQuality"]);return void 0!==t&&null!=y&&VG(t,["parameters","compressionQuality"],y),{}}function hX(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response","generateVideoResponse"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["generatedSamples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["video"]);null!=n&&VG(t,["video"],function(e){const t={},n=zG(e,["uri"]);null!=n&&VG(t,["uri"],n);const r=zG(e,["encodedVideo"]);null!=r&&VG(t,["videoBytes"],YJ(r));const i=zG(e,["encoding"]);null!=i&&VG(t,["mimeType"],i);return t}(n));return t}(e))),VG(t,["generatedVideos"],e)}const r=zG(e,["raiMediaFilteredCount"]);null!=r&&VG(t,["raiMediaFilteredCount"],r);const i=zG(e,["raiMediaFilteredReasons"]);null!=i&&VG(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function fX(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["videos"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["_self"]);null!=n&&VG(t,["video"],function(e){const t={},n=zG(e,["gcsUri"]);null!=n&&VG(t,["uri"],n);const r=zG(e,["bytesBase64Encoded"]);null!=r&&VG(t,["videoBytes"],YJ(r));const i=zG(e,["mimeType"]);null!=i&&VG(t,["mimeType"],i);return t}(n));return t}(e))),VG(t,["generatedVideos"],e)}const r=zG(e,["raiMediaFilteredCount"]);null!=r&&VG(t,["raiMediaFilteredCount"],r);const i=zG(e,["raiMediaFilteredReasons"]);null!=i&&VG(t,["raiMediaFilteredReasons"],i);return t}(a)),t}function pX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["prompt"]);null!=i&&VG(n,["instances[0]","prompt"],i);const o=zG(t,["image"]);null!=o&&VG(n,["instances[0]","image"],vX(o));const a=zG(t,["video"]);null!=a&&VG(n,["instances[0]","video"],RX(a));const s=zG(t,["source"]);null!=s&&function(e,t){const n={},r=zG(e,["prompt"]);void 0!==t&&null!=r&&VG(t,["instances[0]","prompt"],r);const i=zG(e,["image"]);void 0!==t&&null!=i&&VG(t,["instances[0]","image"],vX(i));const o=zG(e,["video"]);void 0!==t&&null!=o&&VG(t,["instances[0]","video"],RX(o))}(s,n);const l=zG(t,["config"]);return null!=l&&cX(l,n),n}function mX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["prompt"]);null!=i&&VG(n,["instances[0]","prompt"],i);const o=zG(t,["image"]);null!=o&&VG(n,["instances[0]","image"],bX(o));const a=zG(t,["video"]);null!=a&&VG(n,["instances[0]","video"],DX(a));const s=zG(t,["source"]);null!=s&&function(e,t){const n={},r=zG(e,["prompt"]);void 0!==t&&null!=r&&VG(t,["instances[0]","prompt"],r);const i=zG(e,["image"]);void 0!==t&&null!=i&&VG(t,["instances[0]","image"],bX(i));const o=zG(e,["video"]);void 0!==t&&null!=o&&VG(t,["instances[0]","video"],DX(o))}(s,n);const l=zG(t,["config"]);return null!=l&&dX(l,n),n}function gX(e){const t={},n=zG(e,["_self"]);null!=n&&VG(t,["image"],yX(n));const r=zG(e,["raiFilteredReason"]);null!=r&&VG(t,["raiFilteredReason"],r);const i=zG(e,["_self"]);null!=i&&VG(t,["safetyAttributes"],OX(i));const o=zG(e,["prompt"]);return null!=o&&VG(t,["enhancedPrompt"],o),t}function yX(e){const t={},n=zG(e,["gcsUri"]);null!=n&&VG(t,["gcsUri"],n);const r=zG(e,["bytesBase64Encoded"]);null!=r&&VG(t,["imageBytes"],YJ(r));const i=zG(e,["mimeType"]);return null!=i&&VG(t,["mimeType"],i),t}function vX(e){const t={};if(void 0!==zG(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const n=zG(e,["imageBytes"]);null!=n&&VG(t,["bytesBase64Encoded"],YJ(n));const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}function bX(e){const t={},n=zG(e,["gcsUri"]);null!=n&&VG(t,["gcsUri"],n);const r=zG(e,["imageBytes"]);null!=r&&VG(t,["bytesBase64Encoded"],YJ(r));const i=zG(e,["mimeType"]);return null!=i&&VG(t,["mimeType"],i),t}function wX(e,t){const n={},r=zG(t,["config"]);return null!=r&&function(e,t,n){const r=zG(t,["pageSize"]);void 0!==n&&null!=r&&VG(n,["_query","pageSize"],r);const i=zG(t,["pageToken"]);void 0!==n&&null!=i&&VG(n,["_query","pageToken"],i);const o=zG(t,["filter"]);void 0!==n&&null!=o&&VG(n,["_query","filter"],o);const a=zG(t,["queryBase"]);void 0!==n&&null!=a&&VG(n,["_url","models_url"],QJ(e,a))}(e,r,n),n}function EX(e,t){const n={},r=zG(t,["config"]);return null!=r&&function(e,t,n){const r=zG(t,["pageSize"]);void 0!==n&&null!=r&&VG(n,["_query","pageSize"],r);const i=zG(t,["pageToken"]);void 0!==n&&null!=i&&VG(n,["_query","pageToken"],i);const o=zG(t,["filter"]);void 0!==n&&null!=o&&VG(n,["_query","filter"],o);const a=zG(t,["queryBase"]);void 0!==n&&null!=a&&VG(n,["_url","models_url"],QJ(e,a))}(e,r,n),n}function SX(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["displayName"]);null!=r&&VG(t,["displayName"],r);const i=zG(e,["description"]);null!=i&&VG(t,["description"],i);const o=zG(e,["version"]);null!=o&&VG(t,["version"],o);const a=zG(e,["_self"]);null!=a&&VG(t,["tunedModelInfo"],function(e){const t={},n=zG(e,["baseModel"]);null!=n&&VG(t,["baseModel"],n);const r=zG(e,["createTime"]);null!=r&&VG(t,["createTime"],r);const i=zG(e,["updateTime"]);null!=i&&VG(t,["updateTime"],i);return t}(a));const s=zG(e,["inputTokenLimit"]);null!=s&&VG(t,["inputTokenLimit"],s);const l=zG(e,["outputTokenLimit"]);null!=l&&VG(t,["outputTokenLimit"],l);const u=zG(e,["supportedGenerationMethods"]);null!=u&&VG(t,["supportedActions"],u);const c=zG(e,["temperature"]);null!=c&&VG(t,["temperature"],c);const d=zG(e,["maxTemperature"]);null!=d&&VG(t,["maxTemperature"],d);const h=zG(e,["topP"]);null!=h&&VG(t,["topP"],h);const f=zG(e,["topK"]);null!=f&&VG(t,["topK"],f);const p=zG(e,["thinking"]);return null!=p&&VG(t,["thinking"],p),t}function _X(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["displayName"]);null!=r&&VG(t,["displayName"],r);const i=zG(e,["description"]);null!=i&&VG(t,["description"],i);const o=zG(e,["versionId"]);null!=o&&VG(t,["version"],o);const a=zG(e,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["endpoint"]);null!=n&&VG(t,["name"],n);const r=zG(e,["deployedModelId"]);return null!=r&&VG(t,["deployedModelId"],r),t}(e))),VG(t,["endpoints"],e)}const s=zG(e,["labels"]);null!=s&&VG(t,["labels"],s);const l=zG(e,["_self"]);null!=l&&VG(t,["tunedModelInfo"],function(e){const t={},n=zG(e,["labels","google-vertex-llm-tuning-base-model-id"]);null!=n&&VG(t,["baseModel"],n);const r=zG(e,["createTime"]);null!=r&&VG(t,["createTime"],r);const i=zG(e,["updateTime"]);null!=i&&VG(t,["updateTime"],i);return t}(l));const u=zG(e,["defaultCheckpointId"]);null!=u&&VG(t,["defaultCheckpointId"],u);const c=zG(e,["checkpoints"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["checkpoints"],e)}return t}function xX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["source"]);null!=i&&function(e,t){const n={},r=zG(e,["prompt"]);void 0!==t&&null!=r&&VG(t,["instances[0]","prompt"],r);const i=zG(e,["personImage"]);void 0!==t&&null!=i&&VG(t,["instances[0]","personImage","image"],bX(i));const o=zG(e,["productImages"]);if(void 0!==t&&null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["productImage"]);return null!=n&&VG(t,["image"],bX(n)),t}(e))),VG(t,["instances[0]","productImages"],e)}}(i,n);const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["numberOfImages"]);void 0!==t&&null!=n&&VG(t,["parameters","sampleCount"],n);const r=zG(e,["baseSteps"]);void 0!==t&&null!=r&&VG(t,["parameters","baseSteps"],r);const i=zG(e,["outputGcsUri"]);void 0!==t&&null!=i&&VG(t,["parameters","storageUri"],i);const o=zG(e,["seed"]);void 0!==t&&null!=o&&VG(t,["parameters","seed"],o);const a=zG(e,["safetyFilterLevel"]);void 0!==t&&null!=a&&VG(t,["parameters","safetySetting"],a);const s=zG(e,["personGeneration"]);void 0!==t&&null!=s&&VG(t,["parameters","personGeneration"],s);const l=zG(e,["addWatermark"]);void 0!==t&&null!=l&&VG(t,["parameters","addWatermark"],l);const u=zG(e,["outputMimeType"]);void 0!==t&&null!=u&&VG(t,["parameters","outputOptions","mimeType"],u);const c=zG(e,["outputCompressionQuality"]);void 0!==t&&null!=c&&VG(t,["parameters","outputOptions","compressionQuality"],c);const d=zG(e,["enhancePrompt"]);void 0!==t&&null!=d&&VG(t,["parameters","enhancePrompt"],d);const h=zG(e,["labels"]);void 0!==t&&null!=h&&VG(t,["labels"],h)}(o,n),n}function TX(e){const t={},n=zG(e,["safetyAttributes","categories"]);null!=n&&VG(t,["categories"],n);const r=zG(e,["safetyAttributes","scores"]);null!=r&&VG(t,["scores"],r);const i=zG(e,["contentType"]);return null!=i&&VG(t,["contentType"],i),t}function OX(e){const t={},n=zG(e,["safetyAttributes","categories"]);null!=n&&VG(t,["categories"],n);const r=zG(e,["safetyAttributes","scores"]);null!=r&&VG(t,["scores"],r);const i=zG(e,["contentType"]);return null!=i&&VG(t,["contentType"],i),t}function IX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["source"]);null!=i&&function(e,t){const n={},r=zG(e,["prompt"]);void 0!==t&&null!=r&&VG(t,["instances[0]","prompt"],r);const i=zG(e,["image"]);void 0!==t&&null!=i&&VG(t,["instances[0]","image"],bX(i));const o=zG(e,["scribbleImage"]);void 0!==t&&null!=o&&VG(t,["instances[0]","scribble"],function(e){const t={},n=zG(e,["image"]);return null!=n&&VG(t,["image"],bX(n)),t}(o))}(i,n);const o=zG(t,["config"]);return null!=o&&function(e,t){const n=zG(e,["mode"]);void 0!==t&&null!=n&&VG(t,["parameters","mode"],n);const r=zG(e,["maxPredictions"]);void 0!==t&&null!=r&&VG(t,["parameters","maxPredictions"],r);const i=zG(e,["confidenceThreshold"]);void 0!==t&&null!=i&&VG(t,["parameters","confidenceThreshold"],i);const o=zG(e,["maskDilation"]);void 0!==t&&null!=o&&VG(t,["parameters","maskDilation"],o);const a=zG(e,["binaryColorThreshold"]);void 0!==t&&null!=a&&VG(t,["parameters","binaryColorThreshold"],a);const s=zG(e,["labels"]);void 0!==t&&null!=s&&VG(t,["labels"],s)}(o,n),n}function CX(e){const t={},n=zG(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["_self"]);null!=n&&VG(t,["mask"],yX(n));const r=zG(e,["labels"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["labels"],e)}return t}(e))),VG(t,["generatedMasks"],e)}return t}function AX(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={};if(void 0!==zG(e,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const n=zG(e,["description"]);null!=n&&VG(t,["description"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["parameters"]);null!=i&&VG(t,["parameters"],i);const o=zG(e,["parametersJsonSchema"]);null!=o&&VG(t,["parametersJsonSchema"],o);const a=zG(e,["response"]);null!=a&&VG(t,["response"],a);const s=zG(e,["responseJsonSchema"]);return null!=s&&VG(t,["responseJsonSchema"],s),t}(e))),VG(t,["functionDeclarations"],e)}const r=zG(e,["retrieval"]);null!=r&&VG(t,["retrieval"],r);const i=zG(e,["googleSearchRetrieval"]);null!=i&&VG(t,["googleSearchRetrieval"],i);const o=zG(e,["computerUse"]);if(null!=o&&VG(t,["computerUse"],o),void 0!==zG(e,["fileSearch"]))throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);const s=zG(e,["enterpriseWebSearch"]);null!=s&&VG(t,["enterpriseWebSearch"],s);const l=zG(e,["googleMaps"]);null!=l&&VG(t,["googleMaps"],l);const u=zG(e,["googleSearch"]);null!=u&&VG(t,["googleSearch"],u);const c=zG(e,["urlContext"]);return null!=c&&VG(t,["urlContext"],c),t}function kX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","name"],CJ(e,r));const i=zG(t,["config"]);return null!=i&&function(e,t){const n=zG(e,["displayName"]);void 0!==t&&null!=n&&VG(t,["displayName"],n);const r=zG(e,["description"]);void 0!==t&&null!=r&&VG(t,["description"],r);const i=zG(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&VG(t,["defaultCheckpointId"],i)}(i,n),n}function PX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["config"]);return null!=i&&function(e,t){const n=zG(e,["displayName"]);void 0!==t&&null!=n&&VG(t,["displayName"],n);const r=zG(e,["description"]);void 0!==t&&null!=r&&VG(t,["description"],r);const i=zG(e,["defaultCheckpointId"]);void 0!==t&&null!=i&&VG(t,["defaultCheckpointId"],i)}(i,n),n}function NX(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["image"]);null!=i&&VG(n,["instances[0]","image"],bX(i));const o=zG(t,["upscaleFactor"]);null!=o&&VG(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=zG(t,["config"]);return null!=a&&function(e,t){const n=zG(e,["outputGcsUri"]);void 0!==t&&null!=n&&VG(t,["parameters","storageUri"],n);const r=zG(e,["safetyFilterLevel"]);void 0!==t&&null!=r&&VG(t,["parameters","safetySetting"],r);const i=zG(e,["personGeneration"]);void 0!==t&&null!=i&&VG(t,["parameters","personGeneration"],i);const o=zG(e,["includeRaiReason"]);void 0!==t&&null!=o&&VG(t,["parameters","includeRaiReason"],o);const a=zG(e,["outputMimeType"]);void 0!==t&&null!=a&&VG(t,["parameters","outputOptions","mimeType"],a);const s=zG(e,["outputCompressionQuality"]);void 0!==t&&null!=s&&VG(t,["parameters","outputOptions","compressionQuality"],s);const l=zG(e,["enhanceInputImage"]);void 0!==t&&null!=l&&VG(t,["parameters","upscaleConfig","enhanceInputImage"],l);const u=zG(e,["imagePreservationFactor"]);void 0!==t&&null!=u&&VG(t,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=zG(e,["labels"]);void 0!==t&&null!=c&&VG(t,["labels"],c);const d=zG(e,["numberOfImages"]);void 0!==t&&null!=d&&VG(t,["parameters","sampleCount"],d);const h=zG(e,["mode"]);void 0!==t&&null!=h&&VG(t,["parameters","mode"],h)}(a,n),n}function RX(e){const t={},n=zG(e,["uri"]);null!=n&&VG(t,["uri"],n);const r=zG(e,["videoBytes"]);null!=r&&VG(t,["encodedVideo"],YJ(r));const i=zG(e,["mimeType"]);return null!=i&&VG(t,["encoding"],i),t}function DX(e){const t={},n=zG(e,["uri"]);null!=n&&VG(t,["gcsUri"],n);const r=zG(e,["videoBytes"]);null!=r&&VG(t,["bytesBase64Encoded"],YJ(r));const i=zG(e,["mimeType"]);return null!=i&&VG(t,["mimeType"],i),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MX(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["displayName"]);void 0!==t&&null!=n&&VG(t,["displayName"],n)}(n,t),t}function jX(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["_url","name"],n);const r=zG(e,["config"]);return null!=r&&function(e,t){const n=zG(e,["force"]);void 0!==t&&null!=n&&VG(t,["_query","force"],n)}(r,t),t}function LX(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["name"],n);const r=zG(e,["metadata"]);null!=r&&VG(t,["metadata"],r);const i=zG(e,["done"]);null!=i&&VG(t,["done"],i);const o=zG(e,["error"]);null!=o&&VG(t,["error"],o);const a=zG(e,["response"]);return null!=a&&VG(t,["response"],function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["parent"]);null!=r&&VG(t,["parent"],r);const i=zG(e,["documentName"]);null!=i&&VG(t,["documentName"],i);return t}(a)),t}function UX(e){const t={},n=zG(e,["fileSearchStoreName"]);null!=n&&VG(t,["_url","file_search_store_name"],n);const r=zG(e,["fileName"]);null!=r&&VG(t,["fileName"],r);const i=zG(e,["config"]);return null!=i&&function(e,t){const n=zG(e,["customMetadata"]);if(void 0!==t&&null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["customMetadata"],e)}const r=zG(e,["chunkingConfig"]);void 0!==t&&null!=r&&VG(t,["chunkingConfig"],r)}(i,t),t}function FX(e){const t={},n=zG(e,["config"]);return null!=n&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r)}(n,t),t}function VX(e,t){const n=zG(e,["mimeType"]);void 0!==t&&null!=n&&VG(t,["mimeType"],n);const r=zG(e,["displayName"]);void 0!==t&&null!=r&&VG(t,["displayName"],r);const i=zG(e,["customMetadata"]);if(void 0!==t&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["customMetadata"],e)}const o=zG(e,["chunkingConfig"]);return void 0!==t&&null!=o&&VG(t,["chunkingConfig"],o),{}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const zX="x-goog-api-client";class qX{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[o,a]of Object.entries(e.queryParams))r.searchParams.append(o,String(a));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,i]of Object.entries(t))"object"==typeof i?n[r]=Object.assign(Object.assign({},n[r]),i):void 0!==i&&(n[r]=i);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n,r){if(t&&t.timeout||r){const n=new AbortController,i=n.signal;if(t.timeout&&(null==t?void 0:t.timeout)>0){const e=setTimeout(()=>n.abort(),t.timeout);e&&"function"==typeof e.unref&&e.unref()}r&&r.addEventListener("abort",()=>{n.abort()}),e.signal=i}return t&&null!==t.extraBody&&function(e,t){if(!t||0===Object.keys(t).length)return;if(e.body instanceof Blob)return;let n={};if("string"==typeof e.body&&e.body.length>0)try{const t=JSON.parse(e.body);if("object"!=typeof t||null===t||Array.isArray(t))return;n=t}catch(eF){return}function r(e,t){const n=Object.assign({},e);for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const e=t[i],o=n[i];e&&"object"==typeof e&&!Array.isArray(e)&&o&&"object"==typeof o&&!Array.isArray(o)?n[i]=r(o,e):n[i]=e}return n}const i=r(n,t);e.body=JSON.stringify(i)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,t.extraBody),e.headers=await this.getHeadersInternal(t,n),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await BX(e),new eJ(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await BX(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){return kY(this,arguments,function*(){var t;const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";const i="data:",o=["\n\n","\r\r","\r\n\r\n"];for(;;){const{done:a,value:s}=yield AY(n.read());if(a){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const l=r.decode(s,{stream:!0});try{const e=JSON.parse(l);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<600){throw new LY({message:i,status:r})}}}catch(eF){if("ApiError"===eF.name)throw eF}t+=l;let u=-1,c=0;for(;;){u=-1,c=0;for(const e of o){const n=t.indexOf(e);-1!==n&&(-1===u||n<u)&&(u=n,c=e.length)}if(-1===u)break;const n=t.substring(0,u);t=t.substring(u+c);const r=n.trim();if(r.startsWith(i)){const t=r.substring(i.length).trim();try{const n=new Response(t,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield AY(new eJ(n))}catch(eF){throw new Error(`exception parsing stream chunk ${t}. ${eF}`)}}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.34.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[zX]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e,t){const n=new Headers;if(e&&e.headers){for(const[t,r]of Object.entries(e.headers))n.append(t,r);e.timeout&&e.timeout>0&&n.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n,t),n}getFileName(e){var t;let n="";return"string"==typeof e&&(n=e.replace(/[/\\]+$/,""),n=null!==(t=n.split(/[/\\]/).pop())&&void 0!==t?t:""),n}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);r.sizeBytes=String(o.size);const a=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:o.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const s={file:r},l=this.getFileName(e),u=FG("upload/v1beta/files",s._url),c=await this.fetchUploadUrl(u,r.sizeBytes,r.mimeType,l,s,null==t?void 0:t.httpOptions);return i.upload(e,c,this)}async uploadFileToFileSearchStore(e,t,n){var r;const i=this.clientOptions.uploader,o=await i.stat(t),a=String(o.size),s=null!==(r=null==n?void 0:n.mimeType)&&void 0!==r?r:o.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const l=`upload/v1beta/${e}:uploadToFileSearchStore`,u=this.getFileName(t),c={};null!=n&&VX(n,c);const d=await this.fetchUploadUrl(l,a,s,u,c,null==n?void 0:n.httpOptions);return i.uploadToFileSearchStore(t,d,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t,n,r,i,o){var a;let s={};s=o||{apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${n}`},r?{"X-Goog-Upload-File-Name":r}:{})};const l=await this.request({path:e,body:JSON.stringify(i),httpMethod:"POST",httpOptions:s});if(!l||!(null==l?void 0:l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=null===(a=null==l?void 0:l.headers)||void 0===a?void 0:a["x-goog-upload-url"];if(void 0===u)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function BX(e){var t;if(void 0===e)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;r=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const i=JSON.stringify(r);if(n>=400&&n<600){throw new LY({message:i,status:n})}throw new Error(i)}}function HX(e){for(const t of e){if(GX(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return false}function $X(e){var t;const n=null!==(t=e[zX])&&void 0!==t?t:"";e[zX]=(n+" mcp_used/unknown").trimStart()}function GX(e){return null!==e&&"object"==typeof e&&e instanceof WX}function KX(e){return kY(this,arguments,function*(e,t=100){let n,r=0;for(;r<t;){const t=yield AY(e.listTools({cursor:n}));for(const e of t.tools)yield yield AY(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class WX{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new WX(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const i={},o=[];for(const c of this.mcpClients)try{for(var a,s=!0,l=(t=void 0,PY(KX(c)));!(e=(a=await l.next()).done);s=!0){r=a.value,s=!1;const e=r;o.push(e);const t=e.name;if(i[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=c}}catch(u){t={error:u}}finally{try{s||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const i of e){const e=i.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const o=tY(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const i=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JX{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(this.apiClient.getDefaultHeaders()),a=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let s=()=>{};const l=new Promise(e=>{s=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const r=new OJ;let i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),Object.assign(r,i),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(a,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(o),c);d.connect(),await l;const h={setup:{model:CJ(this.apiClient,e.model)}};return d.send(JSON.stringify(h)),new YX(d,this.apiClient)}}class YX{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e){const t={},n=zG(e,["weightedPrompts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["weightedPrompts"],e)}return t}(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e){const t={},n=zG(e,["musicGenerationConfig"]);return null!=n&&VG(t,["musicGenerationConfig"],n),t}(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(YW.PLAY)}pause(){this.sendPlaybackControl(YW.PAUSE)}stop(){this.sendPlaybackControl(YW.STOP)}resetContext(){this.sendPlaybackControl(YW.RESET_CONTEXT)}close(){this.conn.close()}}class XX{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new JX(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,i,o,a;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getHeaders();e.config&&e.config.tools&&HX(e.config.tools)&&$X(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(c);if(this.apiClient.isVertexAI())u=`${s}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d,u);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(t="BidiGenerateContentConstrained",n="access_token"),u=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.${t}?${n}=${e}`}let h=()=>{};const f=new Promise(e=>{h=e}),p=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==p?void 0:p.onopen)||void 0===e||e.call(p),h({})},onmessage:e=>{!async function(e,t,n){const r=new TJ;let i;i=n.data instanceof Blob?await n.data.text():n.data instanceof ArrayBuffer?(new TextDecoder).decode(n.data):n.data;const o=JSON.parse(i);if(e.isVertexAI()){const e=GY(o);Object.assign(r,e)}else{const e=o;Object.assign(r,e)}t(r)}(m,p.onmessage,e)},onerror:null!==(t=null==p?void 0:p.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==p?void 0:p.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);y.connect(),await f;let v=CJ(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[NK.AUDIO]}:e.config.responseModalities=[NK.AUDIO]),null===(i=e.config)||void 0===i||i.generationConfig;const w=null!==(a=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==a?a:[],E=[];for(const _ of w)if(this.isCallableTool(_)){const e=_;E.push(await e.tool())}else E.push(_);E.length>0&&(e.config.tools=E);const S={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["setup","model"],CJ(e,r));const i=zG(t,["config"]);return null!=i&&VG(n,["config"],BY(i,n)),n}(this.apiClient,S):function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["setup","model"],CJ(e,r));const i=zG(t,["config"]);return null!=i&&VG(n,["config"],qY(i,n)),n}(this.apiClient,S),delete b.config,y.send(JSON.stringify(b)),new ZX(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const QX={turnComplete:!0};class ZX{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let r=[];try{r=zJ(t.turns),e.isVertexAI()||(r=r.map(e=>JY(e)))}catch(n){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!=typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},QX),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:$Y(e)}:{realtimeInput:HY(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function eQ(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let i=!1;for(const a of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(tQ(a)){i=!0;break}if(!i)return!0;const o=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(o&&(o<0||!Number.isInteger(o))||0==o)}function tQ(e){return"callTool"in e&&"function"==typeof e.callTool}function nQ(e){var t;const n=[];return(null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.tools)?(e.config.tools.forEach((e,t)=>{if(tQ(e))return;const r=e;r.functionDeclarations&&r.functionDeclarations.length>0&&n.push(t)}),n):n}function rQ(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iQ extends UG{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,i,o;const a=await this.processParamsMaybeAddMcpUsage(e);if(this.maybeMoveToResponseJsonSchem(e),!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>tQ(e)))&&void 0!==r&&r}(e)||eQ(e.config))return await this.generateContentInternal(a);const s=nQ(e);if(s.length>0){const e=s.map(e=>`tools[${e}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${e}.`)}let l,u;const c=zJ(a.contents),d=null!==(r=null===(n=null===(t=a.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let h=0;for(;h<d&&(l=await this.generateContentInternal(a),l.functionCalls&&0!==l.functionCalls.length);){const t=l.candidates[0].content,n=[];for(const r of null!==(o=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==o?o:[])if(tQ(r)){const e=r,t=await e.callTool(l.functionCalls);n.push(...t)}h++,u={role:"user",parts:n},a.contents=zJ(a.contents),a.contents.push(t),a.contents.push(u),rQ(a.config)&&(c.push(t),c.push(u))}return rQ(a.config)&&(l.automaticFunctionCallingHistory=c),l},this.generateContentStream=async e=>{var t,n,r,i,o;if(this.maybeMoveToResponseJsonSchem(e),eQ(e.config)){const t=await this.processParamsMaybeAddMcpUsage(e);return await this.generateContentStreamInternal(t)}const a=nQ(e);if(a.length>0){const e=a.map(e=>`tools[${e}]`).join(", ");throw new Error(`Incompatible tools found at ${e}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const s=null===(r=null===(n=null===(t=null==e?void 0:e.config)||void 0===t?void 0:t.toolConfig)||void 0===n?void 0:n.functionCallingConfig)||void 0===r?void 0:r.streamFunctionCallArguments,l=null===(o=null===(i=null==e?void 0:e.config)||void 0===i?void 0:i.automaticFunctionCalling)||void 0===o?void 0:o.disable;if(s&&!l)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const o of e.generatedImages)o&&(null==o?void 0:o.safetyAttributes)&&"Positive Prompt"===(null===(t=null==o?void 0:o.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==o?void 0:o.safetyAttributes:r.push(o);let i;return i=n?{generatedImages:r,positivePromptSafetyAttributes:n,sdkHttpResponse:e.sdkHttpResponse}:{generatedImages:r,sdkHttpResponse:e.sdkHttpResponse},i}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new yY(QW.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)},this.generateVideos=async e=>{var t,n,r,i,o,a;if((e.prompt||e.image||e.video)&&e.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||((null===(t=e.video)||void 0===t?void 0:t.uri)&&(null===(n=e.video)||void 0===n?void 0:n.videoBytes)?e.video={uri:e.video.uri,mimeType:e.video.mimeType}:(null===(i=null===(r=e.source)||void 0===r?void 0:r.video)||void 0===i?void 0:i.uri)&&(null===(a=null===(o=e.source)||void 0===o?void 0:o.video)||void 0===a?void 0:a.videoBytes)&&(e.source.video={uri:e.source.video.uri,mimeType:e.source.video.mimeType})),await this.generateVideosInternal(e)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,n,r;const i=null===(t=e.config)||void 0===t?void 0:t.tools;if(!i)return e;const o=await Promise.all(i.map(async e=>{if(tQ(e)){const t=e;return await t.tool()}return e})),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&HX(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let i=Object.assign({},t);0===Object.keys(i).length&&(i=this.apiClient.getDefaultHeaders()),$X(i),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:i})}return a}async initAfcToolsMap(e){var t,n,r;const i=new Map;for(const o of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(tQ(o)){const e=o,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(i.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);i.set(n.name,e)}}return i}async processAfcStream(e){var t,n,r;const i=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let o=!1,a=0;return function(e,t,n){return kY(this,arguments,function*(){for(var r,s,l,u,c,d;a<i;){o&&(a++,o=!1);const g=yield AY(e.processParamsMaybeAddMcpUsage(n)),y=yield AY(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var h,f=!0,p=(s=void 0,PY(y));!(r=(h=yield AY(p.next())).done);f=!0){u=h.value,f=!1;const e=u;if(yield yield AY(e),e.candidates&&(null===(c=e.candidates[0])||void 0===c?void 0:c.content)){b.push(e.candidates[0].content);for(const n of null!==(d=e.candidates[0].content.parts)&&void 0!==d?d:[])if(a<i&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield AY(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){s={error:m}}finally{try{f||r||!(l=p.return)||(yield AY(l.call(p)))}finally{if(s)throw s.error}}if(!(v.length>0))break;{o=!0;const e=new tJ;e.candidates=[{content:{role:"user",parts:v}}],yield yield AY(e);const t=[];t.push(...b),t.push({role:"user",parts:v});const r=zJ(n.contents).concat(t);n.contents=r}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=iX(this.apiClient,e);return a=FG("{model}:generateContent",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=aX(e),n=new tJ;return Object.assign(n,t),n})}{const t=rX(this.apiClient,e);return a=FG("{model}:generateContent",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=oX(e),n=new tJ;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=iX(this.apiClient,e);a=FG("{model}:streamGenerateContent?alt=sse",r._url),s=r._query,delete r._url,delete r._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),o.then(function(e){return kY(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=PY(e);!(t=(o=yield AY(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=aX(yield AY(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new tJ;Object.assign(n,t),yield yield AY(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield AY(r.call(s)))}finally{if(n)throw n.error}}})})}{const t=rX(this.apiClient,e);a=FG("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t._url,delete t._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}),o.then(function(e){return kY(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=PY(e);!(t=(o=yield AY(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=oX(yield AY(e.json()));t.sdkHttpResponse={headers:e.headers};const n=new tJ;Object.assign(n,t),yield yield AY(n)}}catch(l){n={error:l}}finally{try{a||t||!(r=s.return)||(yield AY(r.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=eX(this.apiClient,e);return a=FG("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>WY(e))),VG(t,["embeddings"],e)}const i=zG(e,["metadata"]);return null!=i&&VG(t,["metadata"],i),t}(e),n=new nJ;return Object.assign(n,t),n})}{const t=ZY(this.apiClient,e);return a=FG("{model}:batchEmbedContents",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["embeddings"],e)}const i=zG(e,["metadata"]);return null!=i&&VG(t,["metadata"],i),t}(e),n=new nJ;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=lX(this.apiClient,e);return a=FG("{model}:predict",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>gX(e))),VG(t,["generatedImages"],e)}const i=zG(e,["positivePromptSafetyAttributes"]);return null!=i&&VG(t,["positivePromptSafetyAttributes"],OX(i)),t}(e),n=new rJ;return Object.assign(n,t),n})}{const t=sX(this.apiClient,e);return a=FG("{model}:predict",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=uX(e),n=new rJ;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=QY(this.apiClient,e);return i=FG("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>gX(e))),VG(t,["generatedImages"],e)}return t}(e),n=new iJ;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=NX(this.apiClient,e);return i=FG("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>gX(e))),VG(t,["generatedImages"],e)}return t}(e),n=new oJ;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=xX(this.apiClient,e);return i=FG("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zG(e,["predictions"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>gX(e))),VG(t,["generatedImages"],e)}return t}(e),n=new aJ;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=IX(this.apiClient,e);return i=FG("{model}:predict",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=CX(e),n=new sJ;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["model"]);return null!=r&&VG(n,["_url","name"],CJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>_X(e))}{const t=function(e,t){const n={},r=zG(t,["model"]);return null!=r&&VG(n,["_url","name"],CJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>SX(e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=EX(this.apiClient,e);return a=FG("{models_url}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["_self"]);if(null!=i){let e=ZJ(i);Array.isArray(e)&&(e=e.map(e=>_X(e))),VG(t,["models"],e)}return t}(e),n=new lJ;return Object.assign(n,t),n})}{const t=wX(this.apiClient,e);return a=FG("{models_url}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["_self"]);if(null!=i){let e=ZJ(i);Array.isArray(e)&&(e=e.map(e=>SX(e))),VG(t,["models"],e)}return t}(e),n=new lJ;return Object.assign(n,t),n})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=PX(this.apiClient,e);return a=FG("{model}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>_X(e))}{const t=kX(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>SX(e))}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["model"]);return null!=r&&VG(n,["_url","name"],CJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new uJ;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=zG(t,["model"]);return null!=r&&VG(n,["_url","name"],CJ(e,r)),n}(this.apiClient,e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new uJ;return Object.assign(n,t),n})}}async countTokens(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>e)),VG(n,["contents"],e)}const o=zG(t,["config"]);return null!=o&&YY(o,n),n}(this.apiClient,e);return a=FG("{model}:countTokens",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["totalTokens"]);return null!=r&&VG(t,["totalTokens"],r),t}(e),n=new cJ;return Object.assign(n,t),n})}{const t=XY(this.apiClient,e);return a=FG("{model}:countTokens",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["totalTokens"]);null!=r&&VG(t,["totalTokens"],r);const i=zG(e,["cachedContentTokenCount"]);return null!=i&&VG(t,["cachedContentTokenCount"],i),t}(e),n=new cJ;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["_url","model"],CJ(e,r));const i=zG(t,["contents"]);if(null!=i){let e=zJ(i);Array.isArray(e)&&(e=e.map(e=>e)),VG(n,["contents"],e)}return n}(this.apiClient,e);return i=FG("{model}:computeTokens",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["tokensInfo"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["tokensInfo"],e)}return t}(e),n=new dJ;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=mX(this.apiClient,e);return a=FG("{model}:predictLongRunning",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=fX(e),n=new hJ;return Object.assign(n,t),n})}{const t=pX(this.apiClient,e);return a=FG("{model}:predictLongRunning",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=hX(e),n=new hJ;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oQ extends UG{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async get(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;n&&"httpOptions"in n&&(r=n.httpOptions);const i=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!0})}{const e=await this.getVideosOperationInternal({operationName:t.name,config:n});return t._fromAPIResponse({apiResponse:e,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=zG(e,["operationName"]);return null!=n&&VG(t,["_url","operationName"],n),t}(e);return a=FG("{operationName}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o}{const t=function(e){const t={},n=zG(e,["operationName"]);return null!=n&&VG(t,["_url","operationName"],n),t}(e);return a=FG("{operationName}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o}}async fetchPredictVideosOperationInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e){const t={},n=zG(e,["operationName"]);null!=n&&VG(t,["operationName"],n);const r=zG(e,["resourceName"]);return null!=r&&VG(t,["_url","resourceName"],r),t}(e);return i=FG("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r}throw new Error("This method is only supported by the Vertex AI.")}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aQ(e){const t={},n=zG(e,["parts"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["mediaResolution"]);null!=n&&VG(t,["mediaResolution"],n);const r=zG(e,["codeExecutionResult"]);null!=r&&VG(t,["codeExecutionResult"],r);const i=zG(e,["executableCode"]);null!=i&&VG(t,["executableCode"],i);const o=zG(e,["fileData"]);null!=o&&VG(t,["fileData"],function(e){const t={};if(void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const n=zG(e,["fileUri"]);null!=n&&VG(t,["fileUri"],n);const r=zG(e,["mimeType"]);null!=r&&VG(t,["mimeType"],r);return t}(o));const a=zG(e,["functionCall"]);null!=a&&VG(t,["functionCall"],function(e){const t={},n=zG(e,["id"]);null!=n&&VG(t,["id"],n);const r=zG(e,["args"]);null!=r&&VG(t,["args"],r);const i=zG(e,["name"]);null!=i&&VG(t,["name"],i);if(void 0!==zG(e,["partialArgs"]))throw new Error("partialArgs parameter is not supported in Gemini API.");if(void 0!==zG(e,["willContinue"]))throw new Error("willContinue parameter is not supported in Gemini API.");return t}(a));const s=zG(e,["functionResponse"]);null!=s&&VG(t,["functionResponse"],s);const l=zG(e,["inlineData"]);null!=l&&VG(t,["inlineData"],function(e){const t={},n=zG(e,["data"]);if(null!=n&&VG(t,["data"],n),void 0!==zG(e,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=zG(e,["mimeType"]);return null!=r&&VG(t,["mimeType"],r),t}(l));const u=zG(e,["text"]);null!=u&&VG(t,["text"],u);const c=zG(e,["thought"]);null!=c&&VG(t,["thought"],c);const d=zG(e,["thoughtSignature"]);null!=d&&VG(t,["thoughtSignature"],d);const h=zG(e,["videoMetadata"]);null!=h&&VG(t,["videoMetadata"],h);return t}(e))),VG(t,["parts"],e)}const r=zG(e,["role"]);return null!=r&&VG(t,["role"],r),t}function sQ(e,t,n){const r=zG(t,["expireTime"]);void 0!==n&&null!=r&&VG(n,["expireTime"],r);const i=zG(t,["newSessionExpireTime"]);void 0!==n&&null!=i&&VG(n,["newSessionExpireTime"],i);const o=zG(t,["uses"]);void 0!==n&&null!=o&&VG(n,["uses"],o);const a=zG(t,["liveConnectConstraints"]);void 0!==n&&null!=a&&VG(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=zG(t,["model"]);null!=r&&VG(n,["setup","model"],CJ(e,r));const i=zG(t,["config"]);null!=i&&VG(n,["config"],function(e,t){const n={},r=zG(e,["generationConfig"]);void 0!==t&&null!=r&&VG(t,["setup","generationConfig"],r);const i=zG(e,["responseModalities"]);void 0!==t&&null!=i&&VG(t,["setup","generationConfig","responseModalities"],i);const o=zG(e,["temperature"]);void 0!==t&&null!=o&&VG(t,["setup","generationConfig","temperature"],o);const a=zG(e,["topP"]);void 0!==t&&null!=a&&VG(t,["setup","generationConfig","topP"],a);const s=zG(e,["topK"]);void 0!==t&&null!=s&&VG(t,["setup","generationConfig","topK"],s);const l=zG(e,["maxOutputTokens"]);void 0!==t&&null!=l&&VG(t,["setup","generationConfig","maxOutputTokens"],l);const u=zG(e,["mediaResolution"]);void 0!==t&&null!=u&&VG(t,["setup","generationConfig","mediaResolution"],u);const c=zG(e,["seed"]);void 0!==t&&null!=c&&VG(t,["setup","generationConfig","seed"],c);const d=zG(e,["speechConfig"]);void 0!==t&&null!=d&&VG(t,["setup","generationConfig","speechConfig"],$J(d));const h=zG(e,["thinkingConfig"]);void 0!==t&&null!=h&&VG(t,["setup","generationConfig","thinkingConfig"],h);const f=zG(e,["enableAffectiveDialog"]);void 0!==t&&null!=f&&VG(t,["setup","generationConfig","enableAffectiveDialog"],f);const p=zG(e,["systemInstruction"]);void 0!==t&&null!=p&&VG(t,["setup","systemInstruction"],aQ(FJ(p)));const m=zG(e,["tools"]);if(void 0!==t&&null!=m){let e=KJ(m);Array.isArray(e)&&(e=e.map(e=>function(e){const t={},n=zG(e,["functionDeclarations"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["functionDeclarations"],e)}if(void 0!==zG(e,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const r=zG(e,["googleSearchRetrieval"]);null!=r&&VG(t,["googleSearchRetrieval"],r);const i=zG(e,["computerUse"]);null!=i&&VG(t,["computerUse"],i);const o=zG(e,["fileSearch"]);null!=o&&VG(t,["fileSearch"],o);const a=zG(e,["codeExecution"]);null!=a&&VG(t,["codeExecution"],a);if(void 0!==zG(e,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=zG(e,["googleMaps"]);null!=s&&VG(t,["googleMaps"],function(e){const t={};if(void 0!==zG(e,["authConfig"]))throw new Error("authConfig parameter is not supported in Gemini API.");const n=zG(e,["enableWidget"]);null!=n&&VG(t,["enableWidget"],n);return t}(s));const l=zG(e,["googleSearch"]);null!=l&&VG(t,["googleSearch"],function(e){const t={};if(void 0!==zG(e,["excludeDomains"]))throw new Error("excludeDomains parameter is not supported in Gemini API.");if(void 0!==zG(e,["blockingConfidence"]))throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=zG(e,["timeRangeFilter"]);null!=n&&VG(t,["timeRangeFilter"],n);return t}(l));const u=zG(e,["urlContext"]);null!=u&&VG(t,["urlContext"],u);return t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(GJ(e)))),VG(t,["setup","tools"],e)}const g=zG(e,["sessionResumption"]);void 0!==t&&null!=g&&VG(t,["setup","sessionResumption"],function(e){const t={},n=zG(e,["handle"]);null!=n&&VG(t,["handle"],n);if(void 0!==zG(e,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return t}(g));const y=zG(e,["inputAudioTranscription"]);void 0!==t&&null!=y&&VG(t,["setup","inputAudioTranscription"],y);const v=zG(e,["outputAudioTranscription"]);void 0!==t&&null!=v&&VG(t,["setup","outputAudioTranscription"],v);const b=zG(e,["realtimeInputConfig"]);void 0!==t&&null!=b&&VG(t,["setup","realtimeInputConfig"],b);const w=zG(e,["contextWindowCompression"]);void 0!==t&&null!=w&&VG(t,["setup","contextWindowCompression"],w);const E=zG(e,["proactivity"]);void 0!==t&&null!=E&&VG(t,["setup","proactivity"],E);if(void 0!==zG(e,["explicitVadSignal"]))throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}(i,n));return n}(e,a));const s=zG(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&VG(n,["fieldMask"],s),{}}function lQ(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));const o=[];r&&o.push(r),n.length>0&&o.push(...n),o.length>0?e.fieldMask=o.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}class uQ extends UG{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=zG(t,["config"]);return null!=r&&VG(n,["config"],sQ(e,r,n)),n}(this.apiClient,e);i=FG("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const s=lQ(a,e.config);return r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cQ(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["_url","name"],n);const r=zG(e,["config"]);return null!=r&&function(e,t){const n=zG(e,["force"]);void 0!==t&&null!=n&&VG(t,["_query","force"],n)}(r,t),t}function dQ(e){const t={},n=zG(e,["parent"]);null!=n&&VG(t,["_url","parent"],n);const r=zG(e,["config"]);return null!=r&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r)}(r,t),t}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class hQ extends UG{constructor(e){super(),this.apiClient=e,this.list=async e=>new yY(QW.PAGED_ITEM_DOCUMENTS,t=>this.listInternal({parent:e.parent,config:t.config}),await this.listInternal(e),e)}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return i=FG("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=cQ(e);r=FG("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=dQ(e);return i=FG("{parent}/documents",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["documents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["documents"],e)}return t}(e),n=new yJ;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fQ extends UG{constructor(e,t=new hQ(e)){super(),this.apiClient=e,this.documents=t,this.list=async(e={})=>new yY(QW.PAGED_ITEM_FILE_SEARCH_STORES,e=>this.listInternal(e),await this.listInternal(e),e)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=MX(e);return i=FG("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return i=FG("{name}",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>e)}}async delete(e){var t,n;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=jX(e);r=FG("{name}",o._url),i=o._query,delete o._url,delete o._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal})}}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=FX(e);return i=FG("fileSearchStores",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["fileSearchStores"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["fileSearchStores"],e)}return t}(e),n=new vJ;return Object.assign(n,t),n})}}async uploadToFileSearchStoreInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e){const t={},n=zG(e,["fileSearchStoreName"]);null!=n&&VG(t,["_url","file_search_store_name"],n);const r=zG(e,["config"]);return null!=r&&VX(r,t),t}(e);return i=FG("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new bJ;return Object.assign(n,t),n})}}async importFile(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=UX(e);return i=FG("{file_search_store_name}:importFile",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=LX(e),n=new wJ;return Object.assign(n,t),n})}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pQ=function(){const{crypto:e}=globalThis;if(null==e?void 0:e.randomUUID)return pQ=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>(+e^n()&15>>+e/4).toString(16))};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function mQ(e){return"object"==typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const gQ=e=>{if(e instanceof Error)return e;if("object"==typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch(t){}try{return new Error(JSON.stringify(e))}catch(n){}}return new Error(e)};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yQ extends Error{}class vQ extends yQ{constructor(e,t,n,r){super(`${vQ.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=(null==t?void 0:t.message)?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new wQ({message:n,cause:gQ(t)});const i=t;return 400===e?new SQ(e,i,n,r):401===e?new _Q(e,i,n,r):403===e?new xQ(e,i,n,r):404===e?new TQ(e,i,n,r):409===e?new OQ(e,i,n,r):422===e?new IQ(e,i,n,r):429===e?new CQ(e,i,n,r):e>=500?new AQ(e,i,n,r):new vQ(e,i,n,r)}}class bQ extends vQ{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class wQ extends vQ{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class EQ extends wQ{constructor({message:e}={}){super({message:null!=e?e:"Request timed out."})}}class SQ extends vQ{}class _Q extends vQ{}class xQ extends vQ{}class TQ extends vQ{}class OQ extends vQ{}class IQ extends vQ{}class CQ extends vQ{}class AQ extends vQ{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kQ=/^[a-z][a-z0-9+.-]*:/i;let PQ=e=>(PQ=Array.isArray,PQ(e));const NQ=PQ;const RQ="0.0.1";const DQ=()=>{var e,t,n,r,i;const o="undefined"!=typeof Deno&&null!=Deno.build?"deno":"undefined"!=typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call(void 0!==globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":RQ,"X-Stainless-OS":jQ(Deno.build.os),"X-Stainless-Arch":MQ(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:null!==(t=null===(e=Deno.version)||void 0===e?void 0:e.deno)&&void 0!==t?t:"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":RQ,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===o)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":RQ,"X-Stainless-OS":jQ(null!==(n=globalThis.process.platform)&&void 0!==n?n:"unknown"),"X-Stainless-Arch":MQ(null!==(r=globalThis.process.arch)&&void 0!==r?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":null!==(i=globalThis.process.version)&&void 0!==i?i:"unknown"};const a=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":RQ,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":RQ,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const MQ=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",jQ=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let LQ;function UQ(...e){const t=globalThis.ReadableStream;if(void 0===t)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function FQ(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return UQ({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}function VQ(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return(null==e?void 0:e.done)&&t.releaseLock(),e}catch(eF){throw t.releaseLock(),eF}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const zQ=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)}),qQ=()=>{var e;if("undefined"==typeof File){const{process:t}=globalThis,n="string"==typeof(null===(e=null==t?void 0:t.versions)||void 0===e?void 0:e.node)&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BQ(e,t,n){return qQ(),new File(e,null!=t?t:"unknown_file",n)}const HQ=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer;
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $Q(e){var t,n,r,i,o;let a=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(HQ(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!(e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator])(e)){const t=null===(o=null==e?void 0:e.constructor)||void 0===o?void 0:o.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!=typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map(e=>`"${e}"`).join(", ")}]`}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e)}`)}try{for(var s,l=!0,u=PY(e);!(t=(s=await u.next()).done);l=!0){i=s.value,l=!1;const e=i;a.push(...await $Q(e))}}catch(c){n={error:c}}finally{try{l||t||!(r=u.return)||await r.call(u)}finally{if(n)throw n.error}}}return a}class GQ{constructor(e){this._client=e}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function KQ(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}GQ._key=[];const WQ=Object.freeze(Object.create(null)),JQ=(e=KQ)=>function(t,...n){if(1===t.length)return t[0];let r=!1;const i=[],o=t.reduce((t,o,a)=>{var s,l,u;/[?#]/.test(o)&&(r=!0);const c=n[a];let d=(r?encodeURIComponent:e)(""+c);return a!==n.length&&(null==c||"object"==typeof c&&c.toString===(null===(u=Object.getPrototypeOf(null!==(l=Object.getPrototypeOf(null!==(s=c.hasOwnProperty)&&void 0!==s?s:WQ))&&void 0!==l?l:WQ))||void 0===u?void 0:u.toString))&&(d=c+"",i.push({start:t.length+o.length,length:d.length,error:`Value of type ${Object.prototype.toString.call(c).slice(8,-1)} is not a valid path parameter`})),t+o+(a===n.length?"":d)},""),a=o.split(/[?#]/,1)[0],s=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let l;for(;null!==(l=s.exec(a));)i.push({start:l.index,length:l[0].length,error:`Value "${l[0]}" can't be safely passed as a path parameter`});if(i.sort((e,t)=>e.start-t.start),i.length>0){let e=0;const t=i.reduce((t,n)=>{const r=" ".repeat(n.start-e),i="^".repeat(n.length);return e=n.start+n.length,t+r+i},"");throw new yQ(`Path parameters result in path with invalid segments:\n${i.map(e=>e.error).join("\n")}\n${o}\n${t}`)}return o},YQ=JQ(KQ);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class XQ extends GQ{create(e,t){var n;const{api_version:r=this._client.apiVersion}=e,i=IY(e,["api_version"]);if("model"in i&&"agent_config"in i)throw new yQ("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in i&&"generation_config"in i)throw new yQ("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(YQ`/${r}/interactions`,Object.assign(Object.assign({body:i},t),{stream:null!==(n=e.stream)&&void 0!==n&&n}))}delete(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.delete(YQ`/${r}/interactions/${e}`,n)}cancel(e,t={},n){const{api_version:r=this._client.apiVersion}=null!=t?t:{};return this._client.post(YQ`/${r}/interactions/${e}/cancel`,n)}get(e,t={},n){var r;const i=null!=t?t:{},{api_version:o=this._client.apiVersion}=i,a=IY(i,["api_version"]);return this._client.get(YQ`/${o}/interactions/${e}`,Object.assign(Object.assign({query:a},n),{stream:null!==(r=null==t?void 0:t.stream)&&void 0!==r&&r}))}}XQ._key=Object.freeze(["interactions"]);class QQ extends XQ{}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ZQ,eZ;function tZ(e){let t;return(null!=ZQ?ZQ:(t=new globalThis.TextEncoder,ZQ=t.encode.bind(t)))(e)}function nZ(e){let t;return(null!=eZ?eZ:(t=new globalThis.TextDecoder,eZ=t.decode.bind(t)))(e)}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rZ{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?tZ(e):e;this.buffer=function(e){let t=0;for(const i of e)t+=i.length;const n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}([this.buffer,t]);const n=[];let r;for(;null!=(r=iZ(this.buffer,this.carriageReturnIndex));){if(r.carriage&&null==this.carriageReturnIndex){this.carriageReturnIndex=r.index;continue}if(null!=this.carriageReturnIndex&&(r.index!==this.carriageReturnIndex+1||r.carriage)){n.push(nZ(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const e=null!==this.carriageReturnIndex?r.preceding-1:r.preceding,t=nZ(this.buffer.subarray(0,e));n.push(t),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return n}flush(){return this.buffer.length?this.decode("\n"):[]}}function iZ(e,t){for(let n=null!=t?t:0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function oZ(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */rZ.NEWLINE_CHARS=new Set(["\n","\r"]),rZ.NEWLINE_REGEXP=/\r\n|[\n\r]/g;const aZ={off:0,error:200,warn:300,info:400,debug:500},sZ=(e,t,n)=>{var r,i;if(e)return r=aZ,i=e,Object.prototype.hasOwnProperty.call(r,i)?e:void hZ(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(aZ))}`)};function lZ(){}function uZ(e,t,n){return!t||aZ[e]>aZ[n]?lZ:t[e].bind(t)}const cZ={error:lZ,warn:lZ,info:lZ,debug:lZ};let dZ=new WeakMap;function hZ(e){var t;const n=e.logger,r=null!==(t=e.logLevel)&&void 0!==t?t:"off";if(!n)return cZ;const i=dZ.get(n);if(i&&i[0]===r)return i[1];const o={error:uZ("error",n,r),warn:uZ("warn",n,r),info:uZ("info",n,r),debug:uZ("debug",n,r)};return dZ.set(n,[r,o]),o}const fZ=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([e,t])=>[e,"x-goog-api-key"===e.toLowerCase()||"authorization"===e.toLowerCase()||"cookie"===e.toLowerCase()||"set-cookie"===e.toLowerCase()?"***":t]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pZ{constructor(e,t,n){this.iterator=e,this.controller=t,this.client=n}static fromSSEResponse(e,t,n){let r=!1;const i=n?hZ(n):console;return new pZ(function(){return kY(this,arguments,function*(){var n,o,a,s;if(r)throw new yQ("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let l=!1;try{try{for(var u,c=!0,d=PY(function(e,t){return kY(this,arguments,function*(){var n,r,i,o;if(!e.body){if(t.abort(),void 0!==globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new yQ("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new yQ("Attempted to iterate over a response with no body")}const a=new mZ,s=new rZ,l=VQ(e.body);try{for(var u,c=!0,d=PY(function(e){return kY(this,arguments,function*(){var t,n,r,i;let o=new Uint8Array;try{for(var a,s=!0,l=PY(e);!(t=(a=yield AY(l.next())).done);s=!0){i=a.value,s=!1;const e=i;if(null==e)continue;const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"==typeof e?tZ(e):e;let n,r=new Uint8Array(o.length+t.length);for(r.set(o),r.set(t,o.length),o=r;-1!==(n=oZ(o));)yield yield AY(o.slice(0,n)),o=o.slice(n)}}catch(u){n={error:u}}finally{try{s||t||!(r=l.return)||(yield AY(r.call(l)))}finally{if(n)throw n.error}}o.length>0&&(yield yield AY(o))})}(l));!(n=(u=yield AY(d.next())).done);c=!0){o=u.value,c=!1;const e=o;for(const t of s.decode(e)){const e=a.decode(t);e&&(yield yield AY(e))}}}catch(h){r={error:h}}finally{try{c||n||!(i=d.return)||(yield AY(i.call(d)))}finally{if(r)throw r.error}}for(const e of s.flush()){const t=a.decode(e);t&&(yield yield AY(t))}})}(e,t));!(n=(u=yield AY(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(!l)if(e.data.startsWith("[DONE]"))l=!0;else try{yield yield AY(JSON.parse(e.data))}catch(eF){throw i.error("Could not parse message into JSON:",e.data),i.error("From chunk:",e.raw),eF}}}catch(h){o={error:h}}finally{try{c||n||!(a=d.return)||(yield AY(a.call(d)))}finally{if(o)throw o.error}}l=!0}catch(eF){if(mQ(eF))return yield AY(void 0);throw eF}finally{l||t.abort()}})},t,n)}static fromReadableStream(e,t,n){let r=!1;return new pZ(function(){return kY(this,arguments,function*(){var n,i,o,a;if(r)throw new yQ("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let s=!1;try{try{for(var l,u=!0,c=PY(function(){return kY(this,arguments,function*(){var t,n,r,i;const o=new rZ,a=VQ(e);try{for(var s,l=!0,u=PY(a);!(t=(s=yield AY(u.next())).done);l=!0){i=s.value,l=!1;const e=i;for(const t of o.decode(e))yield yield AY(t)}}catch(c){n={error:c}}finally{try{l||t||!(r=u.return)||(yield AY(r.call(u)))}finally{if(n)throw n.error}}for(const e of o.flush())yield yield AY(e)})}());!(n=(l=yield AY(c.next())).done);u=!0){a=l.value,u=!1;const e=a;s||e&&(yield yield AY(JSON.parse(e)))}}catch(d){i={error:d}}finally{try{u||n||!(o=c.return)||(yield AY(o.call(c)))}finally{if(i)throw i.error}}s=!0}catch(eF){if(mQ(eF))return yield AY(void 0);throw eF}finally{s||t.abort()}})},t,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new pZ(()=>r(e),this.controller,this.client),new pZ(()=>r(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return UQ({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const i=tZ(JSON.stringify(n)+"\n");e.enqueue(i)}catch(n){e.error(n)}},async cancel(){var e;await(null===(e=t.return)||void 0===e?void 0:e.call(t))}})}}class mZ{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}async function gZ(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=t,a=await(async()=>{var r;if(t.options.stream)return hZ(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):pZ.fromSSEResponse(n,t.controller,e);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const i=n.headers.get("content-type"),o=null===(r=null==i?void 0:i.split(";")[0])||void 0===r?void 0:r.trim();if((null==o?void 0:o.includes("application/json"))||(null==o?void 0:o.endsWith("+json"))){return await n.json()}return await n.text()})();return hZ(e).debug(`[${r}] response parsed`,fZ({retryOfRequestLogID:i,url:n.url,status:n.status,body:a,durationMs:Date.now()-o})),a}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yZ extends Promise{constructor(e,t,n=gZ){super(e=>{e(null)}),this.responsePromise=t,this.parseResponse=n,this.client=e}_thenUnwrap(e){return new yZ(this.client,this.responsePromise,async(t,n)=>e(await this.parseResponse(t,n),n))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vZ=Symbol("brand.privateNullableHeaders");function*bZ(e){if(!e)return;if(vZ in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():NQ(e)?t=e:(n=!0,t=Object.entries(null!=e?e:{}));for(let r of t){const e=r[0];if("string"!=typeof e)throw new TypeError("expected header name to be a string");const t=NQ(r[1])?r[1]:[r[1]];let i=!1;for(const r of t)void 0!==r&&(n&&!i&&(i=!0,yield[e,null]),yield[e,r])}}const wZ=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[i,o]of bZ(r)){const r=i.toLowerCase();e.has(r)||(t.delete(i),e.add(r)),null===o?(t.delete(i),n.add(r)):(t.append(i,o),n.delete(r))}}return{[vZ]:!0,values:t,nulls:n}},EZ=e=>{var t,n,r,i,o,a;return void 0!==globalThis.process?null!==(r=null===(n=null===(t=DG)||void 0===t?void 0:t[e])||void 0===n?void 0:n.trim())&&void 0!==r?r:void 0:void 0!==globalThis.Deno?null===(a=null===(o=null===(i=globalThis.Deno.env)||void 0===i?void 0:i.get)||void 0===o?void 0:o.call(i,e))||void 0===a?void 0:a.trim():void 0};
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var SZ;class _Z{constructor(e){var t,n,r,i,o,a,s,{baseURL:l=EZ("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:u=(null!==(t=EZ("GEMINI_API_KEY"))&&void 0!==t?t:null),apiVersion:c="v1beta"}=e,d=IY(e,["baseURL","apiKey","apiVersion"]);const h=Object.assign(Object.assign({apiKey:u,apiVersion:c},d),{baseURL:l||"https://generativelanguage.googleapis.com"});this.baseURL=h.baseURL,this.timeout=null!==(n=h.timeout)&&void 0!==n?n:_Z.DEFAULT_TIMEOUT,this.logger=null!==(r=h.logger)&&void 0!==r?r:console;const f="warn";this.logLevel=f,this.logLevel=null!==(o=null!==(i=sZ(h.logLevel,"ClientOptions.logLevel",this))&&void 0!==i?i:sZ(EZ("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))&&void 0!==o?o:f,this.fetchOptions=h.fetchOptions,this.maxRetries=null!==(a=h.maxRetries)&&void 0!==a?a:2,this.fetch=null!==(s=h.fetch)&&void 0!==s?s:
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(){if("undefined"!=typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),this.encoder=zQ,this._options=h,this.apiKey=u,this.apiVersion=c,this.clientAdapter=h.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return"https://generativelanguage.googleapis.com"!==this.baseURL}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!e.has("authorization")&&!e.has("x-goog-api-key")&&!(this.apiKey&&e.get("x-goog-api-key")||t.has("x-goog-api-key")))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=wZ([e.headers]);if(!t.values.has("authorization")&&!t.values.has("x-goog-api-key"))return this.apiKey?wZ([{"x-goog-api-key":this.apiKey}]):this.clientAdapter.isVertexAI()?wZ([await this.clientAdapter.getAuthHeaders()]):void 0}stringifyQuery(e){return Object.entries(e).filter(([e,t])=>void 0!==t).map(([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new yQ(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${RQ}`}defaultIdempotencyKey(){return`stainless-node-retry-${pQ()}`}makeStatusError(e,t,n,r){return vQ.generate(e,t,n,r)}buildURL(e,t,n){const r=!this.baseURLOverridden()&&n||this.baseURL,i=(e=>kQ.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),o=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(o)||(t=Object.assign(Object.assign({},o),t)),"object"==typeof t&&t&&!Array.isArray(t)&&(i.search=this.stringifyQuery(t)),i.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:n}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then(n=>Object.assign({method:e,path:t},n)))}request(e,t=null){return new yZ(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){var r,i,o;const a=await e,s=null!==(r=a.maxRetries)&&void 0!==r?r:this.maxRetries;null==t&&(t=s),await this.prepareOptions(a);const{req:l,url:u,timeout:c}=await this.buildRequest(a,{retryCount:s-t});await this.prepareRequest(l,{url:u,options:a});const d="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=void 0===n?"":`, retryOf: ${n}`,f=Date.now();if(hZ(this).debug(`[${d}] sending request`,fZ({retryOfRequestLogID:n,method:a.method,url:u,options:a,headers:l.headers})),null===(i=a.signal)||void 0===i?void 0:i.aborted)throw new bQ;const p=new AbortController,m=await this.fetchWithTimeout(u,l,c,p).catch(gQ),g=Date.now();if(m instanceof globalThis.Error){const e=`retrying, ${t} attempts remaining`;if(null===(o=a.signal)||void 0===o?void 0:o.aborted)throw new bQ;const r=mQ(m)||/timed? ?out/i.test(String(m)+("cause"in m?String(m.cause):""));if(t)return hZ(this).info(`[${d}] connection ${r?"timed out":"failed"} - ${e}`),hZ(this).debug(`[${d}] connection ${r?"timed out":"failed"} (${e})`,fZ({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),this.retryRequest(a,t,null!=n?n:d);if(hZ(this).info(`[${d}] connection ${r?"timed out":"failed"} - error; no more retries left`),hZ(this).debug(`[${d}] connection ${r?"timed out":"failed"} (error; no more retries left)`,fZ({retryOfRequestLogID:n,url:u,durationMs:g-f,message:m.message})),r)throw new EQ;throw new wQ({cause:m})}const y=`[${d}${h}] ${l.method} ${u} ${m.ok?"succeeded":"failed"} with status ${m.status} in ${g-f}ms`;if(!m.ok){const e=await this.shouldRetry(m);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){var t,n;if(null===e||"object"!=typeof e)return;if(e[Symbol.asyncIterator])return void(await(null===(n=(t=e[Symbol.asyncIterator]()).return)||void 0===n?void 0:n.call(t)));const r=e.getReader(),i=r.cancel();r.releaseLock(),await i}(m.body),hZ(this).info(`${y} - ${e}`),hZ(this).debug(`[${d}] response error (${e})`,fZ({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),this.retryRequest(a,t,null!=n?n:d,m.headers)}const r=e?"error; no more retries left":"error; not retryable";hZ(this).info(`${y} - ${r}`);const i=await m.text().catch(e=>gQ(e).message),o=(e=>{try{return JSON.parse(e)}catch(t){return}})(i),s=o?void 0:i;hZ(this).debug(`[${d}] response error (${r})`,fZ({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,message:s,durationMs:Date.now()-f}));throw this.makeStatusError(m.status,o,s,m.headers)}return hZ(this).info(y),hZ(this).debug(`[${d}] response start`,fZ({retryOfRequestLogID:n,url:m.url,status:m.status,headers:m.headers,durationMs:g-f})),{response:m,options:a,controller:p,requestLogID:d,retryOfRequestLogID:n,startTime:f}}async fetchWithTimeout(e,t,n,r){const i=t||{},{signal:o,method:a}=i,s=IY(i,["signal","method"]);o&&o.addEventListener("abort",()=>r.abort());const l=setTimeout(()=>r.abort(),n),u=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||"object"==typeof s.body&&null!==s.body&&Symbol.asyncIterator in s.body,c=Object.assign(Object.assign(Object.assign({signal:r.signal},u?{duplex:"half"}:{}),{method:"GET"}),s);a&&(c.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,c)}finally{clearTimeout(l)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){var i;let o;const a=null==r?void 0:r.get("retry-after-ms");if(a){const e=parseFloat(a);Number.isNaN(e)||(o=e)}const s=null==r?void 0:r.get("retry-after");if(s&&!o){const e=parseFloat(s);o=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const n=null!==(i=e.maxRetries)&&void 0!==i?i:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}var l;return await(l=o,new Promise(e=>setTimeout(e,l))),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}async buildRequest(e,{retryCount:t=0}={}){var n,r,i;const o=Object.assign({},e),{method:a,path:s,query:l,defaultBaseURL:u}=o,c=this.buildURL(s,l,u);"timeout"in o&&((e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new yQ(`${e} must be an integer`);if(t<0)throw new yQ(`${e} must be a positive integer`)})("timeout",o.timeout),o.timeout=null!==(n=o.timeout)&&void 0!==n?n:this.timeout;const{bodyHeaders:d,body:h}=this.buildBody({options:o}),f=await this.buildHeaders({options:e,method:a,bodyHeaders:d,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:a,headers:f},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),null!==(r=this.fetchOptions)&&void 0!==r?r:{}),null!==(i=o.fetchOptions)&&void 0!==i?i:{}),url:c,timeout:o.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:n,retryCount:r}){let i={};this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const o=await this.authHeaders(e);let a=wZ([i,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),null!=LQ?LQ:LQ=DQ()),this._options.defaultHeaders,n,e.headers,o]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=wZ([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||"string"==typeof e&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:"object"==typeof e&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&"function"==typeof e.next)?{bodyHeaders:void 0,body:FQ(e)}:this.encoder({body:e,headers:n})}}_Z.DEFAULT_TIMEOUT=6e4;class xZ extends _Z{constructor(){super(...arguments),this.interactions=new QQ(this)}}function TZ(e,t){const n={},r=zG(e,["baseModel"]);null!=r&&VG(n,["baseModel"],r);const i=zG(e,["preTunedModel"]);null!=i&&VG(n,["preTunedModel"],i);const o=zG(e,["trainingDataset"]);null!=o&&function(e){const t={};if(void 0!==zG(e,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");if(void 0!==zG(e,["vertexDatasetResource"]))throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=zG(e,["examples"]);if(null!=n){let e=n;Array.isArray(e)&&(e=e.map(e=>e)),VG(t,["examples","examples"],e)}}(o);const a=zG(e,["config"]);return null!=a&&function(e,t){const n={};if(void 0!==zG(e,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const r=zG(e,["tunedModelDisplayName"]);if(void 0!==t&&null!=r&&VG(t,["displayName"],r),void 0!==zG(e,["description"]))throw new Error("description parameter is not supported in Gemini API.");const i=zG(e,["epochCount"]);void 0!==t&&null!=i&&VG(t,["tuningTask","hyperparameters","epochCount"],i);const o=zG(e,["learningRateMultiplier"]);if(null!=o&&VG(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),void 0!==zG(e,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==zG(e,["preTunedModelCheckpointId"]))throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(void 0!==zG(e,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=zG(e,["batchSize"]);void 0!==t&&null!=a&&VG(t,["tuningTask","hyperparameters","batchSize"],a);const s=zG(e,["learningRate"]);if(void 0!==t&&null!=s&&VG(t,["tuningTask","hyperparameters","learningRate"],s),void 0!==zG(e,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");if(void 0!==zG(e,["beta"]))throw new Error("beta parameter is not supported in Gemini API.")}(a,n),n}function OZ(e,t){const n={},r=zG(e,["baseModel"]);null!=r&&VG(n,["baseModel"],r);const i=zG(e,["preTunedModel"]);null!=i&&VG(n,["preTunedModel"],i);const o=zG(e,["trainingDataset"]);null!=o&&function(e,t,n){const r={};let i=zG(n,["config","method"]);void 0===i&&(i="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===i){const n=zG(e,["gcsUri"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===i){const n=zG(e,["gcsUri"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}let o=zG(n,["config","method"]);void 0===o&&(o="SUPERVISED_FINE_TUNING");if("SUPERVISED_FINE_TUNING"===o){const n=zG(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","trainingDatasetUri"],n)}else if("PREFERENCE_TUNING"===o){const n=zG(e,["vertexDatasetResource"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","trainingDatasetUri"],n)}if(void 0!==zG(e,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.")}(o,n,t);const a=zG(e,["config"]);return null!=a&&function(e,t,n){let r=zG(n,["config","method"]);if(void 0===r&&(r="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===r){const n=zG(e,["validationDataset"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec"],PZ(n))}else if("PREFERENCE_TUNING"===r){const n=zG(e,["validationDataset"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec"],PZ(n))}const i=zG(e,["tunedModelDisplayName"]);void 0!==t&&null!=i&&VG(t,["tunedModelDisplayName"],i);const o=zG(e,["description"]);void 0!==t&&null!=o&&VG(t,["description"],o);let a=zG(n,["config","method"]);if(void 0===a&&(a="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===a){const n=zG(e,["epochCount"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","hyperParameters","epochCount"],n)}else if("PREFERENCE_TUNING"===a){const n=zG(e,["epochCount"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],n)}let s=zG(n,["config","method"]);if(void 0===s&&(s="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===s){const n=zG(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],n)}else if("PREFERENCE_TUNING"===s){const n=zG(e,["learningRateMultiplier"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],n)}let l=zG(n,["config","method"]);if(void 0===l&&(l="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===l){const n=zG(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","exportLastCheckpointOnly"],n)}else if("PREFERENCE_TUNING"===l){const n=zG(e,["exportLastCheckpointOnly"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],n)}let u=zG(n,["config","method"]);if(void 0===u&&(u="SUPERVISED_FINE_TUNING"),"SUPERVISED_FINE_TUNING"===u){const n=zG(e,["adapterSize"]);void 0!==t&&null!=n&&VG(t,["supervisedTuningSpec","hyperParameters","adapterSize"],n)}else if("PREFERENCE_TUNING"===u){const n=zG(e,["adapterSize"]);void 0!==t&&null!=n&&VG(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],n)}if(void 0!==zG(e,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==zG(e,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");const c=zG(e,["labels"]);void 0!==t&&null!=c&&VG(t,["labels"],c);const d=zG(e,["beta"]);void 0!==t&&null!=d&&VG(t,["preferenceOptimizationSpec","hyperParameters","beta"],d)}(a,n,t),n}function IZ(e,t){const n={},r=zG(e,["config"]);return null!=r&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r);const i=zG(e,["filter"]);void 0!==t&&null!=i&&VG(t,["_query","filter"],i)}(r,n),n}function CZ(e,t){const n={},r=zG(e,["config"]);return null!=r&&function(e,t){const n=zG(e,["pageSize"]);void 0!==t&&null!=n&&VG(t,["_query","pageSize"],n);const r=zG(e,["pageToken"]);void 0!==t&&null!=r&&VG(t,["_query","pageToken"],r);const i=zG(e,["filter"]);void 0!==t&&null!=i&&VG(t,["_query","filter"],i)}(r,n),n}function AZ(e,t){const n={},r=zG(e,["sdkHttpResponse"]);null!=r&&VG(n,["sdkHttpResponse"],r);const i=zG(e,["name"]);null!=i&&VG(n,["name"],i);const o=zG(e,["state"]);null!=o&&VG(n,["state"],JJ(o));const a=zG(e,["createTime"]);null!=a&&VG(n,["createTime"],a);const s=zG(e,["tuningTask","startTime"]);null!=s&&VG(n,["startTime"],s);const l=zG(e,["tuningTask","completeTime"]);null!=l&&VG(n,["endTime"],l);const u=zG(e,["updateTime"]);null!=u&&VG(n,["updateTime"],u);const c=zG(e,["description"]);null!=c&&VG(n,["description"],c);const d=zG(e,["baseModel"]);null!=d&&VG(n,["baseModel"],d);const h=zG(e,["_self"]);return null!=h&&VG(n,["tunedModel"],function(e){const t={},n=zG(e,["name"]);null!=n&&VG(t,["model"],n);const r=zG(e,["name"]);return null!=r&&VG(t,["endpoint"],r),t}(h)),n}function kZ(e,t){const n={},r=zG(e,["sdkHttpResponse"]);null!=r&&VG(n,["sdkHttpResponse"],r);const i=zG(e,["name"]);null!=i&&VG(n,["name"],i);const o=zG(e,["state"]);null!=o&&VG(n,["state"],JJ(o));const a=zG(e,["createTime"]);null!=a&&VG(n,["createTime"],a);const s=zG(e,["startTime"]);null!=s&&VG(n,["startTime"],s);const l=zG(e,["endTime"]);null!=l&&VG(n,["endTime"],l);const u=zG(e,["updateTime"]);null!=u&&VG(n,["updateTime"],u);const c=zG(e,["error"]);null!=c&&VG(n,["error"],c);const d=zG(e,["description"]);null!=d&&VG(n,["description"],d);const h=zG(e,["baseModel"]);null!=h&&VG(n,["baseModel"],h);const f=zG(e,["tunedModel"]);null!=f&&VG(n,["tunedModel"],f);const p=zG(e,["preTunedModel"]);null!=p&&VG(n,["preTunedModel"],p);const m=zG(e,["supervisedTuningSpec"]);null!=m&&VG(n,["supervisedTuningSpec"],m);const g=zG(e,["preferenceOptimizationSpec"]);null!=g&&VG(n,["preferenceOptimizationSpec"],g);const y=zG(e,["tuningDataStats"]);null!=y&&VG(n,["tuningDataStats"],y);const v=zG(e,["encryptionSpec"]);null!=v&&VG(n,["encryptionSpec"],v);const b=zG(e,["partnerModelTuningSpec"]);null!=b&&VG(n,["partnerModelTuningSpec"],b);const w=zG(e,["customBaseModel"]);null!=w&&VG(n,["customBaseModel"],w);const E=zG(e,["experiment"]);null!=E&&VG(n,["experiment"],E);const S=zG(e,["labels"]);null!=S&&VG(n,["labels"],S);const _=zG(e,["outputUri"]);null!=_&&VG(n,["outputUri"],_);const x=zG(e,["pipelineJob"]);null!=x&&VG(n,["pipelineJob"],x);const T=zG(e,["serviceAccount"]);null!=T&&VG(n,["serviceAccount"],T);const O=zG(e,["tunedModelDisplayName"]);null!=O&&VG(n,["tunedModelDisplayName"],O);const I=zG(e,["veoTuningSpec"]);return null!=I&&VG(n,["veoTuningSpec"],I),n}function PZ(e,t){const n={},r=zG(e,["gcsUri"]);null!=r&&VG(n,["validationDatasetUri"],r);const i=zG(e,["vertexDatasetResource"]);return null!=i&&VG(n,["validationDatasetUri"],i),n}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */SZ=xZ,xZ.GeminiNextGenAPIClient=SZ,xZ.GeminiNextGenAPIClientError=yQ,xZ.APIError=vQ,xZ.APIConnectionError=wQ,xZ.APIConnectionTimeoutError=EQ,xZ.APIUserAbortError=bQ,xZ.NotFoundError=TQ,xZ.ConflictError=OQ,xZ.RateLimitError=CQ,xZ.BadRequestError=SQ,xZ.AuthenticationError=_Q,xZ.InternalServerError=AQ,xZ.PermissionDeniedError=xQ,xZ.UnprocessableEntityError=IQ,xZ.toFile=async function(e,t,n){if(qQ(),(e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&HQ(e))(e=await e))return e instanceof File?e:BQ([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),BQ(await $Q(r),t,n)}const r=await $Q(e);if(t||(t=function(e){return("object"==typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}(e)),!(null==n?void 0:n.type)){const e=r.find(e=>"object"==typeof e&&"type"in e&&e.type);"string"==typeof e&&(n=Object.assign(Object.assign({},n),{type:e}))}return BQ(r,t,n)},xZ.Interactions=QQ;class NZ extends UG{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new yY(QW.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.get=async e=>await this.getInternal(e),this.tune=async e=>{var t;if(this.apiClient.isVertexAI()){if(e.baseModel.startsWith("projects/")){const n={tunedModelName:e.baseModel};(null===(t=e.config)||void 0===t?void 0:t.preTunedModelCheckpointId)&&(n.checkpointId=e.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},e),{preTunedModel:n});return r.baseModel=void 0,await this.tuneInternal(r)}{const t=Object.assign({},e);return await this.tuneInternal(t)}}{const t=Object.assign({},e),n=await this.tuneMldevInternal(t);let r="";void 0!==n.metadata&&void 0!==n.metadata.tunedModel?r=n.metadata.tunedModel:void 0!==n.name&&n.name.includes("/operations/")&&(r=n.name.split("/operations/")[0]);return{name:r,state:VK.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return a=FG("{name}",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>kZ(e))}{const t=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return a=FG("{name}",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>AZ(e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=CZ(e);return a=FG("tuningJobs",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>kZ(e))),VG(t,["tuningJobs"],e)}return t}(e),n=new fJ;return Object.assign(n,t),n})}{const t=IZ(e);return a=FG("tunedModels",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["nextPageToken"]);null!=r&&VG(t,["nextPageToken"],r);const i=zG(e,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>AZ(e))),VG(t,["tuningJobs"],e)}return t}(e),n=new fJ;return Object.assign(n,t),n})}}async cancel(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return a=FG("{name}:cancel",r._url),s=r._query,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new pJ;return Object.assign(n,t),n})}{const t=
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
function(e){const t={},n=zG(e,["name"]);return null!=n&&VG(t,["_url","name"],n),t}(e);return a=FG("{name}:cancel",t._url),s=t._query,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),o.then(e=>{const t=function(e){const t={},n=zG(e,["sdkHttpResponse"]);return null!=n&&VG(t,["sdkHttpResponse"],n),t}(e),n=new pJ;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=OZ(e,e);return i=FG("tuningJobs",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>kZ(e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=TZ(e);return i=FG("tunedModels",a._url),o=a._query,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json().then(t=>{const n=t;return n.sdkHttpResponse={headers:e.headers},n})),r.then(e=>function(e){const t={},n=zG(e,["sdkHttpResponse"]);null!=n&&VG(t,["sdkHttpResponse"],n);const r=zG(e,["name"]);null!=r&&VG(t,["name"],r);const i=zG(e,["metadata"]);null!=i&&VG(t,["metadata"],i);const o=zG(e,["done"]);null!=o&&VG(t,["done"],o);const a=zG(e,["error"]);return null!=a&&VG(t,["error"],a),t}(e))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RZ{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const DZ="x-goog-upload-status";async function MZ(e,t,n){var r,i;let o=0,a=0,s=new eJ(new Response),l="upload";for(o=e.size;a<o;){const u=Math.min(8388608,o-a),c=e.slice(a,a+u);a+u>=o&&(l+=", finalize");let d=0,h=1e3;for(;d<3&&(s=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(a),"Content-Length":String(u)}}}),!(null===(r=null==s?void 0:s.headers)||void 0===r?void 0:r[DZ]));)d++,await jZ(h),h*=2;if(a+=u,"active"!==(null===(i=null==s?void 0:s.headers)||void 0===i?void 0:i[DZ]))break;if(o<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return s}function jZ(e){return new Promise(t=>setTimeout(t,e))}class LZ{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const i=await MZ(e,t,n),o=await(null==i?void 0:i.json());if("final"!==(null===(r=null==i?void 0:i.headers)||void 0===r?void 0:r[DZ]))throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}(e,t,n)}async uploadToFileSearchStore(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r;const i=await MZ(e,t,n),o=await(null==i?void 0:i.json());if("final"!==(null===(r=null==i?void 0:i.headers)||void 0===r?void 0:r[DZ]))throw new Error("Failed to upload file: Upload status is not finalized.");const a=KG(o),s=new IJ;return Object.assign(s,a),s}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UZ{create(e,t,n){return new FZ(e,t,n)}}class FZ{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VZ="x-goog-api-key";class zZ{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(null===e.get(VZ)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(VZ,this.apiKey)}}}
/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qZ{get interactions(){if(void 0!==this._interactions)return this._interactions;const e=this.httpOptions;null==e||e.extraBody;const t=new xZ({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:null==e?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=LG(e.httpOptions,e.vertexai,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new zZ(this.apiKey);this.apiClient=new qX({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:"gl-node/web",uploader:new LZ,downloader:new RZ}),this.models=new iQ(this.apiClient),this.live=new XX(this.apiClient,r,new UZ),this.batches=new vY(this.apiClient),this.chats=new MY(this.models,this.apiClient),this.caches=new OY(this.apiClient),this.files=new FY(this.apiClient),this.operations=new oQ(this.apiClient),this.authTokens=new uQ(this.apiClient),this.tunings=new NZ(this.apiClient),this.fileSearchStores=new fQ(this.apiClient)}}const BZ=({transactions:e,accounts:t})=>{const[n,r]=m.useState(!1),[i,o]=m.useState(null),a=async()=>{r(!0);const n=await(async(e,t,n)=>{var r;const i=new qZ({apiKey:"AIzaSyBQXA-2vbT1K-5OA13uoPxVsBppabJQSyk"}),o=e.map(e=>{const r=t.find(t=>t.id===e.categoryId),i=n.find(t=>t.id===e.accountId);return`${e.date}: ${"INCOME"===e.type?"":""} ${e.amount} (${(null==r?void 0:r.name)||""}) : ${(null==i?void 0:i.name)||""} : ${e.note}`}).join("\n");try{const e=null==(r=(await i.models.generateContent({model:"gemini-3-pro-preview",contents:`\n${o}`,config:{systemInstruction:"1-100\n  \n  1. \n  2. \n  3.  1-100 \n   JSON ",responseMimeType:"application/json",responseSchema:{type:eK.OBJECT,properties:{analysis:{type:eK.STRING},recommendations:{type:eK.ARRAY,items:{type:eK.STRING}},score:{type:eK.NUMBER}},required:["analysis","recommendations","score"]}}})).text)?void 0:r.trim();if(!e)throw new Error("Model returned empty response");return JSON.parse(e)}catch(a){return{analysis:"AI ",recommendations:[""," API "],score:0}}})(e,Om,t);o(n),r(!1)};return c.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-10 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-indigo-600 rounded-3xl flex items-center justify-center text-white text-3xl mx-auto mb-4 shadow-xl shadow-indigo-200",children:c.jsx("i",{className:"fas fa-robot"})}),c.jsx("h2",{className:"text-3xl font-bold text-slate-800",children:"AI "}),c.jsx("p",{className:"text-slate-500 mt-2",children:"Gemini "})]}),!i&&!n&&c.jsxs("div",{className:"bg-white p-12 rounded-3xl shadow-sm border border-slate-100 text-center",children:[c.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-4",children:""}),c.jsx("p",{className:"text-slate-500 mb-8 max-w-md mx-auto",children:" AI "}),c.jsx("button",{onClick:a,className:"px-8 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-bold text-lg shadow-lg shadow-indigo-100 transition-all transform hover:-translate-y-1",children:""})]}),n&&c.jsxs("div",{className:"bg-white p-12 rounded-3xl shadow-sm border border-slate-100 text-center",children:[c.jsx("div",{className:"flex justify-center mb-6",children:c.jsx("div",{className:"animate-spin text-4xl text-indigo-500",children:c.jsx("i",{className:"fas fa-circle-notch"})})}),c.jsx("h3",{className:"text-xl font-bold text-slate-700 mb-2",children:"..."}),c.jsx("p",{className:"text-slate-400",children:""})]}),i&&!n&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 bg-white p-8 rounded-3xl shadow-sm border border-slate-100",children:[c.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-chart-pie text-indigo-500"})," "]}),c.jsxs("p",{className:"text-slate-600 leading-relaxed text-lg italic",children:['"',i.analysis,'"']})]}),c.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-sm border border-slate-100 flex flex-col items-center justify-center text-center",children:[c.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-2",children:""}),c.jsxs("div",{className:"relative flex items-center justify-center",children:[c.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",children:[c.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-slate-100"}),c.jsx("circle",{cx:"64",cy:"64",r:"58",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:364.4,strokeDashoffset:364.4-364.4*i.score/100,className:"text-indigo-600"})]}),c.jsx("span",{className:"absolute text-3xl font-black text-slate-800",children:i.score})]})]})]}),c.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-3xl shadow-xl",children:[c.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("i",{className:"fas fa-lightbulb text-amber-400"})," AI "]}),c.jsx("div",{className:"space-y-4",children:i.recommendations.map((e,t)=>c.jsxs("div",{className:"flex gap-4 items-start bg-slate-800/50 p-4 rounded-2xl border border-slate-700",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex-shrink-0 flex items-center justify-center font-bold text-sm",children:t+1}),c.jsx("p",{className:"text-slate-300 font-medium",children:e})]},t))})]}),c.jsxs("button",{onClick:a,className:"w-full py-4 text-indigo-600 font-bold hover:bg-indigo-50 rounded-2xl transition-colors flex items-center justify-center gap-2",children:[c.jsx("i",{className:"fas fa-sync-alt"})," "]})]})]})},HZ=()=>{const[e,t]=m.useState(null),[n,r]=m.useState(!0),[i,o]=m.useState([]),[a,s]=m.useState([]);m.useEffect(()=>{const e=Nm(e=>{t(e),r(!1)});return()=>e()},[]);m.useEffect(()=>{(async()=>{if(e){const t=await jm(e.id),n=await Fm(e.id);o(t),s(n)}})()},[e]);return n?c.jsx("div",{className:"h-screen flex items-center justify-center bg-slate-900 text-white font-bold",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"animate-spin text-4xl text-emerald-500",children:c.jsx("i",{className:"fas fa-circle-notch"})}),c.jsx("p",{className:"tracking-widest",children:"..."})]})}):e?c.jsx(yt,{children:c.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[c.jsxs("aside",{className:"w-64 bg-slate-900 text-white flex flex-col hidden md:flex",children:[c.jsxs("div",{className:"p-8",children:[c.jsxs("h1",{className:"text-2xl font-black flex items-center gap-3",children:[c.jsx("i",{className:"fas fa-chart-pie text-emerald-400"}),"FinVue AI"]}),Tm&&c.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 px-2 py-0.5 rounded bg-amber-500/10 text-amber-500 text-[10px] font-bold border border-amber-500/20",children:[c.jsx("i",{className:"fas fa-flask"})," DEMO MODE"]})]}),c.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[c.jsx($Z,{to:"/",icon:"fa-th-large",label:""}),c.jsx($Z,{to:"/accounts",icon:"fa-university",label:""}),c.jsx($Z,{to:"/transactions",icon:"fa-exchange-alt",label:""}),c.jsx($Z,{to:"/ai-advisor",icon:"fa-robot",label:"AI "})]}),c.jsxs("div",{className:"p-6 mt-auto border-t border-slate-800/50",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-xs font-bold",children:e.displayName.charAt(0)}),c.jsxs("div",{className:"flex-1 overflow-hidden",children:[c.jsx("p",{className:"text-sm font-bold truncate",children:e.displayName}),c.jsx("p",{className:"text-[10px] text-slate-500 truncate",children:e.email})]})]}),c.jsxs("button",{onClick:()=>Mm(),className:"w-full py-2.5 px-4 rounded-xl bg-slate-800 hover:bg-rose-900/20 text-slate-400 hover:text-rose-400 transition-all flex items-center justify-center gap-2 text-xs font-bold",children:[c.jsx("i",{className:"fas fa-sign-out-alt"})," "]})]})]}),c.jsxs("main",{className:"flex-1 overflow-y-auto relative",children:[c.jsxs(Je,{children:[c.jsx(Ke,{path:"/",element:c.jsx(CG,{accounts:i,transactions:a})}),c.jsx(Ke,{path:"/accounts",element:c.jsx(kG,{accounts:i,onUpdate:async t=>{e&&(o(t),Tm&&await Lm(e.id,{},t))},userId:e.id})}),c.jsx(Ke,{path:"/transactions",element:c.jsx(PG,{transactions:a,accounts:i,onUpdate:async t=>{e&&(s(t),Tm&&await Vm(e.id,{},t))},userId:e.id})}),c.jsx(Ke,{path:"/ai-advisor",element:c.jsx(BZ,{transactions:a,accounts:i})}),c.jsx(Ke,{path:"*",element:c.jsx(Ge,{to:"/"})})]}),c.jsxs("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-slate-200 px-6 py-3 flex justify-between items-center z-50",children:[c.jsx(GZ,{to:"/",icon:"fa-th-large"}),c.jsx(GZ,{to:"/accounts",icon:"fa-university"}),c.jsx(GZ,{to:"/transactions",icon:"fa-exchange-alt"}),c.jsx(GZ,{to:"/ai-advisor",icon:"fa-robot"})]})]})]})}):c.jsx(yt,{children:c.jsxs(Je,{children:[c.jsx(Ke,{path:"/login",element:c.jsx(NG,{onLogin:t})}),c.jsx(Ke,{path:"/register",element:c.jsx(RG,{onRegister:t})}),c.jsx(Ke,{path:"*",element:c.jsx(Ge,{to:"/login"})})]})})},$Z=({to:e,icon:t,label:n})=>c.jsxs(bt,{to:e,className:"flex items-center gap-3 px-4 py-3 rounded-xl hover:bg-slate-800/50 transition-all group",children:[c.jsx("i",{className:`fas ${t} text-slate-500 group-hover:text-emerald-400 w-5 transition-colors`}),c.jsx("span",{className:"font-bold text-slate-300 group-hover:text-white transition-colors",children:n})]}),GZ=({to:e,icon:t})=>c.jsx(bt,{to:e,className:"p-3 text-slate-400 hover:text-emerald-500 transition-colors",children:c.jsx("i",{className:`fas ${t} text-xl`})}),KZ=document.getElementById("root");if(!KZ)throw new Error("Could not find root element to mount to");D.createRoot(KZ).render(c.jsx(g.StrictMode,{children:c.jsx(HZ,{})}));
